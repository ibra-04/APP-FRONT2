(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{4:function(module,exports){},5:function(module,exports){},6:function(module,exports){},"6MUB":function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?Object.keys(obj).map((function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return Array.isArray(obj[k])?obj[k].map((function(v){return ks+encodeURIComponent(stringifyPrimitive(v))})).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))})).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""}},7:function(module,exports){},CxY0:function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__("rWzI"),util=__webpack_require__("Nehr");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=urlParse,exports.resolve=function(source,relative){return urlParse(source,!1,!0).resolve(relative)},exports.resolveObject=function(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative},exports.format=function(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)},exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=__webpack_require__("r8II");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=url=uSplit.join(splitter);if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var auth,atSign,hostEnd=-1,i=0;i<hostEndingChars.length;i++)-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);for(-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1,i=0;i<nonHostChars.length;i++){var hec;-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),l=(i=0,hostparts.length);i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");return-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)})))+(search=search.replace("#","%23"))+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}return result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,(result.pathname||result.search)&&(result.path=(result.pathname||"")+(result.search||"")),result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],psychotic=(relPath=relative.pathname&&relative.pathname.split("/")||[],result.protocol&&!slashedProtocol[result.protocol]);if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search))return psychotic&&(result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())),result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result;if(!srcPath.length)return result.pathname=null,result.path=result.search?"/"+result.search:null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)"."===(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);return psychotic&&(result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())),(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},Nehr:function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},YcCt:function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep=sep||"&");var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?Array.isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj}},YuTi:function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},ebaH:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__("8Y7J");class GestionFormateurModule{}var router_ngfactory=__webpack_require__("pMnS"),fesm2015_router=__webpack_require__("iInd"),common=__webpack_require__("SVse"),swimlane_ngx_datatable_ngfactory=__webpack_require__("l90o"),swimlane_ngx_datatable=__webpack_require__("w9WL"),Gestion_formateur_service=__webpack_require__("owVE"),dynamic_script_loader_service=__webpack_require__("cpNI");class ListeFormateurComponent{constructor(dynamicScriptLoader,fb,formateurService,router){this.dynamicScriptLoader=dynamicScriptLoader,this.fb=fb,this.formateurService=formateurService,this.router=router,this.rows=[],this.selectedName="",this.formData=[],this.columns=[{name:"nom"},{name:"status"}],this.formateurs=[],this.data=[],this.filteredData=[]}ngOnInit(){$("select").formSelect(),this.reloadDataSearch(),this.reloadData(),console.log(this.formateurs)}editRow(row){this.router.navigate(["gestion-formateur/update-formateur",row.id])}deleteRow(row){console.log(row.id),this.formateurService.deleteFormateurService(row.id).subscribe(data=>{console.log(data),this.reloadData()},error=>console.log(error)),this.reloadDataSearch(),this.showNotification("bg-red","Delete Record Successfully","bottom","right","animated fadeInRight","animated fadeOutRight")}reloadData(){this.formateurService.getFormateurListService().subscribe(data=>this.formateurs=data)}reloadDataSearch(){this.formateurService.getFormateurListService().subscribe(data=>this.filteredData=data)}banFormateur(row){this.formateurService.banFormateurService(row.id).subscribe(data=>{console.log(data),this.reloadData()},error=>console.log(error))}showcv(row){this.formateurService.getFormateurService(row.id).subscribe(data=>{this.formateur=data,this.cvFileName=this.formateur.cv,window.open("http://localhost:8080/gestionFormateur/getcv?cv="+this.cvFileName,"_blank"),console.log(this.cvFileName)})}filterDatatable(event){let val=event.target.value.toLowerCase(),colsAmt=this.columns.length,keys=Object.keys(this.filteredData[0]);this.formateurs=this.filteredData.filter((function(item){for(let i=0;i<colsAmt;i++)if(-1!==item[keys[i]].toString().toLowerCase().indexOf(val)||!val)return!0})),this.table.offset=0}getId(min,max){return Math.floor(Math.random()*(max-min+1)+min)}showNotification(colorName,text,placementFrom,placementAlign,animateEnter,animateExit){null!==colorName&&""!==colorName||(colorName="bg-black"),null!==text&&""!==text||(text="Turning standard Bootstrap alerts"),null!==animateEnter&&""!==animateEnter||(animateEnter="animated fadeInDown"),null!==animateExit&&""!==animateExit||(animateExit="animated fadeOutUp"),$.notify({message:text},{type:colorName,allow_dismiss:!0,newest_on_top:!0,timer:1e3,placement:{from:placementFrom,align:placementAlign},animate:{enter:animateEnter,exit:animateExit},template:'<div data-notify="container" class="bootstrap-notify-container alert alert-dismissible {0} p-r-35" role="alert"><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}}var fesm2015_forms=__webpack_require__("s7LF"),RenderType_ListeFormateurComponent=core["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function View_ListeFormateurComponent_1(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,11,"span",[],null,null,null,null,null)),(_l()(),core["ɵeld"](1,0,null,null,2,"button",[["class","btn tblActnBtn h-auto"],["data-target","#editModal"],["data-toggle","modal"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.editRow(_v.context.row)&&ad),ad}),null,null)),(_l()(),core["ɵeld"](2,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["mode_edit"])),(_l()(),core["ɵeld"](4,0,null,null,2,"button",[["class","btn tblActnBtn h-auto"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.deleteRow(_v.context.row)&&ad),ad}),null,null)),(_l()(),core["ɵeld"](5,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["delete"])),(_l()(),core["ɵeld"](7,0,null,null,2,"button",[["class","btn tblActnBtn h-auto"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showcv(_v.context.row)&&ad),ad}),null,null)),(_l()(),core["ɵeld"](8,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["portrait"])),(_l()(),core["ɵeld"](10,0,null,null,1,"button",[["class","btn tblActnBtn h-auto"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.banFormateur(_v.context.row)&&ad),ad}),null,null)),(_l()(),core["ɵeld"](11,0,null,null,0,"i",[["class","fas fa-user-slash"]],null,null,null,null,null))],null,null)}function View_ListeFormateurComponent_0(_l){return core["ɵvid"](0,[core["ɵqud"](402653184,1,{roleTemplate:0}),core["ɵqud"](671088640,2,{table:0}),(_l()(),core["ɵeld"](2,0,null,null,69,"section",[["class","content"]],null,null,null,null,null)),(_l()(),core["ɵeld"](3,0,null,null,68,"div",[["class","container-fluid"]],null,null,null,null,null)),(_l()(),core["ɵeld"](4,0,null,null,67,"div",[["class","row clearfix"]],null,null,null,null,null)),(_l()(),core["ɵeld"](5,0,null,null,66,"div",[["class","col-lg-12 col-md-12 col-sm-12 col-xs-12"]],null,null,null,null,null)),(_l()(),core["ɵeld"](6,0,null,null,65,"div",[["class","card"]],null,null,null,null,null)),(_l()(),core["ɵeld"](7,0,null,null,64,"div",[["class","body"]],null,null,null,null,null)),(_l()(),core["ɵeld"](8,0,null,null,63,"div",[["class","row"]],null,null,null,null,null)),(_l()(),core["ɵeld"](9,0,null,null,62,"div",[["class","col-sm-12"]],null,null,null,null,null)),(_l()(),core["ɵeld"](10,0,null,null,18,"div",[["class","ngxTableHeader"]],null,null,null,null,null)),(_l()(),core["ɵeld"](11,0,null,null,9,"ul",[["class","header-buttons-left m-l-5"]],null,null,null,null,null)),(_l()(),core["ɵeld"](12,0,null,null,3,"li",[["class","dropdown m-l-20"]],null,null,null,null,null)),(_l()(),core["ɵeld"](13,0,null,null,2,"h2",[],null,null,null,null,null)),(_l()(),core["ɵeld"](14,0,null,null,1,"strong",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Liste Des Formateurs"])),(_l()(),core["ɵeld"](16,0,null,null,4,"li",[["class","dropdown m-l-20"]],null,null,null,null,null)),(_l()(),core["ɵeld"](17,0,null,null,2,"label",[["for","search-input"]],null,null,null,null,null)),(_l()(),core["ɵeld"](18,0,null,null,1,"i",[["class","material-icons search-icon"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["search"])),(_l()(),core["ɵeld"](20,0,null,null,0,"input",[["aria-label","Search box"],["class","browser-default search-field"],["placeholder","Search"],["type","text"]],null,[[null,"keyup"]],(function(_v,en,$event){var ad=!0;return"keyup"===en&&(ad=!1!==_v.component.filterDatatable($event)&&ad),ad}),null,null)),(_l()(),core["ɵeld"](21,0,null,null,7,"ul",[["class","header-buttons m-r-20"]],null,null,null,null,null)),(_l()(),core["ɵeld"](22,0,null,null,6,"li",[],null,null,null,null,null)),(_l()(),core["ɵeld"](23,0,null,null,5,"div",[["class","icon-button-demo"]],null,null,null,null,null)),(_l()(),core["ɵeld"](24,0,null,null,4,"button",[["class","btn bg-blue btn-circle waves-effect waves-circle waves-float"]],null,null,null,null,null)),(_l()(),core["ɵeld"](25,0,null,null,3,"a",[["routerLink","/gestion-formateur/ajouter-formateur"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==core["ɵnov"](_v,26).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),core["ɵdid"](26,671744,null,0,fesm2015_router.p,[fesm2015_router.m,fesm2015_router.a,common.i],{routerLink:[0,"routerLink"]},null),(_l()(),core["ɵeld"](27,0,null,null,1,"i",[["class","material-icons col-white"],["style","padding-top: 1px"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,[" person_add"])),(_l()(),core["ɵeld"](29,0,null,null,42,"ngx-datatable",[["class","material ngx-datatable"]],[[2,"fixed-header",null],[2,"fixed-row",null],[2,"scroll-vertical",null],[2,"virtualized",null],[2,"scroll-horz",null],[2,"selectable",null],[2,"checkbox-selection",null],[2,"cell-selection",null],[2,"single-selection",null],[2,"multi-selection",null],[2,"multi-click-selection",null]],[["window","resize"]],(function(_v,en,$event){var ad=!0;return"window:resize"===en&&(ad=!1!==core["ɵnov"](_v,30).onWindowResize()&&ad),ad}),swimlane_ngx_datatable_ngfactory.b,swimlane_ngx_datatable_ngfactory.a)),core["ɵdid"](30,5750784,[[2,4],["table",4]],4,swimlane_ngx_datatable.n,[[1,swimlane_ngx_datatable.v],[1,swimlane_ngx_datatable.o],core.ChangeDetectorRef,core.ElementRef,core.KeyValueDiffers,swimlane_ngx_datatable.a,[2,"configuration"]],{rows:[0,"rows"],columns:[1,"columns"],rowHeight:[2,"rowHeight"],columnMode:[3,"columnMode"],headerHeight:[4,"headerHeight"],footerHeight:[5,"footerHeight"],limit:[6,"limit"],sortType:[7,"sortType"]},null),core["ɵqud"](603979776,3,{columnTemplates:1}),core["ɵqud"](603979776,4,{rowDetail:0}),core["ɵqud"](603979776,5,{groupHeader:0}),core["ɵqud"](603979776,6,{footer:0}),(_l()(),core["ɵeld"](35,0,null,null,4,"ngx-datatable-column",[["name","Nom"]],null,null,null,null,null)),core["ɵdid"](36,540672,[[3,4]],3,swimlane_ngx_datatable.f,[swimlane_ngx_datatable.a],{name:[0,"name"],width:[1,"width"]},null),core["ɵqud"](335544320,7,{_cellTemplateQuery:0}),core["ɵqud"](335544320,8,{_headerTemplateQuery:0}),core["ɵqud"](335544320,9,{_treeToggleTemplateQuery:0}),(_l()(),core["ɵeld"](40,0,null,null,4,"ngx-datatable-column",[["name","Prenom"]],null,null,null,null,null)),core["ɵdid"](41,540672,[[3,4]],3,swimlane_ngx_datatable.f,[swimlane_ngx_datatable.a],{name:[0,"name"],width:[1,"width"]},null),core["ɵqud"](335544320,10,{_cellTemplateQuery:0}),core["ɵqud"](335544320,11,{_headerTemplateQuery:0}),core["ɵqud"](335544320,12,{_treeToggleTemplateQuery:0}),(_l()(),core["ɵeld"](45,0,null,null,4,"ngx-datatable-column",[["name","Mail"]],null,null,null,null,null)),core["ɵdid"](46,540672,[[3,4]],3,swimlane_ngx_datatable.f,[swimlane_ngx_datatable.a],{name:[0,"name"],width:[1,"width"]},null),core["ɵqud"](335544320,13,{_cellTemplateQuery:0}),core["ɵqud"](335544320,14,{_headerTemplateQuery:0}),core["ɵqud"](335544320,15,{_treeToggleTemplateQuery:0}),(_l()(),core["ɵeld"](50,0,null,null,4,"ngx-datatable-column",[["name","telephone"]],null,null,null,null,null)),core["ɵdid"](51,540672,[[3,4]],3,swimlane_ngx_datatable.f,[swimlane_ngx_datatable.a],{name:[0,"name"],width:[1,"width"]},null),core["ɵqud"](335544320,16,{_cellTemplateQuery:0}),core["ɵqud"](335544320,17,{_headerTemplateQuery:0}),core["ɵqud"](335544320,18,{_treeToggleTemplateQuery:0}),(_l()(),core["ɵeld"](55,0,null,null,4,"ngx-datatable-column",[["name","Formation "]],null,null,null,null,null)),core["ɵdid"](56,540672,[[3,4]],3,swimlane_ngx_datatable.f,[swimlane_ngx_datatable.a],{name:[0,"name"],width:[1,"width"]},null),core["ɵqud"](335544320,19,{_cellTemplateQuery:0}),core["ɵqud"](335544320,20,{_headerTemplateQuery:0}),core["ɵqud"](335544320,21,{_treeToggleTemplateQuery:0}),(_l()(),core["ɵeld"](60,0,null,null,4,"ngx-datatable-column",[["name","Status "]],null,null,null,null,null)),core["ɵdid"](61,540672,[[3,4]],3,swimlane_ngx_datatable.f,[swimlane_ngx_datatable.a],{name:[0,"name"],width:[1,"width"]},null),core["ɵqud"](335544320,22,{_cellTemplateQuery:0}),core["ɵqud"](335544320,23,{_headerTemplateQuery:0}),core["ɵqud"](335544320,24,{_treeToggleTemplateQuery:0}),(_l()(),core["ɵeld"](65,0,null,null,6,"ngx-datatable-column",[["name","Actions"],["sortable","false"]],null,null,null,null,null)),core["ɵdid"](66,540672,[[3,4]],3,swimlane_ngx_datatable.f,[swimlane_ngx_datatable.a],{name:[0,"name"],sortable:[1,"sortable"],width:[2,"width"]},null),core["ɵqud"](335544320,25,{_cellTemplateQuery:0}),core["ɵqud"](335544320,26,{_headerTemplateQuery:0}),core["ɵqud"](335544320,27,{_treeToggleTemplateQuery:0}),(_l()(),core["ɵand"](0,[[25,2]],null,1,null,View_ListeFormateurComponent_1)),core["ɵdid"](71,16384,null,0,swimlane_ngx_datatable.e,[core.TemplateRef],null,null)],(function(_ck,_v){var _co=_v.component;_ck(_v,26,0,"/gestion-formateur/ajouter-formateur"),_ck(_v,30,0,_co.formateurs,_co.columns,"60","force",50,50,10,"multi"),_ck(_v,36,0,"Nom",130),_ck(_v,41,0,"Prenom",130),_ck(_v,46,0,"Mail",130),_ck(_v,51,0,"telephone",120),_ck(_v,56,0,"Formation ",120),_ck(_v,61,0,"Status ",130),_ck(_v,66,0,"Actions","false",120)}),(function(_ck,_v){_ck(_v,25,0,core["ɵnov"](_v,26).target,core["ɵnov"](_v,26).href),_ck(_v,29,1,[core["ɵnov"](_v,30).isFixedHeader,core["ɵnov"](_v,30).isFixedRow,core["ɵnov"](_v,30).isVertScroll,core["ɵnov"](_v,30).isVirtualized,core["ɵnov"](_v,30).isHorScroll,core["ɵnov"](_v,30).isSelectable,core["ɵnov"](_v,30).isCheckboxSelection,core["ɵnov"](_v,30).isCellSelection,core["ɵnov"](_v,30).isSingleSelection,core["ɵnov"](_v,30).isMultiSelection,core["ɵnov"](_v,30).isMultiClickSelection])}))}function View_ListeFormateurComponent_Host_0(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,1,"app-test",[],null,null,null,View_ListeFormateurComponent_0,RenderType_ListeFormateurComponent)),core["ɵdid"](1,114688,null,0,ListeFormateurComponent,[dynamic_script_loader_service.a,fesm2015_forms.FormBuilder,Gestion_formateur_service.a,fesm2015_router.m],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ListeFormateurComponentNgFactory=core["ɵccf"]("app-test",ListeFormateurComponent,View_ListeFormateurComponent_Host_0,{},{},[]),formation_service=__webpack_require__("QVqS");class add_formateur_component_AddFormateurComponent{constructor(fb,formateurService,router,formationService){this.fb=fb,this.formateurService=formateurService,this.router=router,this.formationService=formationService,this.cvFormateur=File,this.addFormateurForm=this.fb.group({nom:new fesm2015_forms.FormControl("",[fesm2015_forms.Validators.required]),prenom:new fesm2015_forms.FormControl,mail:new fesm2015_forms.FormControl,telephone:new fesm2015_forms.FormControl,formation:new fesm2015_forms.FormControl,status:new fesm2015_forms.FormControl})}get f(){return this.addFormateurForm.controls}ngOnInit(){$("select").formSelect(),this.getListFormations()}onFileChange(event){this.cvFormateur=event.target.files[0]}addFormateur(form){const formateur=form.value,formdata=new FormData;formdata.append("formateur",JSON.stringify(formateur)),formdata.append("cvFormateur",this.cvFormateur),this.formateurService.addFormateurService(formdata).subscribe(data=>{console.log(data)},error=>console.log(error)),form.reset(),this.showNotification("bg-green","Add Record Successfully","bottom","right","animated fadeInRight","animated fadeOutRight"),this.router.navigate(["gestion-formateur/liste-formateur"])}getListFormations(){this.formationService.getFormationListService().subscribe(data=>{this.listFormations=data,console.log(data)})}showNotification(colorName,text,placementFrom,placementAlign,animateEnter,animateExit){null!==colorName&&""!==colorName||(colorName="bg-black"),null!==text&&""!==text||(text="Turning standard Bootstrap alerts"),null!==animateEnter&&""!==animateEnter||(animateEnter="animated fadeInDown"),null!==animateExit&&""!==animateExit||(animateExit="animated fadeOutUp"),$.notify({message:text},{type:colorName,allow_dismiss:!0,newest_on_top:!0,timer:1e3,placement:{from:placementFrom,align:placementAlign},animate:{enter:animateEnter,exit:animateExit},template:'<div data-notify="container" class="bootstrap-notify-container alert alert-dismissible {0} p-r-35" role="alert"><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}}var RenderType_AddFormateurComponent=core["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function View_AddFormateurComponent_2(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Name is required"]))],null,null)}function View_AddFormateurComponent_1(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,2,"div",[["class","invalid-feedback"]],null,null,null,null,null)),(_l()(),core["ɵand"](16777216,null,null,1,null,View_AddFormateurComponent_2)),core["ɵdid"](2,16384,null,0,common.l,[core.ViewContainerRef,core.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){_ck(_v,2,0,_v.component.f.nomFormateur.errors.required)}),null)}function View_AddFormateurComponent_3(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,3,"option",[],null,null,null,null,null)),core["ɵdid"](1,147456,null,0,fesm2015_forms.NgSelectOption,[core.ElementRef,core.Renderer2,[2,fesm2015_forms.SelectControlValueAccessor]],{value:[0,"value"]},null),core["ɵdid"](2,147456,null,0,fesm2015_forms["ɵangular_packages_forms_forms_y"],[core.ElementRef,core.Renderer2,[8,null]],{value:[0,"value"]},null),(_l()(),core["ɵted"](3,null,[" "," "]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit.nom),_ck(_v,2,0,_v.context.$implicit.nom)}),(function(_ck,_v){_ck(_v,3,0,_v.context.$implicit.nom)}))}function View_AddFormateurComponent_0(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,93,"section",[["class","content"]],null,null,null,null,null)),(_l()(),core["ɵeld"](1,0,null,null,92,"div",[["class","container-fluid"]],null,null,null,null,null)),(_l()(),core["ɵeld"](2,0,null,null,14,"div",[["class","block-header"]],null,null,null,null,null)),(_l()(),core["ɵeld"](3,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(_l()(),core["ɵeld"](4,0,null,null,12,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(_l()(),core["ɵeld"](5,0,null,null,11,"ul",[["class","breadcrumb breadcrumb-style "]],null,null,null,null,null)),(_l()(),core["ɵeld"](6,0,null,null,2,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(_l()(),core["ɵeld"](7,0,null,null,1,"h4",[["class","page-title"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Ajouter Un Formateur"])),(_l()(),core["ɵeld"](9,0,null,null,4,"li",[["class","breadcrumb-item bcrumb-1"]],null,null,null,null,null)),(_l()(),core["ɵeld"](10,0,null,null,3,"a",[["routerLink","/dashboard/main"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==core["ɵnov"](_v,11).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),core["ɵdid"](11,671744,null,0,fesm2015_router.p,[fesm2015_router.m,fesm2015_router.a,common.i],{routerLink:[0,"routerLink"]},null),(_l()(),core["ɵeld"](12,0,null,null,0,"i",[["class","fas fa-home"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,[" Home"])),(_l()(),core["ɵeld"](14,0,null,null,2,"li",[["class","breadcrumb-item bcrumb-2"]],null,null,null,null,null)),(_l()(),core["ɵeld"](15,0,null,null,1,"a",[["href","#"],["onClick","return false;"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["ajouter-formateur"])),(_l()(),core["ɵeld"](17,0,null,null,76,"div",[["class","row clearfix"]],null,null,null,null,null)),(_l()(),core["ɵeld"](18,0,null,null,75,"div",[["class","col-lg-12 col-md-12 col-sm-12 col-xs-12"]],null,null,null,null,null)),(_l()(),core["ɵeld"](19,0,null,null,74,"div",[["class","card"]],null,null,null,null,null)),(_l()(),core["ɵeld"](20,0,null,null,73,"div",[["class","body"]],null,null,null,null,null)),(_l()(),core["ɵeld"](21,0,null,null,72,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"submit"===en&&(ad=!1!==core["ɵnov"](_v,23).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==core["ɵnov"](_v,23).onReset()&&ad),"ngSubmit"===en&&(ad=!1!==_co.addFormateur(_co.addFormateurForm)&&ad),ad}),null,null)),core["ɵdid"](22,16384,null,0,fesm2015_forms["ɵangular_packages_forms_forms_z"],[],null,null),core["ɵdid"](23,540672,null,0,fesm2015_forms.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),core["ɵprd"](2048,null,fesm2015_forms.ControlContainer,null,[fesm2015_forms.FormGroupDirective]),core["ɵdid"](25,16384,null,0,fesm2015_forms.NgControlStatusGroup,[[4,fesm2015_forms.ControlContainer]],null,null),(_l()(),core["ɵeld"](26,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](27,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Nom "])),(_l()(),core["ɵeld"](29,0,null,null,8,"input",[["class","form-control"],["formControlName","nom"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,33)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,33).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,33)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,33)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵprd"](512,null,common.C,common.D,[core.IterableDiffers,core.KeyValueDiffers,core.ElementRef,core.Renderer2]),core["ɵdid"](31,278528,null,0,common.j,[common.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),core["ɵpod"](32,{"is-invalid":0}),core["ɵdid"](33,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](35,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](37,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵand"](16777216,null,null,1,null,View_AddFormateurComponent_1)),core["ɵdid"](39,16384,null,0,common.l,[core.ViewContainerRef,core.TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),core["ɵeld"](40,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](41,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Prenom"])),(_l()(),core["ɵeld"](43,0,null,null,5,"input",[["class","form-control"],["formControlName","prenom"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,44)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,44).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,44)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,44)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵdid"](44,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](46,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](48,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](49,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](50,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Mail"])),(_l()(),core["ɵeld"](52,0,null,null,5,"input",[["class","form-control"],["formControlName","mail"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,53)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,53).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,53)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,53)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵdid"](53,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](55,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](57,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](58,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](59,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Téléphone "])),(_l()(),core["ɵeld"](61,0,null,null,7,"input",[["class","form-control"],["formControlName","telephone"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,62)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,62).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,62)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,62)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵdid"](62,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵdid"](63,16384,null,0,fesm2015_forms.RequiredValidator,[],{required:[0,"required"]},null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALIDATORS,(function(p0_0){return[p0_0]}),[fesm2015_forms.RequiredValidator]),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](66,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[6,fesm2015_forms.NG_VALIDATORS],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](68,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](69,0,null,null,13,"div",[["class","form-group default-select"]],null,null,null,null,null)),(_l()(),core["ɵeld"](70,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Formation"])),(_l()(),core["ɵeld"](72,0,null,null,10,"select",[["class","form-control"],["data-placeholder","Select"],["formControlName","formation"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==core["ɵnov"](_v,73).onChange($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,73).onTouched()&&ad),ad}),null,null)),core["ɵdid"](73,16384,null,0,fesm2015_forms.SelectControlValueAccessor,[core.Renderer2,core.ElementRef],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.SelectControlValueAccessor]),core["ɵdid"](75,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](77,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](78,0,null,null,2,"option",[["disabled",""]],null,null,null,null,null)),core["ɵdid"](79,147456,null,0,fesm2015_forms.NgSelectOption,[core.ElementRef,core.Renderer2,[2,fesm2015_forms.SelectControlValueAccessor]],null,null),core["ɵdid"](80,147456,null,0,fesm2015_forms["ɵangular_packages_forms_forms_y"],[core.ElementRef,core.Renderer2,[8,null]],null,null),(_l()(),core["ɵand"](16777216,null,null,1,null,View_AddFormateurComponent_3)),core["ɵdid"](82,278528,null,0,common.k,[core.ViewContainerRef,core.TemplateRef,core.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),core["ɵeld"](83,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](84,0,null,null,6,"div",[["class","file-field input-field"]],null,null,null,null,null)),(_l()(),core["ɵeld"](85,0,null,null,3,"div",[["class","btn"]],null,null,null,null,null)),(_l()(),core["ɵeld"](86,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["CV"])),(_l()(),core["ɵeld"](88,0,null,null,0,"input",[["accept","application/pdf"],["multiple",""],["type","file"]],null,[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.onFileChange($event)&&ad),ad}),null,null)),(_l()(),core["ɵeld"](89,0,null,null,1,"div",[["class","file-path-wrapper"]],null,null,null,null,null)),(_l()(),core["ɵeld"](90,0,null,null,0,"input",[["class","file-path validate"],["placeholder","Upload the CV"]],null,null,null,null,null)),(_l()(),core["ɵeld"](91,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](92,0,null,null,1,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Register"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,"/dashboard/main"),_ck(_v,23,0,_co.addFormateurForm);var currVal_19=_ck(_v,32,0,_co.f.nomFormateur.errors);_ck(_v,31,0,"form-control",currVal_19),_ck(_v,35,0,"nom"),_ck(_v,39,0,_co.f.nomFormateur.errors),_ck(_v,46,0,"prenom"),_ck(_v,55,0,"mail"),_ck(_v,63,0,""),_ck(_v,66,0,"telephone"),_ck(_v,75,0,"formation"),_ck(_v,82,0,_co.listFormations)}),(function(_ck,_v){_ck(_v,10,0,core["ɵnov"](_v,11).target,core["ɵnov"](_v,11).href),_ck(_v,21,0,core["ɵnov"](_v,25).ngClassUntouched,core["ɵnov"](_v,25).ngClassTouched,core["ɵnov"](_v,25).ngClassPristine,core["ɵnov"](_v,25).ngClassDirty,core["ɵnov"](_v,25).ngClassValid,core["ɵnov"](_v,25).ngClassInvalid,core["ɵnov"](_v,25).ngClassPending),_ck(_v,29,0,core["ɵnov"](_v,37).ngClassUntouched,core["ɵnov"](_v,37).ngClassTouched,core["ɵnov"](_v,37).ngClassPristine,core["ɵnov"](_v,37).ngClassDirty,core["ɵnov"](_v,37).ngClassValid,core["ɵnov"](_v,37).ngClassInvalid,core["ɵnov"](_v,37).ngClassPending),_ck(_v,43,0,core["ɵnov"](_v,48).ngClassUntouched,core["ɵnov"](_v,48).ngClassTouched,core["ɵnov"](_v,48).ngClassPristine,core["ɵnov"](_v,48).ngClassDirty,core["ɵnov"](_v,48).ngClassValid,core["ɵnov"](_v,48).ngClassInvalid,core["ɵnov"](_v,48).ngClassPending),_ck(_v,52,0,core["ɵnov"](_v,57).ngClassUntouched,core["ɵnov"](_v,57).ngClassTouched,core["ɵnov"](_v,57).ngClassPristine,core["ɵnov"](_v,57).ngClassDirty,core["ɵnov"](_v,57).ngClassValid,core["ɵnov"](_v,57).ngClassInvalid,core["ɵnov"](_v,57).ngClassPending),_ck(_v,61,0,core["ɵnov"](_v,63).required?"":null,core["ɵnov"](_v,68).ngClassUntouched,core["ɵnov"](_v,68).ngClassTouched,core["ɵnov"](_v,68).ngClassPristine,core["ɵnov"](_v,68).ngClassDirty,core["ɵnov"](_v,68).ngClassValid,core["ɵnov"](_v,68).ngClassInvalid,core["ɵnov"](_v,68).ngClassPending),_ck(_v,72,0,core["ɵnov"](_v,77).ngClassUntouched,core["ɵnov"](_v,77).ngClassTouched,core["ɵnov"](_v,77).ngClassPristine,core["ɵnov"](_v,77).ngClassDirty,core["ɵnov"](_v,77).ngClassValid,core["ɵnov"](_v,77).ngClassInvalid,core["ɵnov"](_v,77).ngClassPending)}))}function View_AddFormateurComponent_Host_0(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,1,"app-add-formateur",[],null,null,null,View_AddFormateurComponent_0,RenderType_AddFormateurComponent)),core["ɵdid"](1,114688,null,0,add_formateur_component_AddFormateurComponent,[fesm2015_forms.FormBuilder,Gestion_formateur_service.a,fesm2015_router.m,formation_service.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var AddFormateurComponentNgFactory=core["ɵccf"]("app-add-formateur",add_formateur_component_AddFormateurComponent,View_AddFormateurComponent_Host_0,{},{},[]);class Formateur{}class update_formateur_component_UpdateFormateurComponent{constructor(route,formateurService,fb,router,formationService){this.route=route,this.formateurService=formateurService,this.fb=fb,this.router=router,this.formationService=formationService,this.id="",this.cvFormateur=File,this.updateFormateurForm=this.fb.group({nom:new fesm2015_forms.FormControl,prenom:new fesm2015_forms.FormControl,mail:new fesm2015_forms.FormControl,telephone:new fesm2015_forms.FormControl,status:new fesm2015_forms.FormControl,formation:new fesm2015_forms.FormControl})}ngOnInit(){this.getListFormations(),$("select").formSelect(),this.id=this.route.snapshot.params.id,this.formateurService.getFormateurService(this.id).subscribe(data=>{this.formateur=data,console.log(this.formateur),this.updateFormateurForm.patchValue({nom:this.formateur.nom,prenom:this.formateur.prenom,mail:this.formateur.mail,telephone:this.formateur.telephone,formation:this.formateur.formation,status:this.formateur.status})},error=>console.log(error))}onFileChange(event){this.cvFormateur=event.target.files[0]}getListFormations(){this.formationService.getFormationListService().subscribe(data=>{this.listFormations=data,console.log(data)})}updateFormateur(form){const formateur=form.value,formdata=new FormData;formdata.append("formateur",JSON.stringify(formateur)),formdata.append("cvFormateur",this.cvFormateur),this.formateurService.editFormateurService(formdata,this.id).subscribe(data=>console.log(data),error=>console.log(error)),form.reset(),this.formateur=new Formateur,this.showNotification("bg-green","Update Record Successfully","bottom","right","animated fadeInRight","animated fadeOutRight"),this.router.navigate(["gestion-formateur/liste-formateur"])}showNotification(colorName,text,placementFrom,placementAlign,animateEnter,animateExit){null!==colorName&&""!==colorName||(colorName="bg-black"),null!==text&&""!==text||(text="Turning standard Bootstrap alerts"),null!==animateEnter&&""!==animateEnter||(animateEnter="animated fadeInDown"),null!==animateExit&&""!==animateExit||(animateExit="animated fadeOutUp"),$.notify({message:text},{type:colorName,allow_dismiss:!0,newest_on_top:!0,timer:1e3,placement:{from:placementFrom,align:placementAlign},animate:{enter:animateEnter,exit:animateExit},template:'<div data-notify="container" class="bootstrap-notify-container alert alert-dismissible {0} p-r-35" role="alert"><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}}var RenderType_UpdateFormateurComponent=core["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function View_UpdateFormateurComponent_1(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,3,"option",[],null,null,null,null,null)),core["ɵdid"](1,147456,null,0,fesm2015_forms.NgSelectOption,[core.ElementRef,core.Renderer2,[2,fesm2015_forms.SelectControlValueAccessor]],{value:[0,"value"]},null),core["ɵdid"](2,147456,null,0,fesm2015_forms["ɵangular_packages_forms_forms_y"],[core.ElementRef,core.Renderer2,[8,null]],{value:[0,"value"]},null),(_l()(),core["ɵted"](3,null,[" "," "]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit.nom),_ck(_v,2,0,_v.context.$implicit.nom)}),(function(_ck,_v){_ck(_v,3,0,_v.context.$implicit.nom)}))}function View_UpdateFormateurComponent_0(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,105,"section",[["class","content"]],null,null,null,null,null)),(_l()(),core["ɵeld"](1,0,null,null,104,"div",[["class","container-fluid"]],null,null,null,null,null)),(_l()(),core["ɵeld"](2,0,null,null,14,"div",[["class","block-header"]],null,null,null,null,null)),(_l()(),core["ɵeld"](3,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(_l()(),core["ɵeld"](4,0,null,null,12,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(_l()(),core["ɵeld"](5,0,null,null,11,"ul",[["class","breadcrumb breadcrumb-style "]],null,null,null,null,null)),(_l()(),core["ɵeld"](6,0,null,null,2,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(_l()(),core["ɵeld"](7,0,null,null,1,"h4",[["class","page-title"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Update Un Formateur"])),(_l()(),core["ɵeld"](9,0,null,null,4,"li",[["class","breadcrumb-item bcrumb-1"]],null,null,null,null,null)),(_l()(),core["ɵeld"](10,0,null,null,3,"a",[["routerLink","/dashboard/main"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==core["ɵnov"](_v,11).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),core["ɵdid"](11,671744,null,0,fesm2015_router.p,[fesm2015_router.m,fesm2015_router.a,common.i],{routerLink:[0,"routerLink"]},null),(_l()(),core["ɵeld"](12,0,null,null,0,"i",[["class","fas fa-home"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,[" Home"])),(_l()(),core["ɵeld"](14,0,null,null,2,"li",[["class","breadcrumb-item bcrumb-2"]],null,null,null,null,null)),(_l()(),core["ɵeld"](15,0,null,null,1,"a",[["href","#"],["onClick","return false;"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["update-formateur"])),(_l()(),core["ɵeld"](17,0,null,null,88,"div",[["class","row clearfix"]],null,null,null,null,null)),(_l()(),core["ɵeld"](18,0,null,null,87,"div",[["class","col-lg-12 col-md-12 col-sm-12 col-xs-12"]],null,null,null,null,null)),(_l()(),core["ɵeld"](19,0,null,null,86,"div",[["class","card"]],null,null,null,null,null)),(_l()(),core["ɵeld"](20,0,null,null,85,"div",[["class","body"]],null,null,null,null,null)),(_l()(),core["ɵeld"](21,0,null,null,84,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"submit"===en&&(ad=!1!==core["ɵnov"](_v,23).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==core["ɵnov"](_v,23).onReset()&&ad),"ngSubmit"===en&&(ad=!1!==_co.updateFormateur(_co.updateFormateurForm)&&ad),ad}),null,null)),core["ɵdid"](22,16384,null,0,fesm2015_forms["ɵangular_packages_forms_forms_z"],[],null,null),core["ɵdid"](23,540672,null,0,fesm2015_forms.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),core["ɵprd"](2048,null,fesm2015_forms.ControlContainer,null,[fesm2015_forms.FormGroupDirective]),core["ɵdid"](25,16384,null,0,fesm2015_forms.NgControlStatusGroup,[[4,fesm2015_forms.ControlContainer]],null,null),(_l()(),core["ɵeld"](26,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](27,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Nom "])),(_l()(),core["ɵeld"](29,0,null,null,5,"input",[["class","form-control"],["formControlName","nom"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,30)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,30).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,30)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,30)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵdid"](30,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](32,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](34,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](35,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](36,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Prenom"])),(_l()(),core["ɵeld"](38,0,null,null,5,"input",[["class","form-control"],["formControlName","prenom"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,39)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,39).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,39)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,39)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵdid"](39,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](41,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](43,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](44,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](45,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Mail"])),(_l()(),core["ɵeld"](47,0,null,null,5,"input",[["class","form-control"],["formControlName","mail"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,48)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,48).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,48)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,48)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵdid"](48,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](50,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](52,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](53,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](54,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Téléphone "])),(_l()(),core["ɵeld"](56,0,null,null,7,"input",[["class","form-control"],["formControlName","telephone"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core["ɵnov"](_v,57)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,57).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core["ɵnov"](_v,57)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core["ɵnov"](_v,57)._compositionEnd($event.target.value)&&ad),ad}),null,null)),core["ɵdid"](57,16384,null,0,fesm2015_forms.DefaultValueAccessor,[core.Renderer2,core.ElementRef,[2,fesm2015_forms.COMPOSITION_BUFFER_MODE]],null,null),core["ɵdid"](58,16384,null,0,fesm2015_forms.RequiredValidator,[],{required:[0,"required"]},null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALIDATORS,(function(p0_0){return[p0_0]}),[fesm2015_forms.RequiredValidator]),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.DefaultValueAccessor]),core["ɵdid"](61,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[6,fesm2015_forms.NG_VALIDATORS],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](63,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](64,0,null,null,13,"div",[["class","form-group default-select"]],null,null,null,null,null)),(_l()(),core["ɵeld"](65,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Formation"])),(_l()(),core["ɵeld"](67,0,null,null,10,"select",[["class","form-control"],["data-placeholder","Select"],["formControlName","formation"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==core["ɵnov"](_v,68).onChange($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,68).onTouched()&&ad),ad}),null,null)),core["ɵdid"](68,16384,null,0,fesm2015_forms.SelectControlValueAccessor,[core.Renderer2,core.ElementRef],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.SelectControlValueAccessor]),core["ɵdid"](70,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](72,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](73,0,null,null,2,"option",[["disabled",""]],null,null,null,null,null)),core["ɵdid"](74,147456,null,0,fesm2015_forms.NgSelectOption,[core.ElementRef,core.Renderer2,[2,fesm2015_forms.SelectControlValueAccessor]],null,null),core["ɵdid"](75,147456,null,0,fesm2015_forms["ɵangular_packages_forms_forms_y"],[core.ElementRef,core.Renderer2,[8,null]],null,null),(_l()(),core["ɵand"](16777216,null,null,1,null,View_UpdateFormateurComponent_1)),core["ɵdid"](77,278528,null,0,common.k,[core.ViewContainerRef,core.TemplateRef,core.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),core["ɵeld"](78,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](79,0,null,null,1,"label",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Status"])),(_l()(),core["ɵeld"](81,0,null,null,13,"select",[["class"," select2"],["data-placeholder","Select"],["formControlName","status"],["selected","travaillant actuel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==core["ɵnov"](_v,82).onChange($event.target.value)&&ad),"blur"===en&&(ad=!1!==core["ɵnov"](_v,82).onTouched()&&ad),ad}),null,null)),core["ɵdid"](82,16384,null,0,fesm2015_forms.SelectControlValueAccessor,[core.Renderer2,core.ElementRef],null,null),core["ɵprd"](1024,null,fesm2015_forms.NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[fesm2015_forms.SelectControlValueAccessor]),core["ɵdid"](84,671744,null,0,fesm2015_forms.FormControlName,[[3,fesm2015_forms.ControlContainer],[8,null],[8,null],[6,fesm2015_forms.NG_VALUE_ACCESSOR],[2,fesm2015_forms["ɵangular_packages_forms_forms_q"]]],{name:[0,"name"]},null),core["ɵprd"](2048,null,fesm2015_forms.NgControl,null,[fesm2015_forms.FormControlName]),core["ɵdid"](86,16384,null,0,fesm2015_forms.NgControlStatus,[[4,fesm2015_forms.NgControl]],null,null),(_l()(),core["ɵeld"](87,0,null,null,3,"option",[],null,null,null,null,null)),core["ɵdid"](88,147456,null,0,fesm2015_forms.NgSelectOption,[core.ElementRef,core.Renderer2,[2,fesm2015_forms.SelectControlValueAccessor]],null,null),core["ɵdid"](89,147456,null,0,fesm2015_forms["ɵangular_packages_forms_forms_y"],[core.ElementRef,core.Renderer2,[8,null]],null,null),(_l()(),core["ɵted"](-1,null,["travaillant actuel"])),(_l()(),core["ɵeld"](91,0,null,null,3,"option",[],null,null,null,null,null)),core["ɵdid"](92,147456,null,0,fesm2015_forms.NgSelectOption,[core.ElementRef,core.Renderer2,[2,fesm2015_forms.SelectControlValueAccessor]],null,null),core["ɵdid"](93,147456,null,0,fesm2015_forms["ɵangular_packages_forms_forms_y"],[core.ElementRef,core.Renderer2,[8,null]],null,null),(_l()(),core["ɵted"](-1,null,["ancien "])),(_l()(),core["ɵeld"](95,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](96,0,null,null,6,"div",[["class","file-field input-field"]],null,null,null,null,null)),(_l()(),core["ɵeld"](97,0,null,null,3,"div",[["class","btn"]],null,null,null,null,null)),(_l()(),core["ɵeld"](98,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["CV"])),(_l()(),core["ɵeld"](100,0,null,null,0,"input",[["accept","application/pdf"],["multiple",""],["type","file"]],null,[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.onFileChange($event)&&ad),ad}),null,null)),(_l()(),core["ɵeld"](101,0,null,null,1,"div",[["class","file-path-wrapper"]],null,null,null,null,null)),(_l()(),core["ɵeld"](102,0,null,null,0,"input",[["class","file-path validate"],["placeholder","Upload the CV"]],null,null,null,null,null)),(_l()(),core["ɵeld"](103,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core["ɵeld"](104,0,null,null,1,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(_l()(),core["ɵted"](-1,null,["Register"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,"/dashboard/main"),_ck(_v,23,0,_co.updateFormateurForm),_ck(_v,32,0,"nom"),_ck(_v,41,0,"prenom"),_ck(_v,50,0,"mail"),_ck(_v,58,0,""),_ck(_v,61,0,"telephone"),_ck(_v,70,0,"formation"),_ck(_v,77,0,_co.listFormations),_ck(_v,84,0,"status")}),(function(_ck,_v){_ck(_v,10,0,core["ɵnov"](_v,11).target,core["ɵnov"](_v,11).href),_ck(_v,21,0,core["ɵnov"](_v,25).ngClassUntouched,core["ɵnov"](_v,25).ngClassTouched,core["ɵnov"](_v,25).ngClassPristine,core["ɵnov"](_v,25).ngClassDirty,core["ɵnov"](_v,25).ngClassValid,core["ɵnov"](_v,25).ngClassInvalid,core["ɵnov"](_v,25).ngClassPending),_ck(_v,29,0,core["ɵnov"](_v,34).ngClassUntouched,core["ɵnov"](_v,34).ngClassTouched,core["ɵnov"](_v,34).ngClassPristine,core["ɵnov"](_v,34).ngClassDirty,core["ɵnov"](_v,34).ngClassValid,core["ɵnov"](_v,34).ngClassInvalid,core["ɵnov"](_v,34).ngClassPending),_ck(_v,38,0,core["ɵnov"](_v,43).ngClassUntouched,core["ɵnov"](_v,43).ngClassTouched,core["ɵnov"](_v,43).ngClassPristine,core["ɵnov"](_v,43).ngClassDirty,core["ɵnov"](_v,43).ngClassValid,core["ɵnov"](_v,43).ngClassInvalid,core["ɵnov"](_v,43).ngClassPending),_ck(_v,47,0,core["ɵnov"](_v,52).ngClassUntouched,core["ɵnov"](_v,52).ngClassTouched,core["ɵnov"](_v,52).ngClassPristine,core["ɵnov"](_v,52).ngClassDirty,core["ɵnov"](_v,52).ngClassValid,core["ɵnov"](_v,52).ngClassInvalid,core["ɵnov"](_v,52).ngClassPending),_ck(_v,56,0,core["ɵnov"](_v,58).required?"":null,core["ɵnov"](_v,63).ngClassUntouched,core["ɵnov"](_v,63).ngClassTouched,core["ɵnov"](_v,63).ngClassPristine,core["ɵnov"](_v,63).ngClassDirty,core["ɵnov"](_v,63).ngClassValid,core["ɵnov"](_v,63).ngClassInvalid,core["ɵnov"](_v,63).ngClassPending),_ck(_v,67,0,core["ɵnov"](_v,72).ngClassUntouched,core["ɵnov"](_v,72).ngClassTouched,core["ɵnov"](_v,72).ngClassPristine,core["ɵnov"](_v,72).ngClassDirty,core["ɵnov"](_v,72).ngClassValid,core["ɵnov"](_v,72).ngClassInvalid,core["ɵnov"](_v,72).ngClassPending),_ck(_v,81,0,core["ɵnov"](_v,86).ngClassUntouched,core["ɵnov"](_v,86).ngClassTouched,core["ɵnov"](_v,86).ngClassPristine,core["ɵnov"](_v,86).ngClassDirty,core["ɵnov"](_v,86).ngClassValid,core["ɵnov"](_v,86).ngClassInvalid,core["ɵnov"](_v,86).ngClassPending)}))}function View_UpdateFormateurComponent_Host_0(_l){return core["ɵvid"](0,[(_l()(),core["ɵeld"](0,0,null,null,1,"app-update-formateur",[],null,null,null,View_UpdateFormateurComponent_0,RenderType_UpdateFormateurComponent)),core["ɵdid"](1,114688,null,0,update_formateur_component_UpdateFormateurComponent,[fesm2015_router.a,Gestion_formateur_service.a,fesm2015_forms.FormBuilder,fesm2015_router.m,formation_service.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var UpdateFormateurComponentNgFactory=core["ɵccf"]("app-update-formateur",update_formateur_component_UpdateFormateurComponent,View_UpdateFormateurComponent_Host_0,{},{},[]),http=__webpack_require__("IheW");class GestionFormateurRoutingModule{}let PDFJS,PDFJSViewer;function isSSR(){return"undefined"==typeof window}isSSR()||(PDFJS=__webpack_require__("lRFz"),PDFJSViewer=__webpack_require__("louq"),PDFJS.verbosity=PDFJS.VerbosityLevel.ERRORS);let PdfViewerModule=class{};__webpack_require__.d(__webpack_exports__,"GestionFormateurModuleNgFactory",(function(){return GestionFormateurModuleNgFactory}));var GestionFormateurModuleNgFactory=core["ɵcmf"](GestionFormateurModule,[],(function(_l){return core["ɵmod"]([core["ɵmpd"](512,core.ComponentFactoryResolver,core["ɵCodegenComponentFactoryResolver"],[[8,[router_ngfactory.a,ListeFormateurComponentNgFactory,AddFormateurComponentNgFactory,UpdateFormateurComponentNgFactory]],[3,core.ComponentFactoryResolver],core.NgModuleRef]),core["ɵmpd"](4608,common.n,common.m,[core.LOCALE_ID,[2,common.H]]),core["ɵmpd"](4608,fesm2015_forms["ɵangular_packages_forms_forms_o"],fesm2015_forms["ɵangular_packages_forms_forms_o"],[]),core["ɵmpd"](4608,fesm2015_forms.FormBuilder,fesm2015_forms.FormBuilder,[]),core["ɵmpd"](4608,swimlane_ngx_datatable.v,swimlane_ngx_datatable.v,[common.d]),core["ɵmpd"](4608,swimlane_ngx_datatable.o,swimlane_ngx_datatable.o,[]),core["ɵmpd"](4608,swimlane_ngx_datatable.a,swimlane_ngx_datatable.a,[]),core["ɵmpd"](4608,http.i,http.o,[common.d,core.PLATFORM_ID,http.m]),core["ɵmpd"](4608,http.p,http.p,[http.i,http.n]),core["ɵmpd"](5120,http.a,(function(p0_0){return[p0_0]}),[http.p]),core["ɵmpd"](4608,http.l,http.l,[]),core["ɵmpd"](6144,http.j,null,[http.l]),core["ɵmpd"](4608,http.h,http.h,[http.j]),core["ɵmpd"](6144,http.b,null,[http.h]),core["ɵmpd"](4608,http.f,http.k,[http.b,core.Injector]),core["ɵmpd"](4608,http.c,http.c,[http.f]),core["ɵmpd"](1073742336,common.c,common.c,[]),core["ɵmpd"](1073742336,fesm2015_forms["ɵangular_packages_forms_forms_d"],fesm2015_forms["ɵangular_packages_forms_forms_d"],[]),core["ɵmpd"](1073742336,fesm2015_forms.FormsModule,fesm2015_forms.FormsModule,[]),core["ɵmpd"](1073742336,fesm2015_forms.ReactiveFormsModule,fesm2015_forms.ReactiveFormsModule,[]),core["ɵmpd"](1073742336,swimlane_ngx_datatable.r,swimlane_ngx_datatable.r,[]),core["ɵmpd"](1073742336,fesm2015_router.q,fesm2015_router.q,[[2,fesm2015_router.v],[2,fesm2015_router.m]]),core["ɵmpd"](1073742336,GestionFormateurRoutingModule,GestionFormateurRoutingModule,[]),core["ɵmpd"](1073742336,http.e,http.e,[]),core["ɵmpd"](1073742336,http.d,http.d,[]),core["ɵmpd"](1073742336,PdfViewerModule,PdfViewerModule,[]),core["ɵmpd"](1073742336,GestionFormateurModule,GestionFormateurModule,[]),core["ɵmpd"](1024,fesm2015_router.k,(function(){return[[{path:"",redirectTo:"liste-formateur",pathMatch:"full"},{path:"liste-formateur",component:ListeFormateurComponent},{path:"ajouter-formateur",component:add_formateur_component_AddFormateurComponent},{path:"update-formateur/:id",component:update_formateur_component_UpdateFormateurComponent}]]}),[]),core["ɵmpd"](256,http.m,"XSRF-TOKEN",[]),core["ɵmpd"](256,http.n,"X-XSRF-TOKEN",[])])}))},lRFz:function(module,exports,__webpack_require__){var factory;factory=function(){return function(modules){var installedModules={};function __w_pdfjs_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__w_pdfjs_require__),module.l=!0,module.exports}return __w_pdfjs_require__.m=modules,__w_pdfjs_require__.c=installedModules,__w_pdfjs_require__.d=function(exports,name,getter){__w_pdfjs_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__w_pdfjs_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__w_pdfjs_require__.t=function(value,mode){if(1&mode&&(value=__w_pdfjs_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__w_pdfjs_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__w_pdfjs_require__.d(ns,key,(function(key){return value[key]}).bind(null,key));return ns},__w_pdfjs_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __w_pdfjs_require__.d(getter,"a",getter),getter},__w_pdfjs_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__w_pdfjs_require__.p="",__w_pdfjs_require__(__w_pdfjs_require__.s=0)}([function(module,exports,__w_pdfjs_require__){"use strict";var pdfjsSharedUtil=__w_pdfjs_require__(1),pdfjsDisplayAPI=__w_pdfjs_require__(179),pdfjsDisplayTextLayer=__w_pdfjs_require__(194),pdfjsDisplayAnnotationLayer=__w_pdfjs_require__(195),pdfjsDisplayDisplayUtils=__w_pdfjs_require__(183),pdfjsDisplaySVG=__w_pdfjs_require__(196),pdfjsDisplayWorkerOptions=__w_pdfjs_require__(188),pdfjsDisplayAPICompatibility=__w_pdfjs_require__(185);if(__w_pdfjs_require__(4)()){var PDFNodeStream=__w_pdfjs_require__(197).PDFNodeStream;pdfjsDisplayAPI.setPDFNetworkStreamFactory((function(params){return new PDFNodeStream(params)}))}else{var PDFFetchStream,PDFNetworkStream=__w_pdfjs_require__(200).PDFNetworkStream;pdfjsDisplayDisplayUtils.isFetchSupported()&&(PDFFetchStream=__w_pdfjs_require__(201).PDFFetchStream),pdfjsDisplayAPI.setPDFNetworkStreamFactory((function(params){return PDFFetchStream&&pdfjsDisplayDisplayUtils.isValidFetchUrl(params.url)?new PDFFetchStream(params):new PDFNetworkStream(params)}))}exports.build=pdfjsDisplayAPI.build,exports.version=pdfjsDisplayAPI.version,exports.getDocument=pdfjsDisplayAPI.getDocument,exports.LoopbackPort=pdfjsDisplayAPI.LoopbackPort,exports.PDFDataRangeTransport=pdfjsDisplayAPI.PDFDataRangeTransport,exports.PDFWorker=pdfjsDisplayAPI.PDFWorker,exports.renderTextLayer=pdfjsDisplayTextLayer.renderTextLayer,exports.AnnotationLayer=pdfjsDisplayAnnotationLayer.AnnotationLayer,exports.createPromiseCapability=pdfjsSharedUtil.createPromiseCapability,exports.PasswordResponses=pdfjsSharedUtil.PasswordResponses,exports.InvalidPDFException=pdfjsSharedUtil.InvalidPDFException,exports.MissingPDFException=pdfjsSharedUtil.MissingPDFException,exports.SVGGraphics=pdfjsDisplaySVG.SVGGraphics,exports.NativeImageDecoding=pdfjsSharedUtil.NativeImageDecoding,exports.CMapCompressionType=pdfjsSharedUtil.CMapCompressionType,exports.PermissionFlag=pdfjsSharedUtil.PermissionFlag,exports.UnexpectedResponseException=pdfjsSharedUtil.UnexpectedResponseException,exports.OPS=pdfjsSharedUtil.OPS,exports.VerbosityLevel=pdfjsSharedUtil.VerbosityLevel,exports.UNSUPPORTED_FEATURES=pdfjsSharedUtil.UNSUPPORTED_FEATURES,exports.createValidAbsoluteUrl=pdfjsSharedUtil.createValidAbsoluteUrl,exports.createObjectURL=pdfjsSharedUtil.createObjectURL,exports.removeNullCharacters=pdfjsSharedUtil.removeNullCharacters,exports.shadow=pdfjsSharedUtil.shadow,exports.Util=pdfjsSharedUtil.Util,exports.ReadableStream=pdfjsSharedUtil.ReadableStream,exports.RenderingCancelledException=pdfjsDisplayDisplayUtils.RenderingCancelledException,exports.getFilenameFromUrl=pdfjsDisplayDisplayUtils.getFilenameFromUrl,exports.LinkTarget=pdfjsDisplayDisplayUtils.LinkTarget,exports.addLinkAttributes=pdfjsDisplayDisplayUtils.addLinkAttributes,exports.loadScript=pdfjsDisplayDisplayUtils.loadScript,exports.PDFDateString=pdfjsDisplayDisplayUtils.PDFDateString,exports.GlobalWorkerOptions=pdfjsDisplayWorkerOptions.GlobalWorkerOptions,exports.apiCompatibilityParams=pdfjsDisplayAPICompatibility.apiCompatibilityParams},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayByteLength=arrayByteLength,exports.arraysToBytes=function(arr){var length=arr.length;if(1===length&&arr[0]instanceof Uint8Array)return arr[0];for(var resultLength=0,i=0;i<length;i++)resultLength+=arrayByteLength(arr[i]);for(var pos=0,data=new Uint8Array(resultLength),_i=0;_i<length;_i++){var item=arr[_i];item instanceof Uint8Array||(item="string"==typeof item?stringToBytes(item):new Uint8Array(item));var itemLength=item.byteLength;data.set(item,pos),pos+=itemLength}return data},exports.assert=assert,exports.bytesToString=function(bytes){assert(null!==bytes&&"object"===_typeof(bytes)&&void 0!==bytes.length,"Invalid argument for bytesToString");var length=bytes.length;if(length<8192)return String.fromCharCode.apply(null,bytes);for(var strBuf=[],i=0;i<length;i+=8192){var chunkEnd=Math.min(i+8192,length),chunk=bytes.subarray(i,chunkEnd);strBuf.push(String.fromCharCode.apply(null,chunk))}return strBuf.join("")},exports.createPromiseCapability=function(){var capability=Object.create(null),isSettled=!1;return Object.defineProperty(capability,"settled",{get:function(){return isSettled}}),capability.promise=new Promise((function(resolve,reject){capability.resolve=function(data){isSettled=!0,resolve(data)},capability.reject=function(reason){isSettled=!0,reject(reason)}})),capability},exports.getVerbosityLevel=function(){return verbosity},exports.info=function(msg){verbosity>=VerbosityLevel.INFOS&&console.log("Info: ".concat(msg))},exports.isArrayBuffer=function(v){return"object"===_typeof(v)&&null!==v&&void 0!==v.byteLength},exports.isArrayEqual=function(arr1,arr2){return arr1.length===arr2.length&&arr1.every((function(element,index){return element===arr2[index]}))},exports.isBool=function(v){return"boolean"==typeof v},exports.isEmptyObj=function(obj){for(var key in obj)return!1;return!0},exports.isNum=function(v){return"number"==typeof v},exports.isString=function(v){return"string"==typeof v},exports.isSpace=function(ch){return 32===ch||9===ch||13===ch||10===ch},exports.isSameOrigin=function(baseUrl,otherUrl){var base;try{if(!(base=new URL(baseUrl)).origin||"null"===base.origin)return!1}catch(e){return!1}var other=new URL(otherUrl,base);return base.origin===other.origin},exports.createValidAbsoluteUrl=function(url,baseUrl){if(!url)return null;try{var absoluteUrl=baseUrl?new URL(url,baseUrl):new URL(url);if(function(url){if(!url)return!1;switch(url.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(absoluteUrl))return absoluteUrl}catch(ex){}return null},exports.isLittleEndian=function(){var buffer8=new Uint8Array(4);return buffer8[0]=1,1===new Uint32Array(buffer8.buffer,0,1)[0]},exports.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},exports.log2=function(x){return x<=0?0:Math.ceil(Math.log2(x))},exports.readInt8=function(data,start){return data[start]<<24>>24},exports.readUint16=function(data,offset){return data[offset]<<8|data[offset+1]},exports.readUint32=function(data,offset){return(data[offset]<<24|data[offset+1]<<16|data[offset+2]<<8|data[offset+3])>>>0},exports.removeNullCharacters=function(str){return"string"!=typeof str?(warn("The argument for removeNullCharacters must be a string."),str):str.replace(NullCharactersRegExp,"")},exports.setVerbosityLevel=function(level){Number.isInteger(level)&&(verbosity=level)},exports.shadow=function(obj,prop,value){return Object.defineProperty(obj,prop,{value:value,enumerable:!0,configurable:!0,writable:!1}),value},exports.string32=function(value){return String.fromCharCode(value>>24&255,value>>16&255,value>>8&255,255&value)},exports.stringToBytes=stringToBytes,exports.stringToPDFString=function(str){var length=str.length,strBuf=[];if("þ"===str[0]&&"ÿ"===str[1])for(var i=2;i<length;i+=2)strBuf.push(String.fromCharCode(str.charCodeAt(i)<<8|str.charCodeAt(i+1)));else for(var _i2=0;_i2<length;++_i2){var code=PDFStringTranslateTable[str.charCodeAt(_i2)];strBuf.push(code?String.fromCharCode(code):str.charAt(_i2))}return strBuf.join("")},exports.stringToUTF8String=function(str){return decodeURIComponent(escape(str))},exports.utf8StringToString=function(str){return unescape(encodeURIComponent(str))},exports.warn=warn,exports.unreachable=unreachable,Object.defineProperty(exports,"ReadableStream",{enumerable:!0,get:function(){return _streams_polyfill.ReadableStream}}),exports.createObjectURL=exports.FormatError=exports.Util=exports.UnknownErrorException=exports.UnexpectedResponseException=exports.TextRenderingMode=exports.StreamType=exports.PermissionFlag=exports.PasswordResponses=exports.PasswordException=exports.NativeImageDecoding=exports.MissingPDFException=exports.InvalidPDFException=exports.AbortException=exports.CMapCompressionType=exports.ImageKind=exports.FontType=exports.AnnotationType=exports.AnnotationStateModelType=exports.AnnotationReviewState=exports.AnnotationReplyType=exports.AnnotationMarkedState=exports.AnnotationFlag=exports.AnnotationFieldFlag=exports.AnnotationBorderStyleType=exports.UNSUPPORTED_FEATURES=exports.VerbosityLevel=exports.OPS=exports.IDENTITY_MATRIX=exports.FONT_IDENTITY_MATRIX=exports.BaseException=void 0,__w_pdfjs_require__(2);var _streams_polyfill=__w_pdfjs_require__(177);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(subClass,superClass)}exports.IDENTITY_MATRIX=[1,0,0,1,0,0],exports.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],exports.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},exports.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},exports.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},exports.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},exports.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},exports.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},exports.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},exports.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},exports.AnnotationReplyType={GROUP:"Group",REPLY:"R"},exports.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},exports.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},exports.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},exports.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},exports.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5};exports.VerbosityLevel=VerbosityLevel,exports.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},exports.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},exports.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},exports.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var verbosity=VerbosityLevel.WARNINGS;function warn(msg){verbosity>=VerbosityLevel.WARNINGS&&console.log("Warning: ".concat(msg))}function unreachable(msg){throw new Error(msg)}function assert(cond,msg){cond||unreachable(msg)}var BaseException=function(){function BaseException(message){this.constructor===BaseException&&unreachable("Cannot initialize BaseException."),this.message=message,this.name=this.constructor.name}return BaseException.prototype=new Error,BaseException.constructor=BaseException,BaseException}();exports.BaseException=BaseException,exports.PasswordException=function(_BaseException){function PasswordException(msg,code){var _this;return _classCallCheck(this,PasswordException),(_this=_possibleConstructorReturn(this,_getPrototypeOf(PasswordException).call(this,msg))).code=code,_this}return _inherits(PasswordException,_BaseException),PasswordException}(BaseException),exports.UnknownErrorException=function(_BaseException2){function UnknownErrorException(msg,details){var _this2;return _classCallCheck(this,UnknownErrorException),(_this2=_possibleConstructorReturn(this,_getPrototypeOf(UnknownErrorException).call(this,msg))).details=details,_this2}return _inherits(UnknownErrorException,_BaseException2),UnknownErrorException}(BaseException),exports.InvalidPDFException=function(_BaseException3){function InvalidPDFException(){return _classCallCheck(this,InvalidPDFException),_possibleConstructorReturn(this,_getPrototypeOf(InvalidPDFException).apply(this,arguments))}return _inherits(InvalidPDFException,_BaseException3),InvalidPDFException}(BaseException),exports.MissingPDFException=function(_BaseException4){function MissingPDFException(){return _classCallCheck(this,MissingPDFException),_possibleConstructorReturn(this,_getPrototypeOf(MissingPDFException).apply(this,arguments))}return _inherits(MissingPDFException,_BaseException4),MissingPDFException}(BaseException),exports.UnexpectedResponseException=function(_BaseException5){function UnexpectedResponseException(msg,status){var _this3;return _classCallCheck(this,UnexpectedResponseException),(_this3=_possibleConstructorReturn(this,_getPrototypeOf(UnexpectedResponseException).call(this,msg))).status=status,_this3}return _inherits(UnexpectedResponseException,_BaseException5),UnexpectedResponseException}(BaseException),exports.FormatError=function(_BaseException6){function FormatError(){return _classCallCheck(this,FormatError),_possibleConstructorReturn(this,_getPrototypeOf(FormatError).apply(this,arguments))}return _inherits(FormatError,_BaseException6),FormatError}(BaseException),exports.AbortException=function(_BaseException7){function AbortException(){return _classCallCheck(this,AbortException),_possibleConstructorReturn(this,_getPrototypeOf(AbortException).apply(this,arguments))}return _inherits(AbortException,_BaseException7),AbortException}(BaseException);var NullCharactersRegExp=/\x00/g;function stringToBytes(str){assert("string"==typeof str,"Invalid argument for stringToBytes");for(var length=str.length,bytes=new Uint8Array(length),i=0;i<length;++i)bytes[i]=255&str.charCodeAt(i);return bytes}function arrayByteLength(arr){return void 0!==arr.length?arr.length:(assert(void 0!==arr.byteLength),arr.byteLength)}var rgbBuf=["rgb(",0,",",0,",",0,")"];exports.Util=function(){function Util(){_classCallCheck(this,Util)}var Constructor,staticProps;return Constructor=Util,(staticProps=[{key:"makeCssRgb",value:function(r,g,b){return rgbBuf[1]=r,rgbBuf[3]=g,rgbBuf[5]=b,rgbBuf.join("")}},{key:"transform",value:function(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]]}},{key:"applyTransform",value:function(p,m){return[p[0]*m[0]+p[1]*m[2]+m[4],p[0]*m[1]+p[1]*m[3]+m[5]]}},{key:"applyInverseTransform",value:function(p,m){var d=m[0]*m[3]-m[1]*m[2];return[(p[0]*m[3]-p[1]*m[2]+m[2]*m[5]-m[4]*m[3])/d,(-p[0]*m[1]+p[1]*m[0]+m[4]*m[1]-m[5]*m[0])/d]}},{key:"getAxialAlignedBoundingBox",value:function(r,m){var p1=Util.applyTransform(r,m),p2=Util.applyTransform(r.slice(2,4),m),p3=Util.applyTransform([r[0],r[3]],m),p4=Util.applyTransform([r[2],r[1]],m);return[Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1])]}},{key:"inverseTransform",value:function(m){var d=m[0]*m[3]-m[1]*m[2];return[m[3]/d,-m[1]/d,-m[2]/d,m[0]/d,(m[2]*m[5]-m[4]*m[3])/d,(m[4]*m[1]-m[5]*m[0])/d]}},{key:"apply3dTransform",value:function(m,v){return[m[0]*v[0]+m[1]*v[1]+m[2]*v[2],m[3]*v[0]+m[4]*v[1]+m[5]*v[2],m[6]*v[0]+m[7]*v[1]+m[8]*v[2]]}},{key:"singularValueDecompose2dScale",value:function(m){var transpose=[m[0],m[2],m[1],m[3]],a=m[0]*transpose[0]+m[1]*transpose[2],d=m[2]*transpose[1]+m[3]*transpose[3],first=(a+d)/2,second=Math.sqrt((a+d)*(a+d)-4*(a*d-(m[2]*transpose[0]+m[3]*transpose[2])*(m[0]*transpose[1]+m[1]*transpose[3])))/2,sy=first-second||1;return[Math.sqrt(first+second||1),Math.sqrt(sy)]}},{key:"normalizeRect",value:function(rect){var r=rect.slice(0);return rect[0]>rect[2]&&(r[0]=rect[2],r[2]=rect[0]),rect[1]>rect[3]&&(r[1]=rect[3],r[3]=rect[1]),r}},{key:"intersect",value:function(rect1,rect2){function compare(a,b){return a-b}var orderedX=[rect1[0],rect1[2],rect2[0],rect2[2]].sort(compare),orderedY=[rect1[1],rect1[3],rect2[1],rect2[3]].sort(compare),result=[];return rect1=Util.normalizeRect(rect1),rect2=Util.normalizeRect(rect2),orderedX[0]===rect1[0]&&orderedX[1]===rect2[0]||orderedX[0]===rect2[0]&&orderedX[1]===rect1[0]?(result[0]=orderedX[1],result[2]=orderedX[2],orderedY[0]===rect1[1]&&orderedY[1]===rect2[1]||orderedY[0]===rect2[1]&&orderedY[1]===rect1[1]?(result[1]=orderedY[1],result[3]=orderedY[2],result):null):null}}])&&_defineProperties(Constructor,staticProps),Util}();var digits,PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],createObjectURL=(digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(data,contentType){var forceDataSchema=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!forceDataSchema&&URL.createObjectURL){var blob=new Blob([data],{type:contentType});return URL.createObjectURL(blob)}for(var buffer="data:".concat(contentType,";base64,"),i=0,ii=data.length;i<ii;i+=3){var b1=255&data[i],b2=255&data[i+1],b3=255&data[i+2],d1=b1>>2,d2=(3&b1)<<4|b2>>4,d3=i+1<ii?(15&b2)<<2|b3>>6:64,d4=i+2<ii?63&b3:64;buffer+=digits[d1]+digits[d2]+digits[d3]+digits[d4]}return buffer});exports.createObjectURL=createObjectURL},function(module,exports,__w_pdfjs_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var globalScope=__w_pdfjs_require__(3);if(!globalScope._pdfjsCompatibilityChecked){globalScope._pdfjsCompatibilityChecked=!0;var isNodeJS=__w_pdfjs_require__(4),hasDOM="object"===("undefined"==typeof window?"undefined":_typeof(window))&&"object"===("undefined"==typeof document?"undefined":_typeof(document));!globalScope.btoa&&isNodeJS()&&(globalScope.btoa=function(chars){return Buffer.from(chars,"binary").toString("base64")}),!globalScope.atob&&isNodeJS()&&(globalScope.atob=function(input){return Buffer.from(input,"base64").toString("binary")}),hasDOM&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(hasDOM&&!isNodeJS()){var div=document.createElement("div");if(div.classList.add("testOne","testTwo"),!0!==div.classList.contains("testOne")||!0!==div.classList.contains("testTwo")){var OriginalDOMTokenListAdd=DOMTokenList.prototype.add,OriginalDOMTokenListRemove=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var _len=arguments.length,tokens=new Array(_len),_key=0;_key<_len;_key++)tokens[_key]=arguments[_key];for(var _i=0,_tokens=tokens;_i<_tokens.length;_i++){var token=_tokens[_i];OriginalDOMTokenListAdd.call(this,token)}},DOMTokenList.prototype.remove=function(){for(var _len2=arguments.length,tokens=new Array(_len2),_key2=0;_key2<_len2;_key2++)tokens[_key2]=arguments[_key2];for(var _i2=0,_tokens2=tokens;_i2<_tokens2.length;_i2++){var token=_tokens2[_i2];OriginalDOMTokenListRemove.call(this,token)}}}}}(),hasDOM&&!isNodeJS()&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(token){var force=arguments.length>1?!!arguments[1]:!this.contains(token);return this[force?"add":"remove"](token),force}),String.prototype.startsWith||__w_pdfjs_require__(5),String.prototype.endsWith||__w_pdfjs_require__(57),String.prototype.includes||__w_pdfjs_require__(59),Array.prototype.includes||__w_pdfjs_require__(61),Array.from||__w_pdfjs_require__(68),Object.assign||__w_pdfjs_require__(89),Math.log2||(Math.log2=__w_pdfjs_require__(92)),Number.isNaN||(Number.isNaN=__w_pdfjs_require__(94)),Number.isInteger||(Number.isInteger=__w_pdfjs_require__(96)),globalScope.Promise&&globalScope.Promise.prototype&&globalScope.Promise.prototype.finally||(globalScope.Promise=__w_pdfjs_require__(99)),globalScope.URL=__w_pdfjs_require__(121),globalScope.WeakMap||(globalScope.WeakMap=__w_pdfjs_require__(128)),globalScope.WeakSet||(globalScope.WeakSet=__w_pdfjs_require__(138)),String.prototype.codePointAt||__w_pdfjs_require__(140),String.fromCodePoint||(String.fromCodePoint=__w_pdfjs_require__(142)),globalScope.Symbol||__w_pdfjs_require__(144),String.prototype.padStart||__w_pdfjs_require__(167),String.prototype.padEnd||__w_pdfjs_require__(172),Object.values||(Object.values=__w_pdfjs_require__(174))}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(module,exports,__w_pdfjs_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}module.exports=function(){return"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(6);var entryUnbind=__w_pdfjs_require__(54);module.exports=entryUnbind("String","startsWith")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),toLength=__w_pdfjs_require__(43),notARegExp=__w_pdfjs_require__(49),requireObjectCoercible=__w_pdfjs_require__(17),correctIsRegExpLogic=__w_pdfjs_require__(53),nativeStartsWith="".startsWith,min=Math.min;$({target:"String",proto:!0,forced:!correctIsRegExpLogic("startsWith")},{startsWith:function(searchString){var that=String(requireObjectCoercible(this));notARegExp(searchString);var index=toLength(min(arguments.length>1?arguments[1]:void 0,that.length)),search=String(searchString);return nativeStartsWith?nativeStartsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),getOwnPropertyDescriptor=__w_pdfjs_require__(9).f,hide=__w_pdfjs_require__(23),redefine=__w_pdfjs_require__(26),setGlobal=__w_pdfjs_require__(28),copyConstructorProperties=__w_pdfjs_require__(36),isForced=__w_pdfjs_require__(48);module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&hide(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},function(module,exports){var O="object",check=function(it){return it&&it.Math==Math&&it};module.exports=check(typeof globalThis==O&&globalThis)||check(typeof window==O&&window)||check(typeof self==O&&self)||check(typeof global==O&&global)||Function("return this")()},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),propertyIsEnumerableModule=__w_pdfjs_require__(12),createPropertyDescriptor=__w_pdfjs_require__(13),toIndexedObject=__w_pdfjs_require__(14),toPrimitive=__w_pdfjs_require__(18),has=__w_pdfjs_require__(20),IE8_DOM_DEFINE=__w_pdfjs_require__(21),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11);module.exports=!fails((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},function(module,exports,__w_pdfjs_require__){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__w_pdfjs_require__){var IndexedObject=__w_pdfjs_require__(15),requireObjectCoercible=__w_pdfjs_require__(17);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11),classof=__w_pdfjs_require__(16),split="".split;module.exports=fails((function(){return!Object("z").propertyIsEnumerable(0)}))?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19);module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;if("function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),fails=__w_pdfjs_require__(11),createElement=__w_pdfjs_require__(22);module.exports=!DESCRIPTORS&&!fails((function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a}))},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),isObject=__w_pdfjs_require__(19),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),definePropertyModule=__w_pdfjs_require__(24),createPropertyDescriptor=__w_pdfjs_require__(13);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),IE8_DOM_DEFINE=__w_pdfjs_require__(21),anObject=__w_pdfjs_require__(25),toPrimitive=__w_pdfjs_require__(18),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19);module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),shared=__w_pdfjs_require__(27),hide=__w_pdfjs_require__(23),has=__w_pdfjs_require__(20),setGlobal=__w_pdfjs_require__(28),nativeFunctionToString=__w_pdfjs_require__(30),InternalStateModule=__w_pdfjs_require__(31),getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(nativeFunctionToString).split("toString");shared("inspectSource",(function(it){return nativeFunctionToString.call(it)})),(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||hide(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:hide(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",(function(){return"function"==typeof this&&getInternalState(this).source||nativeFunctionToString.call(this)}))},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),setGlobal=__w_pdfjs_require__(28),IS_PURE=__w_pdfjs_require__(29),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.2.1",mode:IS_PURE?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),hide=__w_pdfjs_require__(23);module.exports=function(key,value){try{hide(global,key,value)}catch(error){global[key]=value}return value}},function(module,exports){module.exports=!1},function(module,exports,__w_pdfjs_require__){var shared=__w_pdfjs_require__(27);module.exports=shared("native-function-to-string",Function.toString)},function(module,exports,__w_pdfjs_require__){var set,get,has,NATIVE_WEAK_MAP=__w_pdfjs_require__(32),global=__w_pdfjs_require__(8),isObject=__w_pdfjs_require__(19),hide=__w_pdfjs_require__(23),objectHas=__w_pdfjs_require__(20),sharedKey=__w_pdfjs_require__(33),hiddenKeys=__w_pdfjs_require__(35);if(NATIVE_WEAK_MAP){var store=new(0,global.WeakMap),wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return hide(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),nativeFunctionToString=__w_pdfjs_require__(30),WeakMap=global.WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(nativeFunctionToString.call(WeakMap))},function(module,exports,__w_pdfjs_require__){var shared=__w_pdfjs_require__(27),uid=__w_pdfjs_require__(34),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},function(module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},function(module,exports){module.exports={}},function(module,exports,__w_pdfjs_require__){var has=__w_pdfjs_require__(20),ownKeys=__w_pdfjs_require__(37),getOwnPropertyDescriptorModule=__w_pdfjs_require__(9),definePropertyModule=__w_pdfjs_require__(24);module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__w_pdfjs_require__){var getBuiltIn=__w_pdfjs_require__(38),getOwnPropertyNamesModule=__w_pdfjs_require__(40),getOwnPropertySymbolsModule=__w_pdfjs_require__(47),anObject=__w_pdfjs_require__(25);module.exports=getBuiltIn("Reflect","ownKeys")||function(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__w_pdfjs_require__){var path=__w_pdfjs_require__(39),global=__w_pdfjs_require__(8),aFunction=function(variable){return"function"==typeof variable?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports,__w_pdfjs_require__){module.exports=__w_pdfjs_require__(8)},function(module,exports,__w_pdfjs_require__){var internalObjectKeys=__w_pdfjs_require__(41),hiddenKeys=__w_pdfjs_require__(46).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports,__w_pdfjs_require__){var has=__w_pdfjs_require__(20),toIndexedObject=__w_pdfjs_require__(14),indexOf=__w_pdfjs_require__(42).indexOf,hiddenKeys=__w_pdfjs_require__(35);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result}},function(module,exports,__w_pdfjs_require__){var toIndexedObject=__w_pdfjs_require__(14),toLength=__w_pdfjs_require__(43),toAbsoluteIndex=__w_pdfjs_require__(45),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(module,exports,__w_pdfjs_require__){var toInteger=__w_pdfjs_require__(44),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},function(module,exports,__w_pdfjs_require__){var toInteger=__w_pdfjs_require__(44),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__w_pdfjs_require__){var isRegExp=__w_pdfjs_require__(50);module.exports=function(it){if(isRegExp(it))throw TypeError("The method doesn't accept regular expressions");return it}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),classof=__w_pdfjs_require__(16),MATCH=__w_pdfjs_require__(51)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==classof(it))}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),shared=__w_pdfjs_require__(27),uid=__w_pdfjs_require__(34),NATIVE_SYMBOL=__w_pdfjs_require__(52),Symbol=global.Symbol,store=shared("wks");module.exports=function(name){return store[name]||(store[name]=NATIVE_SYMBOL&&Symbol[name]||(NATIVE_SYMBOL?Symbol:uid)("Symbol."+name))}},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11);module.exports=!!Object.getOwnPropertySymbols&&!fails((function(){return!String(Symbol())}))},function(module,exports,__w_pdfjs_require__){var MATCH=__w_pdfjs_require__(51)("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(e){try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch(f){}}return!1}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),bind=__w_pdfjs_require__(55),call=Function.call;module.exports=function(CONSTRUCTOR,METHOD,length){return bind(call,global[CONSTRUCTOR].prototype[METHOD],length)}},function(module,exports,__w_pdfjs_require__){var aFunction=__w_pdfjs_require__(56);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(58);var entryUnbind=__w_pdfjs_require__(54);module.exports=entryUnbind("String","endsWith")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),toLength=__w_pdfjs_require__(43),notARegExp=__w_pdfjs_require__(49),requireObjectCoercible=__w_pdfjs_require__(17),correctIsRegExpLogic=__w_pdfjs_require__(53),nativeEndsWith="".endsWith,min=Math.min;$({target:"String",proto:!0,forced:!correctIsRegExpLogic("endsWith")},{endsWith:function(searchString){var that=String(requireObjectCoercible(this));notARegExp(searchString);var endPosition=arguments.length>1?arguments[1]:void 0,len=toLength(that.length),end=void 0===endPosition?len:min(toLength(endPosition),len),search=String(searchString);return nativeEndsWith?nativeEndsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(60);var entryUnbind=__w_pdfjs_require__(54);module.exports=entryUnbind("String","includes")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),notARegExp=__w_pdfjs_require__(49),requireObjectCoercible=__w_pdfjs_require__(17);$({target:"String",proto:!0,forced:!__w_pdfjs_require__(53)("includes")},{includes:function(searchString){return!!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString),arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(62);var entryUnbind=__w_pdfjs_require__(54);module.exports=entryUnbind("Array","includes")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),$includes=__w_pdfjs_require__(42).includes,addToUnscopables=__w_pdfjs_require__(63);$({target:"Array",proto:!0},{includes:function(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes")},function(module,exports,__w_pdfjs_require__){var wellKnownSymbol=__w_pdfjs_require__(51),create=__w_pdfjs_require__(64),hide=__w_pdfjs_require__(23),UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&hide(ArrayPrototype,UNSCOPABLES,create(null)),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),defineProperties=__w_pdfjs_require__(65),enumBugKeys=__w_pdfjs_require__(46),hiddenKeys=__w_pdfjs_require__(35),html=__w_pdfjs_require__(67),documentCreateElement=__w_pdfjs_require__(22),IE_PROTO=__w_pdfjs_require__(33)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=documentCreateElement("iframe"),length=enumBugKeys.length;for(iframe.style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;length--;)delete createDict.prototype[enumBugKeys[length]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:defineProperties(result,Properties)},hiddenKeys[IE_PROTO]=!0},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),definePropertyModule=__w_pdfjs_require__(24),anObject=__w_pdfjs_require__(25),objectKeys=__w_pdfjs_require__(66);module.exports=DESCRIPTORS?Object.defineProperties:function(O,Properties){anObject(O);for(var key,keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},function(module,exports,__w_pdfjs_require__){var internalObjectKeys=__w_pdfjs_require__(41),enumBugKeys=__w_pdfjs_require__(46);module.exports=Object.keys||function(O){return internalObjectKeys(O,enumBugKeys)}},function(module,exports,__w_pdfjs_require__){var getBuiltIn=__w_pdfjs_require__(38);module.exports=getBuiltIn("document","documentElement")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(69),__w_pdfjs_require__(81);var path=__w_pdfjs_require__(39);module.exports=path.Array.from},function(module,exports,__w_pdfjs_require__){"use strict";var charAt=__w_pdfjs_require__(70).charAt,InternalStateModule=__w_pdfjs_require__(31),defineIterator=__w_pdfjs_require__(71),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(function(iterated){setInternalState(this,{type:"String Iterator",string:String(iterated),index:0})}),(function(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?{value:void 0,done:!0}:(point=charAt(string,index),state.index+=point.length,{value:point,done:!1})}))},function(module,exports,__w_pdfjs_require__){var toInteger=__w_pdfjs_require__(44),requireObjectCoercible=__w_pdfjs_require__(17),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=String(requireObjectCoercible($this)),position=toInteger(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=S.charCodeAt(position))<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):second-56320+(first-55296<<10)+65536}};module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),createIteratorConstructor=__w_pdfjs_require__(72),getPrototypeOf=__w_pdfjs_require__(74),setPrototypeOf=__w_pdfjs_require__(79),setToStringTag=__w_pdfjs_require__(77),hide=__w_pdfjs_require__(23),redefine=__w_pdfjs_require__(26),wellKnownSymbol=__w_pdfjs_require__(51),IS_PURE=__w_pdfjs_require__(29),Iterators=__w_pdfjs_require__(78),IteratorsCore=__w_pdfjs_require__(73),IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":case"values":case"entries":return function(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)),IteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):"function"!=typeof CurrentIteratorPrototype[ITERATOR]&&hide(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis))),"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(INCORRECT_VALUES_NAME=!0,defaultIterator=function(){return nativeIterator.call(this)}),IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||hide(IterablePrototype,ITERATOR,defaultIterator),Iterators[NAME]=defaultIterator,DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)!BUGGY_SAFARI_ITERATORS&&!INCORRECT_VALUES_NAME&&KEY in IterablePrototype||redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return methods}},function(module,exports,__w_pdfjs_require__){"use strict";var IteratorPrototype=__w_pdfjs_require__(73).IteratorPrototype,create=__w_pdfjs_require__(64),createPropertyDescriptor=__w_pdfjs_require__(13),setToStringTag=__w_pdfjs_require__(77),Iterators=__w_pdfjs_require__(78),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},function(module,exports,__w_pdfjs_require__){"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,getPrototypeOf=__w_pdfjs_require__(74),hide=__w_pdfjs_require__(23),has=__w_pdfjs_require__(20),wellKnownSymbol=__w_pdfjs_require__(51),IS_PURE=__w_pdfjs_require__(29),ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),null==IteratorPrototype&&(IteratorPrototype={}),IS_PURE||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,(function(){return this})),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},function(module,exports,__w_pdfjs_require__){var has=__w_pdfjs_require__(20),toObject=__w_pdfjs_require__(75),sharedKey=__w_pdfjs_require__(33),CORRECT_PROTOTYPE_GETTER=__w_pdfjs_require__(76),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectPrototype:null}},function(module,exports,__w_pdfjs_require__){var requireObjectCoercible=__w_pdfjs_require__(17);module.exports=function(argument){return Object(requireObjectCoercible(argument))}},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11);module.exports=!fails((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(module,exports,__w_pdfjs_require__){var defineProperty=__w_pdfjs_require__(24).f,has=__w_pdfjs_require__(20),TO_STRING_TAG=__w_pdfjs_require__(51)("toStringTag");module.exports=function(it,TAG,STATIC){it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)&&defineProperty(it,TO_STRING_TAG,{configurable:!0,value:TAG})}},function(module,exports){module.exports={}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),aPossiblePrototype=__w_pdfjs_require__(80);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter.call(O,proto):O.__proto__=proto,O}}():void 0)},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19);module.exports=function(it){if(!isObject(it)&&null!==it)throw TypeError("Can't set "+String(it)+" as a prototype");return it}},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),from=__w_pdfjs_require__(82);$({target:"Array",stat:!0,forced:!__w_pdfjs_require__(88)((function(iterable){Array.from(iterable)}))},{from:from})},function(module,exports,__w_pdfjs_require__){"use strict";var bind=__w_pdfjs_require__(55),toObject=__w_pdfjs_require__(75),callWithSafeIterationClosing=__w_pdfjs_require__(83),isArrayIteratorMethod=__w_pdfjs_require__(84),toLength=__w_pdfjs_require__(43),createProperty=__w_pdfjs_require__(85),getIteratorMethod=__w_pdfjs_require__(86);module.exports=function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,argumentsLength=arguments.length,mapfn=argumentsLength>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iteratorMethod=getIteratorMethod(O);if(mapping&&(mapfn=bind(mapfn,argumentsLength>2?arguments[2]:void 0,2)),null==iteratorMethod||C==Array&&isArrayIteratorMethod(iteratorMethod))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iteratorMethod.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25);module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){var returnMethod=iterator.return;throw void 0!==returnMethod&&anObject(returnMethod.call(iterator)),error}}},function(module,exports,__w_pdfjs_require__){var wellKnownSymbol=__w_pdfjs_require__(51),Iterators=__w_pdfjs_require__(78),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},function(module,exports,__w_pdfjs_require__){"use strict";var toPrimitive=__w_pdfjs_require__(18),definePropertyModule=__w_pdfjs_require__(24),createPropertyDescriptor=__w_pdfjs_require__(13);module.exports=function(object,key,value){var propertyKey=toPrimitive(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},function(module,exports,__w_pdfjs_require__){var classof=__w_pdfjs_require__(87),Iterators=__w_pdfjs_require__(78),ITERATOR=__w_pdfjs_require__(51)("iterator");module.exports=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__w_pdfjs_require__){var classofRaw=__w_pdfjs_require__(16),TO_STRING_TAG=__w_pdfjs_require__(51)("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&"function"==typeof O.callee?"Arguments":result}},function(module,exports,__w_pdfjs_require__){var ITERATOR=__w_pdfjs_require__(51)("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(90);var path=__w_pdfjs_require__(39);module.exports=path.Object.assign},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),assign=__w_pdfjs_require__(91);$({target:"Object",stat:!0,forced:Object.assign!==assign},{assign:assign})},function(module,exports,__w_pdfjs_require__){"use strict";var DESCRIPTORS=__w_pdfjs_require__(10),fails=__w_pdfjs_require__(11),objectKeys=__w_pdfjs_require__(66),getOwnPropertySymbolsModule=__w_pdfjs_require__(47),propertyIsEnumerableModule=__w_pdfjs_require__(12),toObject=__w_pdfjs_require__(75),IndexedObject=__w_pdfjs_require__(15),nativeAssign=Object.assign;module.exports=!nativeAssign||fails((function(){var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach((function(chr){B[chr]=chr})),7!=nativeAssign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys(nativeAssign({},B)).join("")}))?function(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!propertyIsEnumerable.call(S,key)||(T[key]=S[key]);return T}:nativeAssign},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(93);var path=__w_pdfjs_require__(39);module.exports=path.Math.log2},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),log=Math.log,LN2=Math.LN2;$({target:"Math",stat:!0},{log2:function(x){return log(x)/LN2}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(95);var path=__w_pdfjs_require__(39);module.exports=path.Number.isNaN},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(7)({target:"Number",stat:!0},{isNaN:function(number){return number!=number}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(97);var path=__w_pdfjs_require__(39);module.exports=path.Number.isInteger},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(7)({target:"Number",stat:!0},{isInteger:__w_pdfjs_require__(98)})},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(100),__w_pdfjs_require__(69),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(119),__w_pdfjs_require__(120);var path=__w_pdfjs_require__(39);module.exports=path.Promise},function(module,exports,__w_pdfjs_require__){var redefine=__w_pdfjs_require__(26),toString=__w_pdfjs_require__(101),ObjectPrototype=Object.prototype;toString!==ObjectPrototype.toString&&redefine(ObjectPrototype,"toString",toString,{unsafe:!0})},function(module,exports,__w_pdfjs_require__){"use strict";var classof=__w_pdfjs_require__(87),test={};test[__w_pdfjs_require__(51)("toStringTag")]="z",module.exports="[object z]"!==String(test)?function(){return"[object "+classof(this)+"]"}:test.toString},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8),DOMIterables=__w_pdfjs_require__(103),ArrayIteratorMethods=__w_pdfjs_require__(104),hide=__w_pdfjs_require__(23),wellKnownSymbol=__w_pdfjs_require__(51),ITERATOR=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{hide(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||hide(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{hide(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}},function(module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(module,exports,__w_pdfjs_require__){"use strict";var toIndexedObject=__w_pdfjs_require__(14),addToUnscopables=__w_pdfjs_require__(63),Iterators=__w_pdfjs_require__(78),InternalStateModule=__w_pdfjs_require__(31),defineIterator=__w_pdfjs_require__(71),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",(function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})}),(function(){var state=getInternalState(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?(state.target=void 0,{value:void 0,done:!0}):"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}}),"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__w_pdfjs_require__){"use strict";var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,$=__w_pdfjs_require__(7),IS_PURE=__w_pdfjs_require__(29),global=__w_pdfjs_require__(8),path=__w_pdfjs_require__(39),NativePromise=__w_pdfjs_require__(106),redefine=__w_pdfjs_require__(26),redefineAll=__w_pdfjs_require__(107),setToStringTag=__w_pdfjs_require__(77),setSpecies=__w_pdfjs_require__(108),isObject=__w_pdfjs_require__(19),aFunction=__w_pdfjs_require__(56),anInstance=__w_pdfjs_require__(109),classof=__w_pdfjs_require__(16),iterate=__w_pdfjs_require__(110),checkCorrectnessOfIteration=__w_pdfjs_require__(88),speciesConstructor=__w_pdfjs_require__(111),task=__w_pdfjs_require__(112).set,microtask=__w_pdfjs_require__(113),promiseResolve=__w_pdfjs_require__(115),hostReportErrors=__w_pdfjs_require__(117),newPromiseCapabilityModule=__w_pdfjs_require__(116),perform=__w_pdfjs_require__(118),userAgent=__w_pdfjs_require__(114),InternalStateModule=__w_pdfjs_require__(31),isForced=__w_pdfjs_require__(48),SPECIES=__w_pdfjs_require__(51)("species"),getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor("Promise"),PromiseConstructor=NativePromise,TypeError=global.TypeError,document=global.document,process=global.process,$fetch=global.fetch,versions=process&&process.versions,v8=versions&&versions.v8||"",newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,IS_NODE="process"==classof(process),DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),FORCED=isForced("Promise",(function(){var promise=PromiseConstructor.resolve(1),empty=function(){},FakePromise=(promise.constructor={})[SPECIES]=function(exec){exec(empty,empty)};return!((IS_NODE||"function"==typeof PromiseRejectionEvent)&&(!IS_PURE||promise.finally)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66"))})),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration((function(iterable){PromiseConstructor.all(iterable).catch((function(){}))})),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,state,isReject){if(!state.notified){state.notified=!0;var chain=state.reactions;microtask((function(){for(var value=state.value,ok=1==state.state,index=0;chain.length>index;){var result,then,exited,reaction=chain[index++],handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2===state.rejection&&onHandleUnhandled(promise,state),state.rejection=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}}state.reactions=[],state.notified=!1,isReject&&!state.rejection&&onUnhandled(promise,state)}))}},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?((event=document.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),global.dispatchEvent(event)):event={promise:promise,reason:reason},(handler=global["on"+name])?handler(event):"unhandledrejection"===name&&hostReportErrors("Unhandled promise rejection",reason)},onUnhandled=function(promise,state){task.call(global,(function(){var result,value=state.value;if(isUnhandled(state)&&(result=perform((function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent("unhandledrejection",promise,value)})),state.rejection=IS_NODE||isUnhandled(state)?2:1,result.error))throw result.value}))},isUnhandled=function(state){return 1!==state.rejection&&!state.parent},onHandleUnhandled=function(promise,state){task.call(global,(function(){IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent("rejectionhandled",promise,state.value)}))},bind=function(fn,promise,state,unwrap){return function(value){fn(promise,state,value,unwrap)}},internalReject=function(promise,state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=2,notify(promise,state,!0))},internalResolve=function(promise,state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(promise===value)throw TypeError("Promise can't be resolved itself");var then=isThenable(value);then?microtask((function(){var wrapper={done:!1};try{then.call(value,bind(internalResolve,promise,wrapper,state),bind(internalReject,promise,wrapper,state))}catch(error){internalReject(promise,wrapper,error,state)}})):(state.value=value,state.state=1,notify(promise,state,!1))}catch(error){internalReject(promise,{done:!1},error,state)}}};FORCED&&(PromiseConstructor=function(executor){anInstance(this,PromiseConstructor,"Promise"),aFunction(executor),Internal.call(this);var state=getInternalState(this);try{executor(bind(internalResolve,this,state),bind(internalReject,this,state))}catch(error){internalReject(this,state,error)}},(Internal=function(executor){setInternalState(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=redefineAll(PromiseConstructor.prototype,{then:function(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=IS_NODE?process.domain:void 0,state.parent=!0,state.reactions.push(reaction),0!=state.state&&notify(this,state,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalState(promise);this.promise=promise,this.resolve=bind(internalResolve,promise,state),this.reject=bind(internalReject,promise,state)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},IS_PURE||"function"!=typeof NativePromise||(nativeThen=NativePromise.prototype.then,redefine(NativePromise.prototype,"then",(function(onFulfilled,onRejected){var that=this;return new PromiseConstructor((function(resolve,reject){nativeThen.call(that,resolve,reject)})).then(onFulfilled,onRejected)})),"function"==typeof $fetch&&$({global:!0,enumerable:!0,forced:!0},{fetch:function(input){return promiseResolve(PromiseConstructor,$fetch.apply(global,arguments))}}))),$({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,"Promise",!1,!0),setSpecies("Promise"),PromiseWrapper=path.Promise,$({target:"Promise",stat:!0,forced:FORCED},{reject:function(r){var capability=newPromiseCapability(this);return capability.reject.call(void 0,r),capability.promise}}),$({target:"Promise",stat:!0,forced:IS_PURE||FORCED},{resolve:function(x){return promiseResolve(IS_PURE&&this===PromiseWrapper?PromiseConstructor:this,x)}}),$({target:"Promise",stat:!0,forced:INCORRECT_ITERATION},{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform((function(){var $promiseResolve=aFunction(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,(function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,$promiseResolve.call(C,promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining||resolve(values))}),reject)})),--remaining||resolve(values)}));return result.error&&reject(result.value),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform((function(){var $promiseResolve=aFunction(C.resolve);iterate(iterable,(function(promise){$promiseResolve.call(C,promise).then(capability.resolve,reject)}))}));return result.error&&reject(result.value),capability.promise}})},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8);module.exports=global.Promise},function(module,exports,__w_pdfjs_require__){var redefine=__w_pdfjs_require__(26);module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},function(module,exports,__w_pdfjs_require__){"use strict";var getBuiltIn=__w_pdfjs_require__(38),definePropertyModule=__w_pdfjs_require__(24),wellKnownSymbol=__w_pdfjs_require__(51),DESCRIPTORS=__w_pdfjs_require__(10),SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME);DESCRIPTORS&&Constructor&&!Constructor[SPECIES]&&(0,definePropertyModule.f)(Constructor,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError("Incorrect "+(name?name+" ":"")+"invocation");return it}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),isArrayIteratorMethod=__w_pdfjs_require__(84),toLength=__w_pdfjs_require__(43),bind=__w_pdfjs_require__(55),getIteratorMethod=__w_pdfjs_require__(86),callWithSafeIterationClosing=__w_pdfjs_require__(83),Result=function(stopped,result){this.stopped=stopped,this.result=result};(module.exports=function(iterable,fn,that,AS_ENTRIES,IS_ITERATOR){var iterator,iterFn,index,length,result,step,boundFunction=bind(fn,that,AS_ENTRIES?2:1);if(IS_ITERATOR)iterator=iterable;else{if("function"!=typeof(iterFn=getIteratorMethod(iterable)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength(iterable.length);length>index;index++)if((result=AS_ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]))&&result instanceof Result)return result;return new Result(!1)}iterator=iterFn.call(iterable)}for(;!(step=iterator.next()).done;)if((result=callWithSafeIterationClosing(iterator,boundFunction,step.value,AS_ENTRIES))&&result instanceof Result)return result;return new Result(!1)}).stop=function(result){return new Result(!0,result)}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),aFunction=__w_pdfjs_require__(56),SPECIES=__w_pdfjs_require__(51)("species");module.exports=function(O,defaultConstructor){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?defaultConstructor:aFunction(S)}},function(module,exports,__w_pdfjs_require__){var defer,channel,port,global=__w_pdfjs_require__(8),fails=__w_pdfjs_require__(11),classof=__w_pdfjs_require__(16),bind=__w_pdfjs_require__(55),html=__w_pdfjs_require__(67),createElement=__w_pdfjs_require__(22),location=global.location,set=global.setImmediate,clear=global.clearImmediate,process=global.process,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(id){if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},runner=function(id){return function(){run(id)}},listener=function(event){run(event.data)},post=function(id){global.postMessage(id+"",location.protocol+"//"+location.host)};set&&clear||(set=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){("function"==typeof fn?fn:Function(fn)).apply(void 0,args)},defer(counter),counter},clear=function(id){delete queue[id]},"process"==classof(process)?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port,1)):!global.addEventListener||"function"!=typeof postMessage||global.importScripts||fails(post)?defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)}:(defer=post,global.addEventListener("message",listener,!1))),module.exports={set:set,clear:clear}},function(module,exports,__w_pdfjs_require__){var flush,head,last,notify,toggle,node,promise,then,global=__w_pdfjs_require__(8),getOwnPropertyDescriptor=__w_pdfjs_require__(9).f,classof=__w_pdfjs_require__(16),macrotask=__w_pdfjs_require__(112).set,userAgent=__w_pdfjs_require__(114),MutationObserver=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,IS_NODE="process"==classof(process),queueMicrotaskDescriptor=getOwnPropertyDescriptor(global,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;queueMicrotask||(flush=function(){var parent,fn;for(IS_NODE&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(error){throw head?notify():last=void 0,error}}last=void 0,parent&&parent.enter()},IS_NODE?notify=function(){process.nextTick(flush)}:MutationObserver&&!/(iphone|ipod|ipad).*applewebkit/i.test(userAgent)?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}):Promise&&Promise.resolve?(promise=Promise.resolve(void 0),then=promise.then,notify=function(){then.call(promise,flush)}):notify=function(){macrotask.call(global,flush)}),module.exports=queueMicrotask||function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}},function(module,exports,__w_pdfjs_require__){var getBuiltIn=__w_pdfjs_require__(38);module.exports=getBuiltIn("navigator","userAgent")||""},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),isObject=__w_pdfjs_require__(19),newPromiseCapability=__w_pdfjs_require__(116);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__w_pdfjs_require__){"use strict";var aFunction=__w_pdfjs_require__(56),PromiseCapability=function(C){var resolve,reject;this.promise=new C((function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject})),this.resolve=aFunction(resolve),this.reject=aFunction(reject)};module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8);module.exports=function(a,b){var console=global.console;console&&console.error&&(1===arguments.length?console.error(a):console.error(a,b))}},function(module,exports){module.exports=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}}},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),aFunction=__w_pdfjs_require__(56),newPromiseCapabilityModule=__w_pdfjs_require__(116),perform=__w_pdfjs_require__(118),iterate=__w_pdfjs_require__(110);$({target:"Promise",stat:!0},{allSettled:function(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),resolve=capability.resolve,reject=capability.reject,result=perform((function(){var promiseResolve=aFunction(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,(function(promise){var index=counter++,alreadyCalled=!1;values.push(void 0),remaining++,promiseResolve.call(C,promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[index]={status:"fulfilled",value:value},--remaining||resolve(values))}),(function(e){alreadyCalled||(alreadyCalled=!0,values[index]={status:"rejected",reason:e},--remaining||resolve(values))}))})),--remaining||resolve(values)}));return result.error&&reject(result.value),capability.promise}})},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),IS_PURE=__w_pdfjs_require__(29),NativePromise=__w_pdfjs_require__(106),getBuiltIn=__w_pdfjs_require__(38),speciesConstructor=__w_pdfjs_require__(111),promiseResolve=__w_pdfjs_require__(115),redefine=__w_pdfjs_require__(26);$({target:"Promise",proto:!0,real:!0},{finally:function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise")),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then((function(){return x}))}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then((function(){throw e}))}:onFinally)}}),IS_PURE||"function"!=typeof NativePromise||NativePromise.prototype.finally||redefine(NativePromise.prototype,"finally",getBuiltIn("Promise").prototype.finally)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(122),__w_pdfjs_require__(127),__w_pdfjs_require__(125);var path=__w_pdfjs_require__(39);module.exports=path.URL},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(69);var EOF,$=__w_pdfjs_require__(7),DESCRIPTORS=__w_pdfjs_require__(10),USE_NATIVE_URL=__w_pdfjs_require__(123),global=__w_pdfjs_require__(8),defineProperties=__w_pdfjs_require__(65),redefine=__w_pdfjs_require__(26),anInstance=__w_pdfjs_require__(109),has=__w_pdfjs_require__(20),assign=__w_pdfjs_require__(91),arrayFrom=__w_pdfjs_require__(82),codeAt=__w_pdfjs_require__(70).codeAt,toASCII=__w_pdfjs_require__(124),setToStringTag=__w_pdfjs_require__(77),URLSearchParamsModule=__w_pdfjs_require__(125),InternalStateModule=__w_pdfjs_require__(31),NativeURL=global.URL,URLSearchParams=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),floor=Math.floor,pow=Math.pow,ALPHA=/[A-Za-z]/,ALPHANUMERIC=/[\d+\-.A-Za-z]/,DIGIT=/\d/,HEX_START=/^(0x|0X)/,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\dA-Fa-f]+$/,FORBIDDEN_HOST_CODE_POINT=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,TAB_AND_NEW_LINE=/[\u0009\u000A\u000D]/g,parseHost=function(url,input){var result,codePoints,index;if("["==input.charAt(0)){if("]"!=input.charAt(input.length-1))return"Invalid host";if(!(result=parseIPv6(input.slice(1,-1))))return"Invalid host";url.host=result}else if(isSpecial(url)){if(input=toASCII(input),FORBIDDEN_HOST_CODE_POINT.test(input))return"Invalid host";if(null===(result=parseIPv4(input)))return"Invalid host";url.host=result}else{if(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input))return"Invalid host";for(result="",codePoints=arrayFrom(input),index=0;index<codePoints.length;index++)result+=percentEncode(codePoints[index],C0ControlPercentEncodeSet);url.host=result}},parseIPv4=function(input){var partsLength,numbers,index,part,radix,number,ipv4,parts=input.split(".");if(parts.length&&""==parts[parts.length-1]&&parts.pop(),(partsLength=parts.length)>4)return input;for(numbers=[],index=0;index<partsLength;index++){if(""==(part=parts[index]))return input;if(radix=10,part.length>1&&"0"==part.charAt(0)&&(radix=HEX_START.test(part)?16:8,part=part.slice(8==radix?1:2)),""===part)number=0;else{if(!(10==radix?DEC:8==radix?OCT:HEX).test(part))return input;number=parseInt(part,radix)}numbers.push(number)}for(index=0;index<partsLength;index++)if(number=numbers[index],index==partsLength-1){if(number>=pow(256,5-partsLength))return null}else if(number>255)return null;for(ipv4=numbers.pop(),index=0;index<numbers.length;index++)ipv4+=numbers[index]*pow(256,3-index);return ipv4},parseIPv6=function(input){var value,length,numbersSeen,ipv4Piece,number,swaps,swap,address=[0,0,0,0,0,0,0,0],pieceIndex=0,compress=null,pointer=0,char=function(){return input.charAt(pointer)};if(":"==char()){if(":"!=input.charAt(1))return;pointer+=2,compress=++pieceIndex}for(;char();){if(8==pieceIndex)return;if(":"!=char()){for(value=length=0;length<4&&HEX.test(char());)value=16*value+parseInt(char(),16),pointer++,length++;if("."==char()){if(0==length)return;if(pointer-=length,pieceIndex>6)return;for(numbersSeen=0;char();){if(ipv4Piece=null,numbersSeen>0){if(!("."==char()&&numbersSeen<4))return;pointer++}if(!DIGIT.test(char()))return;for(;DIGIT.test(char());){if(number=parseInt(char(),10),null===ipv4Piece)ipv4Piece=number;else{if(0==ipv4Piece)return;ipv4Piece=10*ipv4Piece+number}if(ipv4Piece>255)return;pointer++}address[pieceIndex]=256*address[pieceIndex]+ipv4Piece,2!=++numbersSeen&&4!=numbersSeen||pieceIndex++}if(4!=numbersSeen)return;break}if(":"==char()){if(pointer++,!char())return}else if(char())return;address[pieceIndex++]=value}else{if(null!==compress)return;pointer++,compress=++pieceIndex}}if(null!==compress)for(swaps=pieceIndex-compress,pieceIndex=7;0!=pieceIndex&&swaps>0;)swap=address[pieceIndex],address[pieceIndex--]=address[compress+swaps-1],address[compress+--swaps]=swap;else if(8!=pieceIndex)return;return address},serializeHost=function(host){var result,index,compress,ignore0;if("number"==typeof host){for(result=[],index=0;index<4;index++)result.unshift(host%256),host=floor(host/256);return result.join(".")}if("object"==typeof host){for(result="",compress=function(ipv6){for(var maxIndex=null,maxLength=1,currStart=null,currLength=0,index=0;index<8;index++)0!==ipv6[index]?(currLength>maxLength&&(maxIndex=currStart,maxLength=currLength),currStart=null,currLength=0):(null===currStart&&(currStart=index),++currLength);return currLength>maxLength&&(maxIndex=currStart,maxLength=currLength),maxIndex}(host),index=0;index<8;index++)ignore0&&0===host[index]||(ignore0&&(ignore0=!1),compress===index?(result+=index?":":"::",ignore0=!0):(result+=host[index].toString(16),index<7&&(result+=":")));return"["+result+"]"}return host},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(char,set){var code=codeAt(char,0);return code>32&&code<127&&!has(set,char)?char:encodeURIComponent(char)},specialSchemes={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},isSpecial=function(url){return has(specialSchemes,url.scheme)},includesCredentials=function(url){return""!=url.username||""!=url.password},cannotHaveUsernamePasswordPort=function(url){return!url.host||url.cannotBeABaseURL||"file"==url.scheme},isWindowsDriveLetter=function(string,normalized){var second;return 2==string.length&&ALPHA.test(string.charAt(0))&&(":"==(second=string.charAt(1))||!normalized&&"|"==second)},startsWithWindowsDriveLetter=function(string){var third;return string.length>1&&isWindowsDriveLetter(string.slice(0,2))&&(2==string.length||"/"===(third=string.charAt(2))||"\\"===third||"?"===third||"#"===third)},shortenURLsPath=function(url){var path=url.path,pathSize=path.length;!pathSize||"file"==url.scheme&&1==pathSize&&isWindowsDriveLetter(path[0],!0)||path.pop()},isSingleDot=function(segment){return"."===segment||"%2e"===segment.toLowerCase()},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},parseURL=function(url,input,stateOverride,base){var codePoints,char,bufferCodePoints,failure,segment,state=stateOverride||SCHEME_START,pointer=0,buffer="",seenAt=!1,seenBracket=!1,seenPasswordToken=!1;for(stateOverride||(url.scheme="",url.username="",url.password="",url.host=null,url.port=null,url.path=[],url.query=null,url.fragment=null,url.cannotBeABaseURL=!1,input=input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")),input=input.replace(TAB_AND_NEW_LINE,""),codePoints=arrayFrom(input);pointer<=codePoints.length;){switch(char=codePoints[pointer],state){case SCHEME_START:if(!char||!ALPHA.test(char)){if(stateOverride)return"Invalid scheme";state=NO_SCHEME;continue}buffer+=char.toLowerCase(),state=SCHEME;break;case SCHEME:if(char&&(ALPHANUMERIC.test(char)||"+"==char||"-"==char||"."==char))buffer+=char.toLowerCase();else{if(":"!=char){if(stateOverride)return"Invalid scheme";buffer="",state=NO_SCHEME,pointer=0;continue}if(stateOverride&&(isSpecial(url)!=has(specialSchemes,buffer)||"file"==buffer&&(includesCredentials(url)||null!==url.port)||"file"==url.scheme&&!url.host))return;if(url.scheme=buffer,stateOverride)return void(isSpecial(url)&&specialSchemes[url.scheme]==url.port&&(url.port=null));buffer="","file"==url.scheme?state=FILE:isSpecial(url)&&base&&base.scheme==url.scheme?state=SPECIAL_RELATIVE_OR_AUTHORITY:isSpecial(url)?state=SPECIAL_AUTHORITY_SLASHES:"/"==codePoints[pointer+1]?(state=PATH_OR_AUTHORITY,pointer++):(url.cannotBeABaseURL=!0,url.path.push(""),state=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!base||base.cannotBeABaseURL&&"#"!=char)return"Invalid scheme";if(base.cannotBeABaseURL&&"#"==char){url.scheme=base.scheme,url.path=base.path.slice(),url.query=base.query,url.fragment="",url.cannotBeABaseURL=!0,state=FRAGMENT;break}state="file"==base.scheme?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if("/"!=char||"/"!=codePoints[pointer+1]){state=RELATIVE;continue}state=SPECIAL_AUTHORITY_IGNORE_SLASHES,pointer++;break;case PATH_OR_AUTHORITY:if("/"==char){state=AUTHORITY;break}state=PATH;continue;case RELATIVE:if(url.scheme=base.scheme,char==EOF)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query=base.query;else if("/"==char||"\\"==char&&isSpecial(url))state=RELATIVE_SLASH;else if("?"==char)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query="",state=QUERY;else{if("#"!=char){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.path.pop(),state=PATH;continue}url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=base.path.slice(),url.query=base.query,url.fragment="",state=FRAGMENT}break;case RELATIVE_SLASH:if(!isSpecial(url)||"/"!=char&&"\\"!=char){if("/"!=char){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,state=PATH;continue}state=AUTHORITY}else state=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(state=SPECIAL_AUTHORITY_IGNORE_SLASHES,"/"!=char||"/"!=buffer.charAt(pointer+1))continue;pointer++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if("/"!=char&&"\\"!=char){state=AUTHORITY;continue}break;case AUTHORITY:if("@"==char){seenAt&&(buffer="%40"+buffer),seenAt=!0,bufferCodePoints=arrayFrom(buffer);for(var i=0;i<bufferCodePoints.length;i++){var codePoint=bufferCodePoints[i];if(":"!=codePoint||seenPasswordToken){var encodedCodePoints=percentEncode(codePoint,userinfoPercentEncodeSet);seenPasswordToken?url.password+=encodedCodePoints:url.username+=encodedCodePoints}else seenPasswordToken=!0}buffer=""}else if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)){if(seenAt&&""==buffer)return"Invalid authority";pointer-=arrayFrom(buffer).length+1,buffer="",state=HOST}else buffer+=char;break;case HOST:case HOSTNAME:if(stateOverride&&"file"==url.scheme){state=FILE_HOST;continue}if(":"!=char||seenBracket){if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)){if(isSpecial(url)&&""==buffer)return"Invalid host";if(stateOverride&&""==buffer&&(includesCredentials(url)||null!==url.port))return;if(failure=parseHost(url,buffer))return failure;if(buffer="",state=PATH_START,stateOverride)return;continue}"["==char?seenBracket=!0:"]"==char&&(seenBracket=!1),buffer+=char}else{if(""==buffer)return"Invalid host";if(failure=parseHost(url,buffer))return failure;if(buffer="",state=PORT,stateOverride==HOSTNAME)return}break;case PORT:if(!DIGIT.test(char)){if(char==EOF||"/"==char||"?"==char||"#"==char||"\\"==char&&isSpecial(url)||stateOverride){if(""!=buffer){var port=parseInt(buffer,10);if(port>65535)return"Invalid port";url.port=isSpecial(url)&&port===specialSchemes[url.scheme]?null:port,buffer=""}if(stateOverride)return;state=PATH_START;continue}return"Invalid port"}buffer+=char;break;case FILE:if(url.scheme="file","/"==char||"\\"==char)state=FILE_SLASH;else{if(!base||"file"!=base.scheme){state=PATH;continue}if(char==EOF)url.host=base.host,url.path=base.path.slice(),url.query=base.query;else if("?"==char)url.host=base.host,url.path=base.path.slice(),url.query="",state=QUERY;else{if("#"!=char){startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))||(url.host=base.host,url.path=base.path.slice(),shortenURLsPath(url)),state=PATH;continue}url.host=base.host,url.path=base.path.slice(),url.query=base.query,url.fragment="",state=FRAGMENT}}break;case FILE_SLASH:if("/"==char||"\\"==char){state=FILE_HOST;break}base&&"file"==base.scheme&&!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))&&(isWindowsDriveLetter(base.path[0],!0)?url.path.push(base.path[0]):url.host=base.host),state=PATH;continue;case FILE_HOST:if(char==EOF||"/"==char||"\\"==char||"?"==char||"#"==char){if(!stateOverride&&isWindowsDriveLetter(buffer))state=PATH;else if(""==buffer){if(url.host="",stateOverride)return;state=PATH_START}else{if(failure=parseHost(url,buffer))return failure;if("localhost"==url.host&&(url.host=""),stateOverride)return;buffer="",state=PATH_START}continue}buffer+=char;break;case PATH_START:if(isSpecial(url)){if(state=PATH,"/"!=char&&"\\"!=char)continue}else if(stateOverride||"?"!=char)if(stateOverride||"#"!=char){if(char!=EOF&&(state=PATH,"/"!=char))continue}else url.fragment="",state=FRAGMENT;else url.query="",state=QUERY;break;case PATH:if(char==EOF||"/"==char||"\\"==char&&isSpecial(url)||!stateOverride&&("?"==char||"#"==char)){if(".."===(segment=(segment=buffer).toLowerCase())||"%2e."===segment||".%2e"===segment||"%2e%2e"===segment?(shortenURLsPath(url),"/"==char||"\\"==char&&isSpecial(url)||url.path.push("")):isSingleDot(buffer)?"/"==char||"\\"==char&&isSpecial(url)||url.path.push(""):("file"==url.scheme&&!url.path.length&&isWindowsDriveLetter(buffer)&&(url.host&&(url.host=""),buffer=buffer.charAt(0)+":"),url.path.push(buffer)),buffer="","file"==url.scheme&&(char==EOF||"?"==char||"#"==char))for(;url.path.length>1&&""===url.path[0];)url.path.shift();"?"==char?(url.query="",state=QUERY):"#"==char&&(url.fragment="",state=FRAGMENT)}else buffer+=percentEncode(char,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:"?"==char?(url.query="",state=QUERY):"#"==char?(url.fragment="",state=FRAGMENT):char!=EOF&&(url.path[0]+=percentEncode(char,C0ControlPercentEncodeSet));break;case QUERY:stateOverride||"#"!=char?char!=EOF&&("'"==char&&isSpecial(url)?url.query+="%27":url.query+="#"==char?"%23":percentEncode(char,C0ControlPercentEncodeSet)):(url.fragment="",state=FRAGMENT);break;case FRAGMENT:char!=EOF&&(url.fragment+=percentEncode(char,fragmentPercentEncodeSet))}pointer++}},URLConstructor=function(url){var baseState,failure,that=anInstance(this,URLConstructor,"URL"),base=arguments.length>1?arguments[1]:void 0,urlString=String(url),state=setInternalState(that,{type:"URL"});if(void 0!==base)if(base instanceof URLConstructor)baseState=getInternalURLState(base);else if(failure=parseURL(baseState={},String(base)))throw TypeError(failure);if(failure=parseURL(state,urlString,null,baseState))throw TypeError(failure);var searchParams=state.searchParams=new URLSearchParams,searchParamsState=getInternalSearchParamsState(searchParams);searchParamsState.updateSearchParams(state.query),searchParamsState.updateURL=function(){state.query=String(searchParams)||null},DESCRIPTORS||(that.href=serializeURL.call(that),that.origin=getOrigin.call(that),that.protocol=getProtocol.call(that),that.username=getUsername.call(that),that.password=getPassword.call(that),that.host=getHost.call(that),that.hostname=getHostname.call(that),that.port=getPort.call(that),that.pathname=getPathname.call(that),that.search=getSearch.call(that),that.searchParams=getSearchParams.call(that),that.hash=getHash.call(that))},URLPrototype=URLConstructor.prototype,serializeURL=function(){var url=getInternalURLState(this),scheme=url.scheme,username=url.username,password=url.password,host=url.host,port=url.port,path=url.path,query=url.query,fragment=url.fragment,output=scheme+":";return null!==host?(output+="//",includesCredentials(url)&&(output+=username+(password?":"+password:"")+"@"),output+=serializeHost(host),null!==port&&(output+=":"+port)):"file"==scheme&&(output+="//"),output+=url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):"",null!==query&&(output+="?"+query),null!==fragment&&(output+="#"+fragment),output},getOrigin=function(){var url=getInternalURLState(this),scheme=url.scheme,port=url.port;if("blob"==scheme)try{return new URL(scheme.path[0]).origin}catch(error){return"null"}return"file"!=scheme&&isSpecial(url)?scheme+"://"+serializeHost(url.host)+(null!==port?":"+port:""):"null"},getProtocol=function(){return getInternalURLState(this).scheme+":"},getUsername=function(){return getInternalURLState(this).username},getPassword=function(){return getInternalURLState(this).password},getHost=function(){var url=getInternalURLState(this),host=url.host,port=url.port;return null===host?"":null===port?serializeHost(host):serializeHost(host)+":"+port},getHostname=function(){var host=getInternalURLState(this).host;return null===host?"":serializeHost(host)},getPort=function(){var port=getInternalURLState(this).port;return null===port?"":String(port)},getPathname=function(){var url=getInternalURLState(this),path=url.path;return url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):""},getSearch=function(){var query=getInternalURLState(this).query;return query?"?"+query:""},getSearchParams=function(){return getInternalURLState(this).searchParams},getHash=function(){var fragment=getInternalURLState(this).fragment;return fragment?"#"+fragment:""},accessorDescriptor=function(getter,setter){return{get:getter,set:setter,configurable:!0,enumerable:!0}};if(DESCRIPTORS&&defineProperties(URLPrototype,{href:accessorDescriptor(serializeURL,(function(href){var url=getInternalURLState(this),urlString=String(href),failure=parseURL(url,urlString);if(failure)throw TypeError(failure);getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)})),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,(function(protocol){var url=getInternalURLState(this);parseURL(url,String(protocol)+":",SCHEME_START)})),username:accessorDescriptor(getUsername,(function(username){var url=getInternalURLState(this),codePoints=arrayFrom(String(username));if(!cannotHaveUsernamePasswordPort(url)){url.username="";for(var i=0;i<codePoints.length;i++)url.username+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}})),password:accessorDescriptor(getPassword,(function(password){var url=getInternalURLState(this),codePoints=arrayFrom(String(password));if(!cannotHaveUsernamePasswordPort(url)){url.password="";for(var i=0;i<codePoints.length;i++)url.password+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}})),host:accessorDescriptor(getHost,(function(host){var url=getInternalURLState(this);url.cannotBeABaseURL||parseURL(url,String(host),HOST)})),hostname:accessorDescriptor(getHostname,(function(hostname){var url=getInternalURLState(this);url.cannotBeABaseURL||parseURL(url,String(hostname),HOSTNAME)})),port:accessorDescriptor(getPort,(function(port){var url=getInternalURLState(this);cannotHaveUsernamePasswordPort(url)||(""==(port=String(port))?url.port=null:parseURL(url,port,PORT))})),pathname:accessorDescriptor(getPathname,(function(pathname){var url=getInternalURLState(this);url.cannotBeABaseURL||(url.path=[],parseURL(url,pathname+"",PATH_START))})),search:accessorDescriptor(getSearch,(function(search){var url=getInternalURLState(this);""==(search=String(search))?url.query=null:("?"==search.charAt(0)&&(search=search.slice(1)),url.query="",parseURL(url,search,QUERY)),getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)})),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,(function(hash){var url=getInternalURLState(this);""!=(hash=String(hash))?("#"==hash.charAt(0)&&(hash=hash.slice(1)),url.fragment="",parseURL(url,hash,FRAGMENT)):url.fragment=null}))}),redefine(URLPrototype,"toJSON",(function(){return serializeURL.call(this)}),{enumerable:!0}),redefine(URLPrototype,"toString",(function(){return serializeURL.call(this)}),{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&redefine(URLConstructor,"createObjectURL",(function(blob){return nativeCreateObjectURL.apply(NativeURL,arguments)})),nativeRevokeObjectURL&&redefine(URLConstructor,"revokeObjectURL",(function(url){return nativeRevokeObjectURL.apply(NativeURL,arguments)}))}setToStringTag(URLConstructor,"URL"),$({global:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor})},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11),wellKnownSymbol=__w_pdfjs_require__(51),IS_PURE=__w_pdfjs_require__(29),ITERATOR=wellKnownSymbol("iterator");module.exports=!fails((function(){var url=new URL("b?e=1","http://a"),searchParams=url.searchParams;return url.pathname="c%20d",IS_PURE&&!url.toJSON||!searchParams.sort||"http://a/c%20d?e=1"!==url.href||"1"!==searchParams.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!searchParams[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash}))},function(module,exports,__w_pdfjs_require__){"use strict";var regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",floor=Math.floor,stringFromCharCode=String.fromCharCode,digitToBasic=function(digit){return digit+22+75*(digit<26)},adapt=function(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))},encode=function(input){var i,currentValue,output=[],inputLength=(input=function(string){for(var output=[],counter=0,length=string.length;counter<length;){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)}else output.push(value)}return output}(input)).length,n=128,delta=0,bias=72;for(i=0;i<input.length;i++)(currentValue=input[i])<128&&output.push(stringFromCharCode(currentValue));var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&output.push("-");handledCPCount<inputLength;){var m=2147483647;for(i=0;i<input.length;i++)(currentValue=input[i])>=n&&currentValue<m&&(m=currentValue);var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((2147483647-delta)/handledCPCountPlusOne))throw RangeError(OVERFLOW_ERROR);for(delta+=(m-n)*handledCPCountPlusOne,n=m,i=0;i<input.length;i++){if((currentValue=input[i])<n&&++delta>2147483647)throw RangeError(OVERFLOW_ERROR);if(currentValue==n){for(var q=delta,k=36;;k+=36){var t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=36-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}}++delta,++n}return output.join("")};module.exports=function(input){var i,label,encoded=[],labels=input.toLowerCase().replace(regexSeparators,".").split(".");for(i=0;i<labels.length;i++)encoded.push(regexNonASCII.test(label=labels[i])?"xn--"+encode(label):label);return encoded.join(".")}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(104);var $=__w_pdfjs_require__(7),USE_NATIVE_URL=__w_pdfjs_require__(123),redefine=__w_pdfjs_require__(26),redefineAll=__w_pdfjs_require__(107),setToStringTag=__w_pdfjs_require__(77),createIteratorConstructor=__w_pdfjs_require__(72),InternalStateModule=__w_pdfjs_require__(31),anInstance=__w_pdfjs_require__(109),hasOwn=__w_pdfjs_require__(20),bind=__w_pdfjs_require__(55),anObject=__w_pdfjs_require__(25),isObject=__w_pdfjs_require__(19),getIterator=__w_pdfjs_require__(126),getIteratorMethod=__w_pdfjs_require__(86),ITERATOR=__w_pdfjs_require__(51)("iterator"),setInternalState=InternalStateModule.set,getInternalParamsState=InternalStateModule.getterFor("URLSearchParams"),getInternalIteratorState=InternalStateModule.getterFor("URLSearchParamsIterator"),plus=/\+/g,sequences=Array(4),percentSequence=function(bytes){return sequences[bytes-1]||(sequences[bytes-1]=RegExp("((?:%[\\da-f]{2}){"+bytes+"})","gi"))},percentDecode=function(sequence){try{return decodeURIComponent(sequence)}catch(error){return sequence}},deserialize=function(it){var result=it.replace(plus," "),bytes=4;try{return decodeURIComponent(result)}catch(error){for(;bytes;)result=result.replace(percentSequence(bytes--),percentDecode);return result}},find=/[!'()~]|%20/g,replace={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(match){return replace[match]},serialize=function(it){return encodeURIComponent(it).replace(find,replacer)},parseSearchParams=function(result,query){if(query)for(var attribute,entry,attributes=query.split("&"),index=0;index<attributes.length;)(attribute=attributes[index++]).length&&(entry=attribute.split("="),result.push({key:deserialize(entry.shift()),value:deserialize(entry.join("="))}))},updateSearchParams=function(query){this.entries.length=0,parseSearchParams(this.entries,query)},validateArgumentsLength=function(passed,required){if(passed<required)throw TypeError("Not enough arguments")},URLSearchParamsIterator=createIteratorConstructor((function(params,kind){setInternalState(this,{type:"URLSearchParamsIterator",iterator:getIterator(getInternalParamsState(params).entries),kind:kind})}),"Iterator",(function(){var state=getInternalIteratorState(this),kind=state.kind,step=state.iterator.next(),entry=step.value;return step.done||(step.value="keys"===kind?entry.key:"values"===kind?entry.value:[entry.key,entry.value]),step})),URLSearchParamsConstructor=function(){anInstance(this,URLSearchParamsConstructor,"URLSearchParams");var iteratorMethod,iterator,step,entryIterator,first,second,key,init=arguments.length>0?arguments[0]:void 0,that=this,entries=[];if(setInternalState(that,{type:"URLSearchParams",entries:entries,updateURL:function(){},updateSearchParams:updateSearchParams}),void 0!==init)if(isObject(init))if("function"==typeof(iteratorMethod=getIteratorMethod(init)))for(iterator=iteratorMethod.call(init);!(step=iterator.next()).done;){if((first=(entryIterator=getIterator(anObject(step.value))).next()).done||(second=entryIterator.next()).done||!entryIterator.next().done)throw TypeError("Expected sequence with length 2");entries.push({key:first.value+"",value:second.value+""})}else for(key in init)hasOwn(init,key)&&entries.push({key:key,value:init[key]+""});else parseSearchParams(entries,"string"==typeof init?"?"===init.charAt(0)?init.slice(1):init:init+"")},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;redefineAll(URLSearchParamsPrototype,{append:function(name,value){validateArgumentsLength(arguments.length,2);var state=getInternalParamsState(this);state.entries.push({key:name+"",value:value+""}),state.updateURL()},delete:function(name){validateArgumentsLength(arguments.length,1);for(var state=getInternalParamsState(this),entries=state.entries,key=name+"",index=0;index<entries.length;)entries[index].key===key?entries.splice(index,1):index++;state.updateURL()},get:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",index=0;index<entries.length;index++)if(entries[index].key===key)return entries[index].value;return null},getAll:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",result=[],index=0;index<entries.length;index++)entries[index].key===key&&result.push(entries[index].value);return result},has:function(name){validateArgumentsLength(arguments.length,1);for(var entries=getInternalParamsState(this).entries,key=name+"",index=0;index<entries.length;)if(entries[index++].key===key)return!0;return!1},set:function(name,value){validateArgumentsLength(arguments.length,1);for(var entry,state=getInternalParamsState(this),entries=state.entries,found=!1,key=name+"",val=value+"",index=0;index<entries.length;index++)(entry=entries[index]).key===key&&(found?entries.splice(index--,1):(found=!0,entry.value=val));found||entries.push({key:key,value:val}),state.updateURL()},sort:function(){var entry,entriesIndex,sliceIndex,state=getInternalParamsState(this),entries=state.entries,slice=entries.slice();for(entries.length=0,sliceIndex=0;sliceIndex<slice.length;sliceIndex++){for(entry=slice[sliceIndex],entriesIndex=0;entriesIndex<sliceIndex;entriesIndex++)if(entries[entriesIndex].key>entry.key){entries.splice(entriesIndex,0,entry);break}entriesIndex===sliceIndex&&entries.push(entry)}state.updateURL()},forEach:function(callback){for(var entry,entries=getInternalParamsState(this).entries,boundFunction=bind(callback,arguments.length>1?arguments[1]:void 0,3),index=0;index<entries.length;)boundFunction((entry=entries[index++]).value,entry.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),redefine(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries),redefine(URLSearchParamsPrototype,"toString",(function(){for(var entry,entries=getInternalParamsState(this).entries,result=[],index=0;index<entries.length;)entry=entries[index++],result.push(serialize(entry.key)+"="+serialize(entry.value));return result.join("&")}),{enumerable:!0}),setToStringTag(URLSearchParamsConstructor,"URLSearchParams"),$({global:!0,forced:!USE_NATIVE_URL},{URLSearchParams:URLSearchParamsConstructor}),module.exports={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState}},function(module,exports,__w_pdfjs_require__){var anObject=__w_pdfjs_require__(25),getIteratorMethod=__w_pdfjs_require__(86);module.exports=function(it){var iteratorMethod=getIteratorMethod(it);if("function"!=typeof iteratorMethod)throw TypeError(String(it)+" is not iterable");return anObject(iteratorMethod.call(it))}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(7)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(100),__w_pdfjs_require__(129),__w_pdfjs_require__(102);var path=__w_pdfjs_require__(39);module.exports=path.WeakMap},function(module,exports,__w_pdfjs_require__){"use strict";var InternalWeakMap,global=__w_pdfjs_require__(8),redefineAll=__w_pdfjs_require__(107),InternalMetadataModule=__w_pdfjs_require__(130),collection=__w_pdfjs_require__(132),collectionWeak=__w_pdfjs_require__(134),isObject=__w_pdfjs_require__(19),enforceIternalState=__w_pdfjs_require__(31).enforce,NATIVE_WEAK_MAP=__w_pdfjs_require__(32),IS_IE11=!global.ActiveXObject&&"ActiveXObject"in global,isExtensible=Object.isExtensible,wrapper=function(get){return function(){return get(this,arguments.length?arguments[0]:void 0)}},$WeakMap=module.exports=collection("WeakMap",wrapper,collectionWeak,!0,!0);if(NATIVE_WEAK_MAP&&IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.REQUIRED=!0;var WeakMapPrototype=$WeakMap.prototype,nativeDelete=WeakMapPrototype.delete,nativeHas=WeakMapPrototype.has,nativeGet=WeakMapPrototype.get,nativeSet=WeakMapPrototype.set;redefineAll(WeakMapPrototype,{delete:function(key){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeDelete.call(this,key)||state.frozen.delete(key)}return nativeDelete.call(this,key)},has:function(key){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key)||state.frozen.has(key)}return nativeHas.call(this,key)},get:function(key){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);return state.frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key)?nativeGet.call(this,key):state.frozen.get(key)}return nativeGet.call(this,key)},set:function(key,value){if(isObject(key)&&!isExtensible(key)){var state=enforceIternalState(this);state.frozen||(state.frozen=new InternalWeakMap),nativeHas.call(this,key)?nativeSet.call(this,key,value):state.frozen.set(key,value)}else nativeSet.call(this,key,value);return this}})}},function(module,exports,__w_pdfjs_require__){var hiddenKeys=__w_pdfjs_require__(35),isObject=__w_pdfjs_require__(19),has=__w_pdfjs_require__(20),defineProperty=__w_pdfjs_require__(24).f,uid=__w_pdfjs_require__(34),FREEZING=__w_pdfjs_require__(131),METADATA=uid("meta"),id=0,isExtensible=Object.isExtensible||function(){return!0},setMetadata=function(it){defineProperty(it,METADATA,{value:{objectID:"O"+ ++id,weakData:{}}})},meta=module.exports={REQUIRED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID},getWeakData:function(it,create){if(!has(it,METADATA)){if(!isExtensible(it))return!0;if(!create)return!1;setMetadata(it)}return it[METADATA].weakData},onFreeze:function(it){return FREEZING&&meta.REQUIRED&&isExtensible(it)&&!has(it,METADATA)&&setMetadata(it),it}};hiddenKeys[METADATA]=!0},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11);module.exports=!fails((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),global=__w_pdfjs_require__(8),isForced=__w_pdfjs_require__(48),redefine=__w_pdfjs_require__(26),InternalMetadataModule=__w_pdfjs_require__(130),iterate=__w_pdfjs_require__(110),anInstance=__w_pdfjs_require__(109),isObject=__w_pdfjs_require__(19),fails=__w_pdfjs_require__(11),checkCorrectnessOfIteration=__w_pdfjs_require__(88),setToStringTag=__w_pdfjs_require__(77),inheritIfRequired=__w_pdfjs_require__(133);module.exports=function(CONSTRUCTOR_NAME,wrapper,common,IS_MAP,IS_WEAK){var NativeConstructor=global[CONSTRUCTOR_NAME],NativePrototype=NativeConstructor&&NativeConstructor.prototype,Constructor=NativeConstructor,ADDER=IS_MAP?"set":"add",exported={},fixMethod=function(KEY){var nativeMethod=NativePrototype[KEY];redefine(NativePrototype,KEY,"add"==KEY?function(value){return nativeMethod.call(this,0===value?0:value),this}:"delete"==KEY?function(key){return!(IS_WEAK&&!isObject(key))&&nativeMethod.call(this,0===key?0:key)}:"get"==KEY?function(key){return IS_WEAK&&!isObject(key)?void 0:nativeMethod.call(this,0===key?0:key)}:"has"==KEY?function(key){return!(IS_WEAK&&!isObject(key))&&nativeMethod.call(this,0===key?0:key)}:function(key,value){return nativeMethod.call(this,0===key?0:key,value),this})};if(isForced(CONSTRUCTOR_NAME,"function"!=typeof NativeConstructor||!(IS_WEAK||NativePrototype.forEach&&!fails((function(){(new NativeConstructor).entries().next()})))))Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER),InternalMetadataModule.REQUIRED=!0;else if(isForced(CONSTRUCTOR_NAME,!0)){var instance=new Constructor,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails((function(){instance.has(1)})),ACCEPT_ITERABLES=checkCorrectnessOfIteration((function(iterable){new NativeConstructor(iterable)})),BUGGY_ZERO=!IS_WEAK&&fails((function(){for(var $instance=new NativeConstructor,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)}));ACCEPT_ITERABLES||((Constructor=wrapper((function(dummy,iterable){anInstance(dummy,Constructor,CONSTRUCTOR_NAME);var that=inheritIfRequired(new NativeConstructor,dummy,Constructor);return null!=iterable&&iterate(iterable,that[ADDER],that,IS_MAP),that}))).prototype=NativePrototype,NativePrototype.constructor=Constructor),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&NativePrototype.clear&&delete NativePrototype.clear}return exported[CONSTRUCTOR_NAME]=Constructor,$({global:!0,forced:Constructor!=NativeConstructor},exported),setToStringTag(Constructor,CONSTRUCTOR_NAME),IS_WEAK||common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP),Constructor}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),setPrototypeOf=__w_pdfjs_require__(79);module.exports=function($this,dummy,Wrapper){var NewTarget,NewTargetPrototype;return setPrototypeOf&&"function"==typeof(NewTarget=dummy.constructor)&&NewTarget!==Wrapper&&isObject(NewTargetPrototype=NewTarget.prototype)&&NewTargetPrototype!==Wrapper.prototype&&setPrototypeOf($this,NewTargetPrototype),$this}},function(module,exports,__w_pdfjs_require__){"use strict";var redefineAll=__w_pdfjs_require__(107),getWeakData=__w_pdfjs_require__(130).getWeakData,anObject=__w_pdfjs_require__(25),isObject=__w_pdfjs_require__(19),anInstance=__w_pdfjs_require__(109),iterate=__w_pdfjs_require__(110),ArrayIterationModule=__w_pdfjs_require__(135),$has=__w_pdfjs_require__(20),InternalStateModule=__w_pdfjs_require__(31),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,id=0,uncaughtFrozenStore=function(store){return store.frozen||(store.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(store,key){return find(store.entries,(function(it){return it[0]===key}))};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.entries.push([key,value])},delete:function(key){var index=findIndex(this.entries,(function(it){return it[0]===key}));return~index&&this.entries.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var C=wrapper((function(that,iterable){anInstance(that,C,CONSTRUCTOR_NAME),setInternalState(that,{type:CONSTRUCTOR_NAME,id:id++,frozen:void 0}),null!=iterable&&iterate(iterable,that[ADDER],that,IS_MAP)})),getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=function(that,key,value){var state=getInternalState(that),data=getWeakData(anObject(key),!0);return!0===data?uncaughtFrozenStore(state).set(key,value):data[state.id]=value,that};return redefineAll(C.prototype,{delete:function(key){var state=getInternalState(this);if(!isObject(key))return!1;var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).delete(key):data&&$has(data,state.id)&&delete data[state.id]},has:function(key){var state=getInternalState(this);if(!isObject(key))return!1;var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).has(key):data&&$has(data,state.id)}}),redefineAll(C.prototype,IS_MAP?{get:function(key){var state=getInternalState(this);if(isObject(key)){var data=getWeakData(key);return!0===data?uncaughtFrozenStore(state).get(key):data?data[state.id]:void 0}},set:function(key,value){return define(this,key,value)}}:{add:function(value){return define(this,value,!0)}}),C}}},function(module,exports,__w_pdfjs_require__){var bind=__w_pdfjs_require__(55),IndexedObject=__w_pdfjs_require__(15),toObject=__w_pdfjs_require__(75),toLength=__w_pdfjs_require__(43),arraySpeciesCreate=__w_pdfjs_require__(136),push=[].push,createMethod=function(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that,3),length=toLength(self.length),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push.call(target,value)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},function(module,exports,__w_pdfjs_require__){var isObject=__w_pdfjs_require__(19),isArray=__w_pdfjs_require__(137),SPECIES=__w_pdfjs_require__(51)("species");module.exports=function(originalArray,length){var C;return isArray(originalArray)&&("function"!=typeof(C=originalArray.constructor)||C!==Array&&!isArray(C.prototype)?isObject(C)&&null===(C=C[SPECIES])&&(C=void 0):C=void 0),new(void 0===C?Array:C)(0===length?0:length)}},function(module,exports,__w_pdfjs_require__){var classof=__w_pdfjs_require__(16);module.exports=Array.isArray||function(arg){return"Array"==classof(arg)}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(100),__w_pdfjs_require__(139),__w_pdfjs_require__(102);var path=__w_pdfjs_require__(39);module.exports=path.WeakSet},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(132)("WeakSet",(function(get){return function(){return get(this,arguments.length?arguments[0]:void 0)}}),__w_pdfjs_require__(134),!1,!0)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(141);var entryUnbind=__w_pdfjs_require__(54);module.exports=entryUnbind("String","codePointAt")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),codeAt=__w_pdfjs_require__(70).codeAt;$({target:"String",proto:!0},{codePointAt:function(pos){return codeAt(this,pos)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(143);var path=__w_pdfjs_require__(39);module.exports=path.String.fromCodePoint},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),toAbsoluteIndex=__w_pdfjs_require__(45),fromCharCode=String.fromCharCode,nativeFromCodePoint=String.fromCodePoint;$({target:"String",stat:!0,forced:!!nativeFromCodePoint&&1!=nativeFromCodePoint.length},{fromCodePoint:function(x){for(var code,elements=[],length=arguments.length,i=0;length>i;){if(code=+arguments[i++],toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");elements.push(code<65536?fromCharCode(code):fromCharCode(55296+((code-=65536)>>10),code%1024+56320))}return elements.join("")}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(145),__w_pdfjs_require__(100),__w_pdfjs_require__(147),__w_pdfjs_require__(151),__w_pdfjs_require__(152),__w_pdfjs_require__(153),__w_pdfjs_require__(154),__w_pdfjs_require__(155),__w_pdfjs_require__(156),__w_pdfjs_require__(157),__w_pdfjs_require__(158),__w_pdfjs_require__(159),__w_pdfjs_require__(160),__w_pdfjs_require__(161),__w_pdfjs_require__(162),__w_pdfjs_require__(163),__w_pdfjs_require__(164),__w_pdfjs_require__(165),__w_pdfjs_require__(166);var path=__w_pdfjs_require__(39);module.exports=path.Symbol},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),fails=__w_pdfjs_require__(11),isArray=__w_pdfjs_require__(137),isObject=__w_pdfjs_require__(19),toObject=__w_pdfjs_require__(75),toLength=__w_pdfjs_require__(43),createProperty=__w_pdfjs_require__(85),arraySpeciesCreate=__w_pdfjs_require__(136),arrayMethodHasSpeciesSupport=__w_pdfjs_require__(146),IS_CONCAT_SPREADABLE=__w_pdfjs_require__(51)("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=!fails((function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array})),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=function(O){if(!isObject(O))return!1;var spreadable=O[IS_CONCAT_SPREADABLE];return void 0!==spreadable?!!spreadable:isArray(O)};$({target:"Array",proto:!0,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT},{concat:function(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(isConcatSpreadable(E=-1===i?O:arguments[i])){if(n+(len=toLength(E.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(n>=9007199254740991)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},function(module,exports,__w_pdfjs_require__){var fails=__w_pdfjs_require__(11),SPECIES=__w_pdfjs_require__(51)("species");module.exports=function(METHOD_NAME){return!fails((function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo}))}},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),global=__w_pdfjs_require__(8),IS_PURE=__w_pdfjs_require__(29),DESCRIPTORS=__w_pdfjs_require__(10),NATIVE_SYMBOL=__w_pdfjs_require__(52),fails=__w_pdfjs_require__(11),has=__w_pdfjs_require__(20),isArray=__w_pdfjs_require__(137),isObject=__w_pdfjs_require__(19),anObject=__w_pdfjs_require__(25),toObject=__w_pdfjs_require__(75),toIndexedObject=__w_pdfjs_require__(14),toPrimitive=__w_pdfjs_require__(18),createPropertyDescriptor=__w_pdfjs_require__(13),nativeObjectCreate=__w_pdfjs_require__(64),objectKeys=__w_pdfjs_require__(66),getOwnPropertyNamesModule=__w_pdfjs_require__(40),getOwnPropertyNamesExternal=__w_pdfjs_require__(148),getOwnPropertySymbolsModule=__w_pdfjs_require__(47),getOwnPropertyDescriptorModule=__w_pdfjs_require__(9),definePropertyModule=__w_pdfjs_require__(24),propertyIsEnumerableModule=__w_pdfjs_require__(12),hide=__w_pdfjs_require__(23),redefine=__w_pdfjs_require__(26),shared=__w_pdfjs_require__(27),sharedKey=__w_pdfjs_require__(33),hiddenKeys=__w_pdfjs_require__(35),uid=__w_pdfjs_require__(34),wellKnownSymbol=__w_pdfjs_require__(51),wrappedWellKnownSymbolModule=__w_pdfjs_require__(149),defineWellKnownSymbol=__w_pdfjs_require__(150),setToStringTag=__w_pdfjs_require__(77),InternalStateModule=__w_pdfjs_require__(31),$forEach=__w_pdfjs_require__(135).forEach,HIDDEN=sharedKey("hidden"),TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Symbol"),ObjectPrototype=Object.prototype,$Symbol=global.Symbol,JSON=global.JSON,nativeJSONStringify=JSON&&JSON.stringify,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),WellKnownSymbolsStore=shared("wks"),QObject=global.QObject,USE_SETTER=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDescriptor=DESCRIPTORS&&fails((function(){return 7!=nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a}))?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);ObjectPrototypeDescriptor&&delete ObjectPrototype[P],nativeDefineProperty(O,P,Attributes),ObjectPrototypeDescriptor&&O!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)}:nativeDefineProperty,wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate($Symbol.prototype);return setInternalState(symbol,{type:"Symbol",tag:tag,description:description}),DESCRIPTORS||(symbol.description=description),symbol},isSymbol=NATIVE_SYMBOL&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return Object(it)instanceof $Symbol},$defineProperty=function(O,P,Attributes){O===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,P,Attributes),anObject(O);var key=toPrimitive(P,!0);return anObject(Attributes),has(AllSymbols,key)?(Attributes.enumerable?(has(O,HIDDEN)&&O[HIDDEN][key]&&(O[HIDDEN][key]=!1),Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,!1)})):(has(O,HIDDEN)||nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,{})),O[HIDDEN][key]=!0),setSymbolDescriptor(O,key,Attributes)):nativeDefineProperty(O,key,Attributes)},$defineProperties=function(O,Properties){anObject(O);var properties=toIndexedObject(Properties),keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));return $forEach(keys,(function(key){DESCRIPTORS&&!$propertyIsEnumerable.call(properties,key)||$defineProperty(O,key,properties[key])})),O},$propertyIsEnumerable=function(V){var P=toPrimitive(V,!0),enumerable=nativePropertyIsEnumerable.call(this,P);return!(this===ObjectPrototype&&has(AllSymbols,P)&&!has(ObjectPrototypeSymbols,P))&&(!(enumerable||!has(this,P)||!has(AllSymbols,P)||has(this,HIDDEN)&&this[HIDDEN][P])||enumerable)},$getOwnPropertyDescriptor=function(O,P){var it=toIndexedObject(O),key=toPrimitive(P,!0);if(it!==ObjectPrototype||!has(AllSymbols,key)||has(ObjectPrototypeSymbols,key)){var descriptor=nativeGetOwnPropertyDescriptor(it,key);return!descriptor||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(descriptor.enumerable=!0),descriptor}},$getOwnPropertyNames=function(O){var names=nativeGetOwnPropertyNames(toIndexedObject(O)),result=[];return $forEach(names,(function(key){has(AllSymbols,key)||has(hiddenKeys,key)||result.push(key)})),result},$getOwnPropertySymbols=function(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype,names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O)),result=[];return $forEach(names,(function(key){!has(AllSymbols,key)||IS_OBJECT_PROTOTYPE&&!has(ObjectPrototype,key)||result.push(AllSymbols[key])})),result};NATIVE_SYMBOL||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var description=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,tag=uid(description),setter=function(value){this===ObjectPrototype&&setter.call(ObjectPrototypeSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};return DESCRIPTORS&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,tag,{configurable:!0,set:setter}),wrap(tag,description)}).prototype,"toString",(function(){return getInternalState(this).tag})),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule.f=$getOwnPropertySymbols,DESCRIPTORS&&(nativeDefineProperty($Symbol.prototype,"description",{configurable:!0,get:function(){return getInternalState(this).description}}),IS_PURE||redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0})),wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)}),$({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol}),$forEach(objectKeys(WellKnownSymbolsStore),(function(name){defineWellKnownSymbol(name)})),$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL},{for:function(key){var string=String(key);if(has(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=$Symbol(string);return StringToSymbolRegistry[string]=symbol,SymbolToStringRegistry[symbol]=string,symbol},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol");if(has(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:function(O,Properties){return void 0===Properties?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$({target:"Object",stat:!0,forced:fails((function(){getOwnPropertySymbolsModule.f(1)}))},{getOwnPropertySymbols:function(it){return getOwnPropertySymbolsModule.f(toObject(it))}}),JSON&&$({target:"JSON",stat:!0,forced:!NATIVE_SYMBOL||fails((function(){var symbol=$Symbol();return"[null]"!=nativeJSONStringify([symbol])||"{}"!=nativeJSONStringify({a:symbol})||"{}"!=nativeJSONStringify(Object(symbol))}))},{stringify:function(it){for(var replacer,$replacer,args=[it],index=1;arguments.length>index;)args.push(arguments[index++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,nativeJSONStringify.apply(JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||hide($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),hiddenKeys[HIDDEN]=!0},function(module,exports,__w_pdfjs_require__){var toIndexedObject=__w_pdfjs_require__(14),nativeGetOwnPropertyNames=__w_pdfjs_require__(40).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return nativeGetOwnPropertyNames(it)}catch(error){return windowNames.slice()}}(it):nativeGetOwnPropertyNames(toIndexedObject(it))}},function(module,exports,__w_pdfjs_require__){exports.f=__w_pdfjs_require__(51)},function(module,exports,__w_pdfjs_require__){var path=__w_pdfjs_require__(39),has=__w_pdfjs_require__(20),wrappedWellKnownSymbolModule=__w_pdfjs_require__(149),defineProperty=__w_pdfjs_require__(24).f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});has(Symbol,NAME)||defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("asyncIterator")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),DESCRIPTORS=__w_pdfjs_require__(10),global=__w_pdfjs_require__(8),has=__w_pdfjs_require__(20),isObject=__w_pdfjs_require__(19),defineProperty=__w_pdfjs_require__(24).f,copyConstructorProperties=__w_pdfjs_require__(36),NativeSymbol=global.Symbol;if(DESCRIPTORS&&"function"==typeof NativeSymbol&&(!("description"in NativeSymbol.prototype)||void 0!==NativeSymbol().description)){var EmptyStringDescriptionStore={},SymbolWrapper=function(){var description=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),result=this instanceof SymbolWrapper?new NativeSymbol(description):void 0===description?NativeSymbol():NativeSymbol(description);return""===description&&(EmptyStringDescriptionStore[result]=!0),result};copyConstructorProperties(SymbolWrapper,NativeSymbol);var symbolPrototype=SymbolWrapper.prototype=NativeSymbol.prototype;symbolPrototype.constructor=SymbolWrapper;var symbolToString=symbolPrototype.toString,native="Symbol(test)"==String(NativeSymbol("test")),regexp=/^Symbol\((.*)\)[^)]+$/;defineProperty(symbolPrototype,"description",{configurable:!0,get:function(){var symbol=isObject(this)?this.valueOf():this,string=symbolToString.call(symbol);if(has(EmptyStringDescriptionStore,symbol))return"";var desc=native?string.slice(7,-1):string.replace(regexp,"$1");return""===desc?void 0:desc}}),$({global:!0,forced:!0},{Symbol:SymbolWrapper})}},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("hasInstance")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("isConcatSpreadable")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("iterator")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("match")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("matchAll")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("replace")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("search")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("species")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("split")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("toPrimitive")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("toStringTag")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(150)("unscopables")},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(77)(Math,"Math",!0)},function(module,exports,__w_pdfjs_require__){var global=__w_pdfjs_require__(8);__w_pdfjs_require__(77)(global.JSON,"JSON",!0)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(168);var entryUnbind=__w_pdfjs_require__(54);module.exports=entryUnbind("String","padStart")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),$padStart=__w_pdfjs_require__(169).start;$({target:"String",proto:!0,forced:__w_pdfjs_require__(171)},{padStart:function(maxLength){return $padStart(this,maxLength,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__w_pdfjs_require__){var toLength=__w_pdfjs_require__(43),repeat=__w_pdfjs_require__(170),requireObjectCoercible=__w_pdfjs_require__(17),ceil=Math.ceil,createMethod=function(IS_END){return function($this,maxLength,fillString){var fillLen,stringFiller,S=String(requireObjectCoercible($this)),stringLength=S.length,fillStr=void 0===fillString?" ":String(fillString),intMaxLength=toLength(maxLength);return intMaxLength<=stringLength||""==fillStr?S:((stringFiller=repeat.call(fillStr,ceil((fillLen=intMaxLength-stringLength)/fillStr.length))).length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),IS_END?S+stringFiller:stringFiller+S)}};module.exports={start:createMethod(!1),end:createMethod(!0)}},function(module,exports,__w_pdfjs_require__){"use strict";var toInteger=__w_pdfjs_require__(44),requireObjectCoercible=__w_pdfjs_require__(17);module.exports="".repeat||function(count){var str=String(requireObjectCoercible(this)),result="",n=toInteger(count);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(result+=str);return result}},function(module,exports,__w_pdfjs_require__){var userAgent=__w_pdfjs_require__(114);module.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent)},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(173);var entryUnbind=__w_pdfjs_require__(54);module.exports=entryUnbind("String","padEnd")},function(module,exports,__w_pdfjs_require__){"use strict";var $=__w_pdfjs_require__(7),$padEnd=__w_pdfjs_require__(169).end;$({target:"String",proto:!0,forced:__w_pdfjs_require__(171)},{padEnd:function(maxLength){return $padEnd(this,maxLength,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__w_pdfjs_require__){__w_pdfjs_require__(175);var path=__w_pdfjs_require__(39);module.exports=path.Object.values},function(module,exports,__w_pdfjs_require__){var $=__w_pdfjs_require__(7),$values=__w_pdfjs_require__(176).values;$({target:"Object",stat:!0},{values:function(O){return $values(O)}})},function(module,exports,__w_pdfjs_require__){var DESCRIPTORS=__w_pdfjs_require__(10),objectKeys=__w_pdfjs_require__(66),toIndexedObject=__w_pdfjs_require__(14),propertyIsEnumerable=__w_pdfjs_require__(12).f,createMethod=function(TO_ENTRIES){return function(it){for(var key,O=toIndexedObject(it),keys=objectKeys(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],DESCRIPTORS&&!propertyIsEnumerable.call(O,key)||result.push(TO_ENTRIES?[key,O[key]]:O[key]);return result}};module.exports={entries:createMethod(!0),values:createMethod(!1)}},function(module,exports,__w_pdfjs_require__){"use strict";var isReadableStreamSupported=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(controller){controller.close()}}),isReadableStreamSupported=!0}catch(e){}exports.ReadableStream=isReadableStreamSupported?ReadableStream:__w_pdfjs_require__(178).ReadableStream},function(__webpack_module__,__webpack_exports__,__w_pdfjs_require__){"use strict";__w_pdfjs_require__.r(__webpack_exports__),__w_pdfjs_require__.d(__webpack_exports__,"ByteLengthQueuingStrategy",(function(){return ByteLengthQueuingStrategy})),__w_pdfjs_require__.d(__webpack_exports__,"CountQueuingStrategy",(function(){return CountQueuingStrategy})),__w_pdfjs_require__.d(__webpack_exports__,"ReadableStream",(function(){return ReadableStream})),__w_pdfjs_require__.d(__webpack_exports__,"TransformStream",(function(){return TransformStream})),__w_pdfjs_require__.d(__webpack_exports__,"WritableStream",(function(){return WritableStream}));var SymbolPolyfill="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(description){return"Symbol("+description+")"};function noop(){}var NumberIsNaN=Number.isNaN||function(x){return x!=x};function typeIsObject(x){return"object"==typeof x&&null!==x||"function"==typeof x}function createArrayFromList(elements){return elements.slice()}function IsFiniteNonNegativeNumber(v){return!1!==function(v){return!("number"!=typeof v||NumberIsNaN(v)||v<0)}(v)&&v!==1/0}function Call(F,V,args){if("function"!=typeof F)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(F,V,args)}function CreateAlgorithmFromUnderlyingMethod(underlyingObject,methodName,algoArgCount,extraArgs){var method=underlyingObject[methodName];if(void 0!==method){if("function"!=typeof method)throw new TypeError(method+" is not a method");switch(algoArgCount){case 0:return function(){return PromiseCall(method,underlyingObject,extraArgs)};case 1:return function(arg){var fullArgs=[arg].concat(extraArgs);return PromiseCall(method,underlyingObject,fullArgs)}}}return function(){return Promise.resolve()}}function InvokeOrNoop(O,P,args){var method=O[P];if(void 0!==method)return Call(method,O,args)}function PromiseCall(F,V,args){try{return Promise.resolve(Call(F,V,args))}catch(value){return Promise.reject(value)}}function ValidateAndNormalizeHighWaterMark(highWaterMark){if(highWaterMark=Number(highWaterMark),NumberIsNaN(highWaterMark)||highWaterMark<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return highWaterMark}function MakeSizeAlgorithmFromSizeFunction(size){if(void 0===size)return function(){return 1};if("function"!=typeof size)throw new TypeError("size property of a queuing strategy must be a function");return function(chunk){return size(chunk)}}var SimpleQueue=function(){function SimpleQueue(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(SimpleQueue.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),SimpleQueue.prototype.push=function(element){var oldBack=this._back,newBack=oldBack;16383===oldBack._elements.length&&(newBack={_elements:[],_next:void 0}),oldBack._elements.push(element),newBack!==oldBack&&(this._back=newBack,oldBack._next=newBack),++this._size},SimpleQueue.prototype.shift=function(){var oldFront=this._front,newFront=oldFront,oldCursor=this._cursor,newCursor=oldCursor+1,elements=oldFront._elements,element=elements[oldCursor];return 16384===newCursor&&(newFront=oldFront._next,newCursor=0),--this._size,this._cursor=newCursor,oldFront!==newFront&&(this._front=newFront),elements[oldCursor]=void 0,element},SimpleQueue.prototype.forEach=function(callback){for(var i=this._cursor,node=this._front,elements=node._elements;!(i===elements.length&&void 0===node._next||i===elements.length&&(i=0,0===(elements=(node=node._next)._elements).length));)callback(elements[i]),++i},SimpleQueue.prototype.peek=function(){return this._front._elements[this._cursor]},SimpleQueue}();function ReadableStreamCreateReadResult(value,done,forAuthorCode){var prototype=null;!0===forAuthorCode&&(prototype=Object.prototype);var obj=Object.create(prototype);return obj.value=value,obj.done=done,obj}function ReadableStreamReaderGenericInitialize(reader,stream){reader._forAuthorCode=!0,reader._ownerReadableStream=stream,stream._reader=reader,"readable"===stream._state?defaultReaderClosedPromiseInitialize(reader):"closed"===stream._state?function(reader){defaultReaderClosedPromiseInitialize(reader),defaultReaderClosedPromiseResolve(reader)}(reader):defaultReaderClosedPromiseInitializeAsRejected(reader,stream._storedError)}function ReadableStreamReaderGenericCancel(reader,reason){return ReadableStreamCancel(reader._ownerReadableStream,reason)}function ReadableStreamReaderGenericRelease(reader){"readable"===reader._ownerReadableStream._state?defaultReaderClosedPromiseReject(reader,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(reader,reason){defaultReaderClosedPromiseInitializeAsRejected(reader,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(reader),reader._ownerReadableStream._reader=void 0,reader._ownerReadableStream=void 0}function readerLockException(name){return new TypeError("Cannot "+name+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(reader){reader._closedPromise=new Promise((function(resolve,reject){reader._closedPromise_resolve=resolve,reader._closedPromise_reject=reject}))}function defaultReaderClosedPromiseInitializeAsRejected(reader,reason){defaultReaderClosedPromiseInitialize(reader),defaultReaderClosedPromiseReject(reader,reason)}function defaultReaderClosedPromiseReject(reader,reason){reader._closedPromise.catch(noop),reader._closedPromise_reject(reason),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}function defaultReaderClosedPromiseResolve(reader){reader._closedPromise_resolve(void 0),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}var CancelSteps=SymbolPolyfill("[[CancelSteps]]"),PullSteps=SymbolPolyfill("[[PullSteps]]");function AcquireReadableStreamDefaultReader(stream,forAuthorCode){void 0===forAuthorCode&&(forAuthorCode=!1);var reader=new ReadableStreamDefaultReader(stream);return reader._forAuthorCode=forAuthorCode,reader}function ReadableStreamAddReadRequest(stream){return new Promise((function(resolve,reject){stream._reader._readRequests.push({_resolve:resolve,_reject:reject})}))}function ReadableStreamFulfillReadRequest(stream,chunk,done){var reader=stream._reader;reader._readRequests.shift()._resolve(ReadableStreamCreateReadResult(chunk,done,reader._forAuthorCode))}function ReadableStreamGetNumReadRequests(stream){return stream._reader._readRequests.length}function ReadableStreamHasDefaultReader(stream){var reader=stream._reader;return void 0!==reader&&!!IsReadableStreamDefaultReader(reader)}var _a,AsyncIteratorPrototype,ReadableStreamDefaultReader=function(){function ReadableStreamDefaultReader(stream){if(!1===IsReadableStream(stream))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===IsReadableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,stream),this._readRequests=new SimpleQueue}return Object.defineProperty(ReadableStreamDefaultReader.prototype,"closed",{get:function(){return IsReadableStreamDefaultReader(this)?this._closedPromise:Promise.reject(defaultReaderBrandCheckException("closed"))},enumerable:!0,configurable:!0}),ReadableStreamDefaultReader.prototype.cancel=function(reason){return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,reason):Promise.reject(defaultReaderBrandCheckException("cancel"))},ReadableStreamDefaultReader.prototype.read=function(){return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("read from")):ReadableStreamDefaultReaderRead(this):Promise.reject(defaultReaderBrandCheckException("read"))},ReadableStreamDefaultReader.prototype.releaseLock=function(){if(!IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}},ReadableStreamDefaultReader}();function IsReadableStreamDefaultReader(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readRequests")}function ReadableStreamDefaultReaderRead(reader){var stream=reader._ownerReadableStream;return stream._disturbed=!0,"closed"===stream._state?Promise.resolve(ReadableStreamCreateReadResult(void 0,!0,reader._forAuthorCode)):"errored"===stream._state?Promise.reject(stream._storedError):stream._readableStreamController[PullSteps]()}function defaultReaderBrandCheckException(name){return new TypeError("ReadableStreamDefaultReader.prototype."+name+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof SymbolPolyfill.asyncIterator&&((_a={})[SymbolPolyfill.asyncIterator]=function(){return this},AsyncIteratorPrototype=_a,Object.defineProperty(AsyncIteratorPrototype,SymbolPolyfill.asyncIterator,{enumerable:!1}));var ReadableStreamAsyncIteratorPrototype={next:function(){if(!1===IsReadableStreamAsyncIterator(this))return Promise.reject(streamAsyncIteratorBrandCheckException("next"));var reader=this._asyncIteratorReader;return void 0===reader._ownerReadableStream?Promise.reject(readerLockException("iterate")):ReadableStreamDefaultReaderRead(reader).then((function(result){var done=result.done;return done&&ReadableStreamReaderGenericRelease(reader),ReadableStreamCreateReadResult(result.value,done,!0)}))},return:function(value){if(!1===IsReadableStreamAsyncIterator(this))return Promise.reject(streamAsyncIteratorBrandCheckException("next"));var reader=this._asyncIteratorReader;if(void 0===reader._ownerReadableStream)return Promise.reject(readerLockException("finish iterating"));if(reader._readRequests.length>0)return Promise.reject(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var result=ReadableStreamReaderGenericCancel(reader,value);return ReadableStreamReaderGenericRelease(reader),result.then((function(){return ReadableStreamCreateReadResult(value,!0,!0)}))}return ReadableStreamReaderGenericRelease(reader),Promise.resolve(ReadableStreamCreateReadResult(value,!0,!0))}};function IsReadableStreamAsyncIterator(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_asyncIteratorReader")}function streamAsyncIteratorBrandCheckException(name){return new TypeError("ReadableStreamAsyncIterator."+name+" can only be used on a ReadableSteamAsyncIterator")}void 0!==AsyncIteratorPrototype&&Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype,AsyncIteratorPrototype),Object.defineProperty(ReadableStreamAsyncIteratorPrototype,"next",{enumerable:!1}),Object.defineProperty(ReadableStreamAsyncIteratorPrototype,"return",{enumerable:!1});var rethrowAssertionErrorRejection=noop;function DequeueValue(container){var pair=container._queue.shift();return container._queueTotalSize-=pair.size,container._queueTotalSize<0&&(container._queueTotalSize=0),pair.value}function EnqueueValueWithSize(container,value,size){if(!IsFiniteNonNegativeNumber(size=Number(size)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");container._queue.push({value:value,size:size}),container._queueTotalSize+=size}function ResetQueue(container){container._queue=new SimpleQueue,container._queueTotalSize=0}var AbortSteps=SymbolPolyfill("[[AbortSteps]]"),ErrorSteps=SymbolPolyfill("[[ErrorSteps]]"),WritableStream=function(){function WritableStream(underlyingSink,strategy){void 0===underlyingSink&&(underlyingSink={}),void 0===strategy&&(strategy={}),InitializeWritableStream(this);var size=strategy.size,highWaterMark=strategy.highWaterMark;if(void 0!==underlyingSink.type)throw new RangeError("Invalid type is specified");var sizeAlgorithm=MakeSizeAlgorithmFromSizeFunction(size);void 0===highWaterMark&&(highWaterMark=1),function(stream,underlyingSink,highWaterMark,sizeAlgorithm){var controller=Object.create(WritableStreamDefaultController.prototype),writeAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSink,"write",1,[controller]),closeAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSink,"close",0,[]),abortAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSink,"abort",1,[]);SetUpWritableStreamDefaultController(stream,controller,(function(){return InvokeOrNoop(underlyingSink,"start",[controller])}),writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm)}(this,underlyingSink,highWaterMark=ValidateAndNormalizeHighWaterMark(highWaterMark),sizeAlgorithm)}return Object.defineProperty(WritableStream.prototype,"locked",{get:function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("locked");return IsWritableStreamLocked(this)},enumerable:!0,configurable:!0}),WritableStream.prototype.abort=function(reason){return!1===IsWritableStream(this)?Promise.reject(streamBrandCheckException("abort")):!0===IsWritableStreamLocked(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):WritableStreamAbort(this,reason)},WritableStream.prototype.getWriter=function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("getWriter");return AcquireWritableStreamDefaultWriter(this)},WritableStream}();function AcquireWritableStreamDefaultWriter(stream){return new WritableStreamDefaultWriter(stream)}function InitializeWritableStream(stream){stream._state="writable",stream._storedError=void 0,stream._writer=void 0,stream._writableStreamController=void 0,stream._writeRequests=new SimpleQueue,stream._inFlightWriteRequest=void 0,stream._closeRequest=void 0,stream._inFlightCloseRequest=void 0,stream._pendingAbortRequest=void 0,stream._backpressure=!1}function IsWritableStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_writableStreamController")}function IsWritableStreamLocked(stream){return void 0!==stream._writer}function WritableStreamAbort(stream,reason){var state=stream._state;if("closed"===state||"errored"===state)return Promise.resolve(void 0);if(void 0!==stream._pendingAbortRequest)return stream._pendingAbortRequest._promise;var wasAlreadyErroring=!1;"erroring"===state&&(wasAlreadyErroring=!0,reason=void 0);var promise=new Promise((function(resolve,reject){stream._pendingAbortRequest={_promise:void 0,_resolve:resolve,_reject:reject,_reason:reason,_wasAlreadyErroring:wasAlreadyErroring}}));return stream._pendingAbortRequest._promise=promise,!1===wasAlreadyErroring&&WritableStreamStartErroring(stream,reason),promise}function WritableStreamDealWithRejection(stream,error){"writable"!==stream._state?WritableStreamFinishErroring(stream):WritableStreamStartErroring(stream,error)}function WritableStreamStartErroring(stream,reason){var controller=stream._writableStreamController;stream._state="erroring",stream._storedError=reason;var writer=stream._writer;void 0!==writer&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,reason),!1===function(stream){return void 0!==stream._inFlightWriteRequest||void 0!==stream._inFlightCloseRequest}(stream)&&!0===controller._started&&WritableStreamFinishErroring(stream)}function WritableStreamFinishErroring(stream){stream._state="errored",stream._writableStreamController[ErrorSteps]();var storedError=stream._storedError;if(stream._writeRequests.forEach((function(writeRequest){writeRequest._reject(storedError)})),stream._writeRequests=new SimpleQueue,void 0!==stream._pendingAbortRequest){var abortRequest=stream._pendingAbortRequest;if(stream._pendingAbortRequest=void 0,!0===abortRequest._wasAlreadyErroring)return abortRequest._reject(storedError),void WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);stream._writableStreamController[AbortSteps](abortRequest._reason).then((function(){abortRequest._resolve(),WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)}),(function(reason){abortRequest._reject(reason),WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)}))}else WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)}function WritableStreamCloseQueuedOrInFlight(stream){return void 0!==stream._closeRequest||void 0!==stream._inFlightCloseRequest}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream){void 0!==stream._closeRequest&&(stream._closeRequest._reject(stream._storedError),stream._closeRequest=void 0);var writer=stream._writer;void 0!==writer&&defaultWriterClosedPromiseReject(writer,stream._storedError)}function WritableStreamUpdateBackpressure(stream,backpressure){var writer=stream._writer;void 0!==writer&&backpressure!==stream._backpressure&&(!0===backpressure?function(writer){defaultWriterReadyPromiseInitialize(writer)}(writer):defaultWriterReadyPromiseResolve(writer)),stream._backpressure=backpressure}var WritableStreamDefaultWriter=function(){function WritableStreamDefaultWriter(stream){if(!1===IsWritableStream(stream))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===IsWritableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=stream,stream._writer=this;var state=stream._state;if("writable"===state)!1===WritableStreamCloseQueuedOrInFlight(stream)&&!0===stream._backpressure?defaultWriterReadyPromiseInitialize(this):defaultWriterReadyPromiseInitializeAsResolved(this),defaultWriterClosedPromiseInitialize(this);else if("erroring"===state)defaultWriterReadyPromiseInitializeAsRejected(this,stream._storedError),defaultWriterClosedPromiseInitialize(this);else if("closed"===state)defaultWriterReadyPromiseInitializeAsResolved(this),defaultWriterClosedPromiseInitialize(this),defaultWriterClosedPromiseResolve(this);else{var storedError=stream._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,storedError),defaultWriterClosedPromiseInitializeAsRejected(this,storedError)}}return Object.defineProperty(WritableStreamDefaultWriter.prototype,"closed",{get:function(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(WritableStreamDefaultWriter.prototype,"desiredSize",{get:function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("desiredSize");if(void 0===this._ownerWritableStream)throw defaultWriterLockException("desiredSize");return"errored"===(state=(stream=this._ownerWritableStream)._state)||"erroring"===state?null:"closed"===state?0:WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);var stream,state},enumerable:!0,configurable:!0}),Object.defineProperty(WritableStreamDefaultWriter.prototype,"ready",{get:function(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("ready")):this._readyPromise},enumerable:!0,configurable:!0}),WritableStreamDefaultWriter.prototype.abort=function(reason){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("abort")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException("abort")):function(writer,reason){return WritableStreamAbort(writer._ownerWritableStream,reason)}(this,reason)},WritableStreamDefaultWriter.prototype.close=function(){if(!1===IsWritableStreamDefaultWriter(this))return Promise.reject(defaultWriterBrandCheckException("close"));var stream=this._ownerWritableStream;return void 0===stream?Promise.reject(defaultWriterLockException("close")):!0===WritableStreamCloseQueuedOrInFlight(stream)?Promise.reject(new TypeError("cannot close an already-closing stream")):WritableStreamDefaultWriterClose(this)},WritableStreamDefaultWriter.prototype.releaseLock=function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("releaseLock");void 0!==this._ownerWritableStream&&WritableStreamDefaultWriterRelease(this)},WritableStreamDefaultWriter.prototype.write=function(chunk){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("write")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException("write to")):WritableStreamDefaultWriterWrite(this,chunk)},WritableStreamDefaultWriter}();function IsWritableStreamDefaultWriter(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_ownerWritableStream")}function WritableStreamDefaultWriterClose(writer){var stream=writer._ownerWritableStream,state=stream._state;if("closed"===state||"errored"===state)return Promise.reject(new TypeError("The stream (in "+state+" state) is not in the writable state and cannot be closed"));var controller,promise=new Promise((function(resolve,reject){stream._closeRequest={_resolve:resolve,_reject:reject}}));return!0===stream._backpressure&&"writable"===state&&defaultWriterReadyPromiseResolve(writer),EnqueueValueWithSize(controller=stream._writableStreamController,"close",0),WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller),promise}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,error){"pending"===writer._readyPromiseState?defaultWriterReadyPromiseReject(writer,error):function(writer,reason){defaultWriterReadyPromiseInitializeAsRejected(writer,reason)}(writer,error)}function WritableStreamDefaultWriterRelease(writer){var stream=writer._ownerWritableStream,releasedError=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,releasedError),function(writer,error){"pending"===writer._closedPromiseState?defaultWriterClosedPromiseReject(writer,error):function(writer,reason){defaultWriterClosedPromiseInitializeAsRejected(writer,reason)}(writer,error)}(writer,releasedError),stream._writer=void 0,writer._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(writer,chunk){var stream=writer._ownerWritableStream,controller=stream._writableStreamController,chunkSize=function(controller,chunk){try{return controller._strategySizeAlgorithm(chunk)}catch(chunkSizeE){return WritableStreamDefaultControllerErrorIfNeeded(controller,chunkSizeE),1}}(controller,chunk);if(stream!==writer._ownerWritableStream)return Promise.reject(defaultWriterLockException("write to"));var state=stream._state;if("errored"===state)return Promise.reject(stream._storedError);if(!0===WritableStreamCloseQueuedOrInFlight(stream)||"closed"===state)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===state)return Promise.reject(stream._storedError);var promise=function(stream){return new Promise((function(resolve,reject){stream._writeRequests.push({_resolve:resolve,_reject:reject})}))}(stream);return function(controller,chunk,chunkSize){var writeRecord={chunk:chunk};try{EnqueueValueWithSize(controller,writeRecord,chunkSize)}catch(enqueueE){return void WritableStreamDefaultControllerErrorIfNeeded(controller,enqueueE)}var stream=controller._controlledWritableStream;!1===WritableStreamCloseQueuedOrInFlight(stream)&&"writable"===stream._state&&WritableStreamUpdateBackpressure(stream,WritableStreamDefaultControllerGetBackpressure(controller)),WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)}(controller,chunk,chunkSize),promise}var WritableStreamDefaultController=function(){function WritableStreamDefaultController(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return WritableStreamDefaultController.prototype.error=function(e){if(0==(!!typeIsObject(this)&&!!Object.prototype.hasOwnProperty.call(this,"_controlledWritableStream")))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&WritableStreamDefaultControllerError(this,e)},WritableStreamDefaultController.prototype[AbortSteps]=function(reason){var result=this._abortAlgorithm(reason);return WritableStreamDefaultControllerClearAlgorithms(this),result},WritableStreamDefaultController.prototype[ErrorSteps]=function(){ResetQueue(this)},WritableStreamDefaultController}();function SetUpWritableStreamDefaultController(stream,controller,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm){controller._controlledWritableStream=stream,stream._writableStreamController=controller,controller._queue=void 0,controller._queueTotalSize=void 0,ResetQueue(controller),controller._started=!1,controller._strategySizeAlgorithm=sizeAlgorithm,controller._strategyHWM=highWaterMark,controller._writeAlgorithm=writeAlgorithm,controller._closeAlgorithm=closeAlgorithm,controller._abortAlgorithm=abortAlgorithm;var backpressure=WritableStreamDefaultControllerGetBackpressure(controller);WritableStreamUpdateBackpressure(stream,backpressure);var startResult=startAlgorithm();Promise.resolve(startResult).then((function(){controller._started=!0,WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)}),(function(r){controller._started=!0,WritableStreamDealWithRejection(stream,r)})).catch(rethrowAssertionErrorRejection)}function WritableStreamDefaultControllerClearAlgorithms(controller){controller._writeAlgorithm=void 0,controller._closeAlgorithm=void 0,controller._abortAlgorithm=void 0,controller._strategySizeAlgorithm=void 0}function WritableStreamDefaultControllerGetDesiredSize(controller){return controller._strategyHWM-controller._queueTotalSize}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller){var stream=controller._controlledWritableStream;if(!1!==controller._started&&void 0===stream._inFlightWriteRequest)if("erroring"!==stream._state){if(0!==controller._queue.length){var writeRecord=controller._queue.peek().value;"close"===writeRecord?function(controller){var stream=controller._controlledWritableStream;(function(stream){stream._inFlightCloseRequest=stream._closeRequest,stream._closeRequest=void 0})(stream),DequeueValue(controller);var sinkClosePromise=controller._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(controller),sinkClosePromise.then((function(){!function(stream){stream._inFlightCloseRequest._resolve(void 0),stream._inFlightCloseRequest=void 0,"erroring"===stream._state&&(stream._storedError=void 0,void 0!==stream._pendingAbortRequest&&(stream._pendingAbortRequest._resolve(),stream._pendingAbortRequest=void 0)),stream._state="closed";var writer=stream._writer;void 0!==writer&&defaultWriterClosedPromiseResolve(writer)}(stream)}),(function(reason){!function(stream,error){stream._inFlightCloseRequest._reject(error),stream._inFlightCloseRequest=void 0,void 0!==stream._pendingAbortRequest&&(stream._pendingAbortRequest._reject(error),stream._pendingAbortRequest=void 0),WritableStreamDealWithRejection(stream,error)}(stream,reason)})).catch(rethrowAssertionErrorRejection)}(controller):function(controller,chunk){var stream=controller._controlledWritableStream;(function(stream){stream._inFlightWriteRequest=stream._writeRequests.shift()})(stream),controller._writeAlgorithm(chunk).then((function(){!function(stream){stream._inFlightWriteRequest._resolve(void 0),stream._inFlightWriteRequest=void 0}(stream);var state=stream._state;if(DequeueValue(controller),!1===WritableStreamCloseQueuedOrInFlight(stream)&&"writable"===state){var backpressure=WritableStreamDefaultControllerGetBackpressure(controller);WritableStreamUpdateBackpressure(stream,backpressure)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)}),(function(reason){"writable"===stream._state&&WritableStreamDefaultControllerClearAlgorithms(controller),function(stream,error){stream._inFlightWriteRequest._reject(error),stream._inFlightWriteRequest=void 0,WritableStreamDealWithRejection(stream,error)}(stream,reason)})).catch(rethrowAssertionErrorRejection)}(controller,writeRecord.chunk)}}else WritableStreamFinishErroring(stream)}function WritableStreamDefaultControllerErrorIfNeeded(controller,error){"writable"===controller._controlledWritableStream._state&&WritableStreamDefaultControllerError(controller,error)}function WritableStreamDefaultControllerGetBackpressure(controller){return WritableStreamDefaultControllerGetDesiredSize(controller)<=0}function WritableStreamDefaultControllerError(controller,error){var stream=controller._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(controller),WritableStreamStartErroring(stream,error)}function streamBrandCheckException(name){return new TypeError("WritableStream.prototype."+name+" can only be used on a WritableStream")}function defaultWriterBrandCheckException(name){return new TypeError("WritableStreamDefaultWriter.prototype."+name+" can only be used on a WritableStreamDefaultWriter")}function defaultWriterLockException(name){return new TypeError("Cannot "+name+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(writer){writer._closedPromise=new Promise((function(resolve,reject){writer._closedPromise_resolve=resolve,writer._closedPromise_reject=reject,writer._closedPromiseState="pending"}))}function defaultWriterClosedPromiseInitializeAsRejected(writer,reason){defaultWriterClosedPromiseInitialize(writer),defaultWriterClosedPromiseReject(writer,reason)}function defaultWriterClosedPromiseReject(writer,reason){writer._closedPromise.catch(noop),writer._closedPromise_reject(reason),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="rejected"}function defaultWriterClosedPromiseResolve(writer){writer._closedPromise_resolve(void 0),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="resolved"}function defaultWriterReadyPromiseInitialize(writer){writer._readyPromise=new Promise((function(resolve,reject){writer._readyPromise_resolve=resolve,writer._readyPromise_reject=reject})),writer._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(writer,reason){defaultWriterReadyPromiseInitialize(writer),defaultWriterReadyPromiseReject(writer,reason)}function defaultWriterReadyPromiseInitializeAsResolved(writer){defaultWriterReadyPromiseInitialize(writer),defaultWriterReadyPromiseResolve(writer)}function defaultWriterReadyPromiseReject(writer,reason){writer._readyPromise.catch(noop),writer._readyPromise_reject(reason),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="rejected"}function defaultWriterReadyPromiseResolve(writer){writer._readyPromise_resolve(void 0),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="fulfilled"}function ReadableStreamPipeTo(source,dest,preventClose,preventAbort,preventCancel,signal){var reader=AcquireReadableStreamDefaultReader(source),writer=AcquireWritableStreamDefaultWriter(dest),shuttingDown=!1,currentWrite=Promise.resolve();return new Promise((function(resolve,reject){var abortAlgorithm,promise,action;if(void 0!==signal){if(abortAlgorithm=function(){var error=new DOMException("Aborted","AbortError"),actions=[];!1===preventAbort&&actions.push((function(){return"writable"===dest._state?WritableStreamAbort(dest,error):Promise.resolve()})),!1===preventCancel&&actions.push((function(){return"readable"===source._state?ReadableStreamCancel(source,error):Promise.resolve()})),shutdownWithAction((function(){return Promise.all(actions.map((function(action){return action()})))}),!0,error)},!0===signal.aborted)return void abortAlgorithm();signal.addEventListener("abort",abortAlgorithm)}if(isOrBecomesErrored(source,reader._closedPromise,(function(storedError){!1===preventAbort?shutdownWithAction((function(){return WritableStreamAbort(dest,storedError)}),!0,storedError):shutdown(!0,storedError)})),isOrBecomesErrored(dest,writer._closedPromise,(function(storedError){!1===preventCancel?shutdownWithAction((function(){return ReadableStreamCancel(source,storedError)}),!0,storedError):shutdown(!0,storedError)})),promise=reader._closedPromise,action=function(){!1===preventClose?shutdownWithAction((function(){return function(writer){var stream=writer._ownerWritableStream,state=stream._state;return!0===WritableStreamCloseQueuedOrInFlight(stream)||"closed"===state?Promise.resolve():"errored"===state?Promise.reject(stream._storedError):WritableStreamDefaultWriterClose(writer)}(writer)})):shutdown()},"closed"===source._state?action():promise.then(action).catch(rethrowAssertionErrorRejection),!0===WritableStreamCloseQueuedOrInFlight(dest)||"closed"===dest._state){var destClosed_1=new TypeError("the destination writable stream closed before all data could be piped to it");!1===preventCancel?shutdownWithAction((function(){return ReadableStreamCancel(source,destClosed_1)}),!0,destClosed_1):shutdown(!0,destClosed_1)}function waitForWritesToFinish(){var oldCurrentWrite=currentWrite;return currentWrite.then((function(){return oldCurrentWrite!==currentWrite?waitForWritesToFinish():void 0}))}function isOrBecomesErrored(stream,promise,action){"errored"===stream._state?action(stream._storedError):promise.catch(action).catch(rethrowAssertionErrorRejection)}function shutdownWithAction(action,originalIsError,originalError){function doTheRest(){action().then((function(){return finalize(originalIsError,originalError)}),(function(newError){return finalize(!0,newError)})).catch(rethrowAssertionErrorRejection)}!0!==shuttingDown&&(shuttingDown=!0,"writable"===dest._state&&!1===WritableStreamCloseQueuedOrInFlight(dest)?waitForWritesToFinish().then(doTheRest):doTheRest())}function shutdown(isError,error){!0!==shuttingDown&&(shuttingDown=!0,"writable"===dest._state&&!1===WritableStreamCloseQueuedOrInFlight(dest)?waitForWritesToFinish().then((function(){return finalize(isError,error)})).catch(rethrowAssertionErrorRejection):finalize(isError,error))}function finalize(isError,error){WritableStreamDefaultWriterRelease(writer),ReadableStreamReaderGenericRelease(reader),void 0!==signal&&signal.removeEventListener("abort",abortAlgorithm),isError?reject(error):resolve(void 0)}new Promise((function(resolveLoop,rejectLoop){!function next(done){done?resolveLoop():(!0===shuttingDown?Promise.resolve(!0):writer._readyPromise.then((function(){return ReadableStreamDefaultReaderRead(reader).then((function(_a){return!0===_a.done||(currentWrite=WritableStreamDefaultWriterWrite(writer,_a.value).catch(noop),!1)}))}))).then(next,rejectLoop)}(!1)})).catch(rethrowAssertionErrorRejection)}))}var ReadableStreamDefaultController=function(){function ReadableStreamDefaultController(){throw new TypeError}return Object.defineProperty(ReadableStreamDefaultController.prototype,"desiredSize",{get:function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this)},enumerable:!0,configurable:!0}),ReadableStreamDefaultController.prototype.close=function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("close");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits close");ReadableStreamDefaultControllerClose(this)},ReadableStreamDefaultController.prototype.enqueue=function(chunk){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits enqueue");return ReadableStreamDefaultControllerEnqueue(this,chunk)},ReadableStreamDefaultController.prototype.error=function(e){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("error");ReadableStreamDefaultControllerError(this,e)},ReadableStreamDefaultController.prototype[CancelSteps]=function(reason){ResetQueue(this);var result=this._cancelAlgorithm(reason);return ReadableStreamDefaultControllerClearAlgorithms(this),result},ReadableStreamDefaultController.prototype[PullSteps]=function(){var stream=this._controlledReadableStream;if(this._queue.length>0){var chunk=DequeueValue(this);return!0===this._closeRequested&&0===this._queue.length?(ReadableStreamDefaultControllerClearAlgorithms(this),ReadableStreamClose(stream)):ReadableStreamDefaultControllerCallPullIfNeeded(this),Promise.resolve(ReadableStreamCreateReadResult(chunk,!1,stream._reader._forAuthorCode))}var pendingPromise=ReadableStreamAddReadRequest(stream);return ReadableStreamDefaultControllerCallPullIfNeeded(this),pendingPromise},ReadableStreamDefaultController}();function IsReadableStreamDefaultController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledReadableStream")}function ReadableStreamDefaultControllerCallPullIfNeeded(controller){!1!==ReadableStreamDefaultControllerShouldCallPull(controller)&&(!0!==controller._pulling?(controller._pulling=!0,controller._pullAlgorithm().then((function(){controller._pulling=!1,!0===controller._pullAgain&&(controller._pullAgain=!1,ReadableStreamDefaultControllerCallPullIfNeeded(controller))}),(function(e){ReadableStreamDefaultControllerError(controller,e)})).catch(rethrowAssertionErrorRejection)):controller._pullAgain=!0)}function ReadableStreamDefaultControllerShouldCallPull(controller){var stream=controller._controlledReadableStream;return!1!==ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)&&!1!==controller._started&&(!0===IsReadableStreamLocked(stream)&&ReadableStreamGetNumReadRequests(stream)>0||ReadableStreamDefaultControllerGetDesiredSize(controller)>0)}function ReadableStreamDefaultControllerClearAlgorithms(controller){controller._pullAlgorithm=void 0,controller._cancelAlgorithm=void 0,controller._strategySizeAlgorithm=void 0}function ReadableStreamDefaultControllerClose(controller){var stream=controller._controlledReadableStream;controller._closeRequested=!0,0===controller._queue.length&&(ReadableStreamDefaultControllerClearAlgorithms(controller),ReadableStreamClose(stream))}function ReadableStreamDefaultControllerEnqueue(controller,chunk){var stream=controller._controlledReadableStream;if(!0===IsReadableStreamLocked(stream)&&ReadableStreamGetNumReadRequests(stream)>0)ReadableStreamFulfillReadRequest(stream,chunk,!1);else{var chunkSize=void 0;try{chunkSize=controller._strategySizeAlgorithm(chunk)}catch(chunkSizeE){throw ReadableStreamDefaultControllerError(controller,chunkSizeE),chunkSizeE}try{EnqueueValueWithSize(controller,chunk,chunkSize)}catch(enqueueE){throw ReadableStreamDefaultControllerError(controller,enqueueE),enqueueE}}ReadableStreamDefaultControllerCallPullIfNeeded(controller)}function ReadableStreamDefaultControllerError(controller,e){var stream=controller._controlledReadableStream;"readable"===stream._state&&(ResetQueue(controller),ReadableStreamDefaultControllerClearAlgorithms(controller),ReadableStreamError(stream,e))}function ReadableStreamDefaultControllerGetDesiredSize(controller){var state=controller._controlledReadableStream._state;return"errored"===state?null:"closed"===state?0:controller._strategyHWM-controller._queueTotalSize}function ReadableStreamDefaultControllerCanCloseOrEnqueue(controller){return!1===controller._closeRequested&&"readable"===controller._controlledReadableStream._state}function SetUpReadableStreamDefaultController(stream,controller,startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm){controller._controlledReadableStream=stream,controller._queue=void 0,controller._queueTotalSize=void 0,ResetQueue(controller),controller._started=!1,controller._closeRequested=!1,controller._pullAgain=!1,controller._pulling=!1,controller._strategySizeAlgorithm=sizeAlgorithm,controller._strategyHWM=highWaterMark,controller._pullAlgorithm=pullAlgorithm,controller._cancelAlgorithm=cancelAlgorithm,stream._readableStreamController=controller;var startResult=startAlgorithm();Promise.resolve(startResult).then((function(){controller._started=!0,ReadableStreamDefaultControllerCallPullIfNeeded(controller)}),(function(r){ReadableStreamDefaultControllerError(controller,r)})).catch(rethrowAssertionErrorRejection)}function defaultControllerBrandCheckException(name){return new TypeError("ReadableStreamDefaultController.prototype."+name+" can only be used on a ReadableStreamDefaultController")}var NumberIsInteger=Number.isInteger||function(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value},ReadableStreamBYOBRequest=function(){function ReadableStreamBYOBRequest(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(ReadableStreamBYOBRequest.prototype,"view",{get:function(){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("view");return this._view},enumerable:!0,configurable:!0}),ReadableStreamBYOBRequest.prototype.respond=function(bytesWritten){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(controller,bytesWritten){if(!1===IsFiniteNonNegativeNumber(bytesWritten=Number(bytesWritten)))throw new RangeError("bytesWritten must be a finite");ReadableByteStreamControllerRespondInternal(controller,bytesWritten)}(this._associatedReadableByteStreamController,bytesWritten)},ReadableStreamBYOBRequest.prototype.respondWithNewView=function(view){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(view))throw new TypeError("You can only respond with array buffer views");!function(controller,view){var firstDescriptor=controller._pendingPullIntos.peek();if(firstDescriptor.byteOffset+firstDescriptor.bytesFilled!==view.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(firstDescriptor.byteLength!==view.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");firstDescriptor.buffer=view.buffer,ReadableByteStreamControllerRespondInternal(controller,view.byteLength)}(this._associatedReadableByteStreamController,view)},ReadableStreamBYOBRequest}(),ReadableByteStreamController=function(){function ReadableByteStreamController(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(ReadableByteStreamController.prototype,"byobRequest",{get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var firstDescriptor=this._pendingPullIntos.peek(),view=new Uint8Array(firstDescriptor.buffer,firstDescriptor.byteOffset+firstDescriptor.bytesFilled,firstDescriptor.byteLength-firstDescriptor.bytesFilled),byobRequest=Object.create(ReadableStreamBYOBRequest.prototype);!function(request,controller,view){request._associatedReadableByteStreamController=controller,request._view=view}(byobRequest,this,view),this._byobRequest=byobRequest}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(ReadableByteStreamController.prototype,"desiredSize",{get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("desiredSize");return ReadableByteStreamControllerGetDesiredSize(this)},enumerable:!0,configurable:!0}),ReadableByteStreamController.prototype.close=function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var state=this._controlledReadableByteStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be closed");!function(controller){var stream=controller._controlledReadableByteStream;if(controller._queueTotalSize>0)controller._closeRequested=!0;else{if(controller._pendingPullIntos.length>0&&controller._pendingPullIntos.peek().bytesFilled>0){var e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ReadableByteStreamControllerError(controller,e),e}ReadableByteStreamControllerClearAlgorithms(controller),ReadableStreamClose(stream)}}(this)},ReadableByteStreamController.prototype.enqueue=function(chunk){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var state=this._controlledReadableByteStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(chunk))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(controller,chunk){var stream=controller._controlledReadableByteStream,byteOffset=chunk.byteOffset,byteLength=chunk.byteLength,transferredBuffer=chunk.buffer;!0===ReadableStreamHasDefaultReader(stream)?0===ReadableStreamGetNumReadRequests(stream)?ReadableByteStreamControllerEnqueueChunkToQueue(controller,transferredBuffer,byteOffset,byteLength):ReadableStreamFulfillReadRequest(stream,new Uint8Array(transferredBuffer,byteOffset,byteLength),!1):!0===ReadableStreamHasBYOBReader(stream)?(ReadableByteStreamControllerEnqueueChunkToQueue(controller,transferredBuffer,byteOffset,byteLength),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller)):ReadableByteStreamControllerEnqueueChunkToQueue(controller,transferredBuffer,byteOffset,byteLength),ReadableByteStreamControllerCallPullIfNeeded(controller)}(this,chunk)},ReadableByteStreamController.prototype.error=function(e){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("error");ReadableByteStreamControllerError(this,e)},ReadableByteStreamController.prototype[CancelSteps]=function(reason){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),ResetQueue(this);var result=this._cancelAlgorithm(reason);return ReadableByteStreamControllerClearAlgorithms(this),result},ReadableByteStreamController.prototype[PullSteps]=function(){var stream=this._controlledReadableByteStream;if(this._queueTotalSize>0){var entry=this._queue.shift();this._queueTotalSize-=entry.byteLength,ReadableByteStreamControllerHandleQueueDrain(this);var view=void 0;try{view=new Uint8Array(entry.buffer,entry.byteOffset,entry.byteLength)}catch(viewE){return Promise.reject(viewE)}return Promise.resolve(ReadableStreamCreateReadResult(view,!1,stream._reader._forAuthorCode))}var autoAllocateChunkSize=this._autoAllocateChunkSize;if(void 0!==autoAllocateChunkSize){var buffer=void 0;try{buffer=new ArrayBuffer(autoAllocateChunkSize)}catch(bufferE){return Promise.reject(bufferE)}var pullIntoDescriptor={buffer:buffer,byteOffset:0,byteLength:autoAllocateChunkSize,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(pullIntoDescriptor)}var promise=ReadableStreamAddReadRequest(stream);return ReadableByteStreamControllerCallPullIfNeeded(this),promise},ReadableByteStreamController}();function IsReadableByteStreamController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledReadableByteStream")}function IsReadableStreamBYOBRequest(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_associatedReadableByteStreamController")}function ReadableByteStreamControllerCallPullIfNeeded(controller){!1!==function(controller){var stream=controller._controlledReadableByteStream;return"readable"===stream._state&&!0!==controller._closeRequested&&!1!==controller._started&&(!0===ReadableStreamHasDefaultReader(stream)&&ReadableStreamGetNumReadRequests(stream)>0||!0===ReadableStreamHasBYOBReader(stream)&&ReadableStreamGetNumReadIntoRequests(stream)>0||ReadableByteStreamControllerGetDesiredSize(controller)>0)}(controller)&&(!0!==controller._pulling?(controller._pulling=!0,controller._pullAlgorithm().then((function(){controller._pulling=!1,!0===controller._pullAgain&&(controller._pullAgain=!1,ReadableByteStreamControllerCallPullIfNeeded(controller))}),(function(e){ReadableByteStreamControllerError(controller,e)})).catch(rethrowAssertionErrorRejection)):controller._pullAgain=!0)}function ReadableByteStreamControllerCommitPullIntoDescriptor(stream,pullIntoDescriptor){var done=!1;"closed"===stream._state&&(done=!0);var filledView=ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);"default"===pullIntoDescriptor.readerType?ReadableStreamFulfillReadRequest(stream,filledView,done):function(stream,chunk,done){var reader=stream._reader;reader._readIntoRequests.shift()._resolve(ReadableStreamCreateReadResult(chunk,done,reader._forAuthorCode))}(stream,filledView,done)}function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor){return new pullIntoDescriptor.ctor(pullIntoDescriptor.buffer,pullIntoDescriptor.byteOffset,pullIntoDescriptor.bytesFilled/pullIntoDescriptor.elementSize)}function ReadableByteStreamControllerEnqueueChunkToQueue(controller,buffer,byteOffset,byteLength){controller._queue.push({buffer:buffer,byteOffset:byteOffset,byteLength:byteLength}),controller._queueTotalSize+=byteLength}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor){var elementSize=pullIntoDescriptor.elementSize,currentAlignedBytes=pullIntoDescriptor.bytesFilled-pullIntoDescriptor.bytesFilled%elementSize,maxBytesToCopy=Math.min(controller._queueTotalSize,pullIntoDescriptor.byteLength-pullIntoDescriptor.bytesFilled),maxBytesFilled=pullIntoDescriptor.bytesFilled+maxBytesToCopy,maxAlignedBytes=maxBytesFilled-maxBytesFilled%elementSize,totalBytesToCopyRemaining=maxBytesToCopy,ready=!1;maxAlignedBytes>currentAlignedBytes&&(totalBytesToCopyRemaining=maxAlignedBytes-pullIntoDescriptor.bytesFilled,ready=!0);for(var destOffset,src,srcOffset,n,queue=controller._queue;totalBytesToCopyRemaining>0;){var headOfQueue=queue.peek(),bytesToCopy=Math.min(totalBytesToCopyRemaining,headOfQueue.byteLength);destOffset=pullIntoDescriptor.byteOffset+pullIntoDescriptor.bytesFilled,src=headOfQueue.buffer,srcOffset=headOfQueue.byteOffset,n=bytesToCopy,new Uint8Array(pullIntoDescriptor.buffer).set(new Uint8Array(src,srcOffset,n),destOffset),headOfQueue.byteLength===bytesToCopy?queue.shift():(headOfQueue.byteOffset+=bytesToCopy,headOfQueue.byteLength-=bytesToCopy),controller._queueTotalSize-=bytesToCopy,ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,bytesToCopy,pullIntoDescriptor),totalBytesToCopyRemaining-=bytesToCopy}return ready}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,size,pullIntoDescriptor){ReadableByteStreamControllerInvalidateBYOBRequest(controller),pullIntoDescriptor.bytesFilled+=size}function ReadableByteStreamControllerHandleQueueDrain(controller){0===controller._queueTotalSize&&!0===controller._closeRequested?(ReadableByteStreamControllerClearAlgorithms(controller),ReadableStreamClose(controller._controlledReadableByteStream)):ReadableByteStreamControllerCallPullIfNeeded(controller)}function ReadableByteStreamControllerInvalidateBYOBRequest(controller){void 0!==controller._byobRequest&&(controller._byobRequest._associatedReadableByteStreamController=void 0,controller._byobRequest._view=void 0,controller._byobRequest=void 0)}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller){for(;controller._pendingPullIntos.length>0;){if(0===controller._queueTotalSize)return;var pullIntoDescriptor=controller._pendingPullIntos.peek();!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor)&&(ReadableByteStreamControllerShiftPendingPullInto(controller),ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream,pullIntoDescriptor))}}function ReadableByteStreamControllerRespondInternal(controller,bytesWritten){var firstDescriptor=controller._pendingPullIntos.peek();if("closed"===controller._controlledReadableByteStream._state){if(0!==bytesWritten)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(controller,firstDescriptor){firstDescriptor.buffer=firstDescriptor.buffer;var stream=controller._controlledReadableByteStream;if(!0===ReadableStreamHasBYOBReader(stream))for(;ReadableStreamGetNumReadIntoRequests(stream)>0;)ReadableByteStreamControllerCommitPullIntoDescriptor(stream,ReadableByteStreamControllerShiftPendingPullInto(controller))}(controller,firstDescriptor)}else!function(controller,bytesWritten,pullIntoDescriptor){if(pullIntoDescriptor.bytesFilled+bytesWritten>pullIntoDescriptor.byteLength)throw new RangeError("bytesWritten out of range");if(ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,bytesWritten,pullIntoDescriptor),!(pullIntoDescriptor.bytesFilled<pullIntoDescriptor.elementSize)){ReadableByteStreamControllerShiftPendingPullInto(controller);var remainderSize=pullIntoDescriptor.bytesFilled%pullIntoDescriptor.elementSize;if(remainderSize>0){var end=pullIntoDescriptor.byteOffset+pullIntoDescriptor.bytesFilled,remainder=pullIntoDescriptor.buffer.slice(end-remainderSize,end);ReadableByteStreamControllerEnqueueChunkToQueue(controller,remainder,0,remainder.byteLength)}pullIntoDescriptor.buffer=pullIntoDescriptor.buffer,pullIntoDescriptor.bytesFilled-=remainderSize,ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream,pullIntoDescriptor),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller)}}(controller,bytesWritten,firstDescriptor);ReadableByteStreamControllerCallPullIfNeeded(controller)}function ReadableByteStreamControllerShiftPendingPullInto(controller){var descriptor=controller._pendingPullIntos.shift();return ReadableByteStreamControllerInvalidateBYOBRequest(controller),descriptor}function ReadableByteStreamControllerClearAlgorithms(controller){controller._pullAlgorithm=void 0,controller._cancelAlgorithm=void 0}function ReadableByteStreamControllerError(controller,e){var stream=controller._controlledReadableByteStream;"readable"===stream._state&&(function(controller){ReadableByteStreamControllerInvalidateBYOBRequest(controller),controller._pendingPullIntos=new SimpleQueue}(controller),ResetQueue(controller),ReadableByteStreamControllerClearAlgorithms(controller),ReadableStreamError(stream,e))}function ReadableByteStreamControllerGetDesiredSize(controller){var state=controller._controlledReadableByteStream._state;return"errored"===state?null:"closed"===state?0:controller._strategyHWM-controller._queueTotalSize}function byobRequestBrandCheckException(name){return new TypeError("ReadableStreamBYOBRequest.prototype."+name+" can only be used on a ReadableStreamBYOBRequest")}function byteStreamControllerBrandCheckException(name){return new TypeError("ReadableByteStreamController.prototype."+name+" can only be used on a ReadableByteStreamController")}function ReadableStreamAddReadIntoRequest(stream){return new Promise((function(resolve,reject){stream._reader._readIntoRequests.push({_resolve:resolve,_reject:reject})}))}function ReadableStreamGetNumReadIntoRequests(stream){return stream._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(stream){var reader=stream._reader;return void 0!==reader&&!!IsReadableStreamBYOBReader(reader)}var ReadableStreamBYOBReader=function(){function ReadableStreamBYOBReader(stream){if(!IsReadableStream(stream))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===IsReadableByteStreamController(stream._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(IsReadableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,stream),this._readIntoRequests=new SimpleQueue}return Object.defineProperty(ReadableStreamBYOBReader.prototype,"closed",{get:function(){return IsReadableStreamBYOBReader(this)?this._closedPromise:Promise.reject(byobReaderBrandCheckException("closed"))},enumerable:!0,configurable:!0}),ReadableStreamBYOBReader.prototype.cancel=function(reason){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,reason):Promise.reject(byobReaderBrandCheckException("cancel"))},ReadableStreamBYOBReader.prototype.read=function(view){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("read from")):ArrayBuffer.isView(view)?0===view.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):function(reader,view){var stream=reader._ownerReadableStream;return stream._disturbed=!0,"errored"===stream._state?Promise.reject(stream._storedError):function(controller,view){var stream=controller._controlledReadableByteStream,elementSize=1;view.constructor!==DataView&&(elementSize=view.constructor.BYTES_PER_ELEMENT);var ctor=view.constructor,pullIntoDescriptor={buffer:view.buffer,byteOffset:view.byteOffset,byteLength:view.byteLength,bytesFilled:0,elementSize:elementSize,ctor:ctor,readerType:"byob"};if(controller._pendingPullIntos.length>0)return controller._pendingPullIntos.push(pullIntoDescriptor),ReadableStreamAddReadIntoRequest(stream);if("closed"===stream._state){var emptyView=new ctor(pullIntoDescriptor.buffer,pullIntoDescriptor.byteOffset,0);return Promise.resolve(ReadableStreamCreateReadResult(emptyView,!0,stream._reader._forAuthorCode))}if(controller._queueTotalSize>0){if(!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor)){var filledView=ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);return ReadableByteStreamControllerHandleQueueDrain(controller),Promise.resolve(ReadableStreamCreateReadResult(filledView,!1,stream._reader._forAuthorCode))}if(!0===controller._closeRequested){var e=new TypeError("Insufficient bytes to fill elements in the given buffer");return ReadableByteStreamControllerError(controller,e),Promise.reject(e)}}controller._pendingPullIntos.push(pullIntoDescriptor);var promise=ReadableStreamAddReadIntoRequest(stream);return ReadableByteStreamControllerCallPullIfNeeded(controller),promise}(stream._readableStreamController,view)}(this,view):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(byobReaderBrandCheckException("read"))},ReadableStreamBYOBReader.prototype.releaseLock=function(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}},ReadableStreamBYOBReader}();function IsReadableStreamBYOBReader(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readIntoRequests")}function byobReaderBrandCheckException(name){return new TypeError("ReadableStreamBYOBReader.prototype."+name+" can only be used on a ReadableStreamBYOBReader")}var ReadableStream=function(){function ReadableStream(underlyingSource,strategy){void 0===underlyingSource&&(underlyingSource={}),void 0===strategy&&(strategy={}),InitializeReadableStream(this);var size=strategy.size,highWaterMark=strategy.highWaterMark,type=underlyingSource.type;if("bytes"===String(type)){if(void 0!==size)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===highWaterMark&&(highWaterMark=0),function(stream,underlyingByteSource,highWaterMark){var controller=Object.create(ReadableByteStreamController.prototype),pullAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingByteSource,"pull",0,[controller]),cancelAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingByteSource,"cancel",1,[]),autoAllocateChunkSize=underlyingByteSource.autoAllocateChunkSize;if(void 0!==autoAllocateChunkSize&&(autoAllocateChunkSize=Number(autoAllocateChunkSize),!1===NumberIsInteger(autoAllocateChunkSize)||autoAllocateChunkSize<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(stream,controller,startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,autoAllocateChunkSize){controller._controlledReadableByteStream=stream,controller._pullAgain=!1,controller._pulling=!1,controller._byobRequest=void 0,controller._queue=controller._queueTotalSize=void 0,ResetQueue(controller),controller._closeRequested=!1,controller._started=!1,controller._strategyHWM=ValidateAndNormalizeHighWaterMark(highWaterMark),controller._pullAlgorithm=pullAlgorithm,controller._cancelAlgorithm=cancelAlgorithm,controller._autoAllocateChunkSize=autoAllocateChunkSize,controller._pendingPullIntos=new SimpleQueue,stream._readableStreamController=controller;var startResult=startAlgorithm();Promise.resolve(startResult).then((function(){controller._started=!0,ReadableByteStreamControllerCallPullIfNeeded(controller)}),(function(r){ReadableByteStreamControllerError(controller,r)})).catch(rethrowAssertionErrorRejection)}(stream,controller,(function(){return InvokeOrNoop(underlyingByteSource,"start",[controller])}),pullAlgorithm,cancelAlgorithm,highWaterMark,autoAllocateChunkSize)}(this,underlyingSource,highWaterMark=ValidateAndNormalizeHighWaterMark(highWaterMark))}else{if(void 0!==type)throw new RangeError("Invalid type is specified");var sizeAlgorithm=MakeSizeAlgorithmFromSizeFunction(size);void 0===highWaterMark&&(highWaterMark=1),function(stream,underlyingSource,highWaterMark,sizeAlgorithm){var controller=Object.create(ReadableStreamDefaultController.prototype),pullAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSource,"pull",0,[controller]),cancelAlgorithm=CreateAlgorithmFromUnderlyingMethod(underlyingSource,"cancel",1,[]);SetUpReadableStreamDefaultController(stream,controller,(function(){return InvokeOrNoop(underlyingSource,"start",[controller])}),pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm)}(this,underlyingSource,highWaterMark=ValidateAndNormalizeHighWaterMark(highWaterMark),sizeAlgorithm)}}return Object.defineProperty(ReadableStream.prototype,"locked",{get:function(){if(!1===IsReadableStream(this))throw streamBrandCheckException$1("locked");return IsReadableStreamLocked(this)},enumerable:!0,configurable:!0}),ReadableStream.prototype.cancel=function(reason){return!1===IsReadableStream(this)?Promise.reject(streamBrandCheckException$1("cancel")):!0===IsReadableStreamLocked(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):ReadableStreamCancel(this,reason)},ReadableStream.prototype.getReader=function(_a){var mode=(void 0===_a?{}:_a).mode;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("getReader");if(void 0===mode)return AcquireReadableStreamDefaultReader(this,!0);if("byob"===(mode=String(mode)))return function(stream,forAuthorCode){void 0===forAuthorCode&&(forAuthorCode=!1);var reader=new ReadableStreamBYOBReader(stream);return reader._forAuthorCode=forAuthorCode,reader}(this,!0);throw new RangeError("Invalid mode is specified")},ReadableStream.prototype.pipeThrough=function(_a,_b){var writable=_a.writable,readable=_a.readable,_c=void 0===_b?{}:_b,preventClose=_c.preventClose,preventAbort=_c.preventAbort,preventCancel=_c.preventCancel,signal=_c.signal;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("pipeThrough");if(!1===IsWritableStream(writable))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===IsReadableStream(readable))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(preventClose=Boolean(preventClose),preventAbort=Boolean(preventAbort),preventCancel=Boolean(preventCancel),void 0!==signal&&!isAbortSignal(signal))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===IsReadableStreamLocked(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===IsWritableStreamLocked(writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ReadableStreamPipeTo(this,writable,preventClose,preventAbort,preventCancel,signal).catch(noop),readable},ReadableStream.prototype.pipeTo=function(dest,_a){var _b=void 0===_a?{}:_a,preventClose=_b.preventClose,preventAbort=_b.preventAbort,preventCancel=_b.preventCancel,signal=_b.signal;return!1===IsReadableStream(this)?Promise.reject(streamBrandCheckException$1("pipeTo")):!1===IsWritableStream(dest)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(preventClose=Boolean(preventClose),preventAbort=Boolean(preventAbort),preventCancel=Boolean(preventCancel),void 0===signal||isAbortSignal(signal)?!0===IsReadableStreamLocked(this)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===IsWritableStreamLocked(dest)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ReadableStreamPipeTo(this,dest,preventClose,preventAbort,preventCancel,signal):Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},ReadableStream.prototype.tee=function(){if(!1===IsReadableStream(this))throw streamBrandCheckException$1("tee");var branches=function(stream,cloneForBranch2){var reason1,reason2,branch1,branch2,resolveCancelPromise,reader=AcquireReadableStreamDefaultReader(stream),reading=!1,canceled1=!1,canceled2=!1,cancelPromise=new Promise((function(resolve){resolveCancelPromise=resolve}));function pullAlgorithm(){return!0===reading?Promise.resolve():(reading=!0,ReadableStreamDefaultReaderRead(reader).then((function(result){if(reading=!1,!0===result.done)return!1===canceled1&&ReadableStreamDefaultControllerClose(branch1._readableStreamController),void(!1===canceled2&&ReadableStreamDefaultControllerClose(branch2._readableStreamController));var value=result.value,value2=value;!1===canceled1&&ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController,value),!1===canceled2&&ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController,value2)})).catch(rethrowAssertionErrorRejection),Promise.resolve())}function startAlgorithm(){}return branch1=CreateReadableStream(startAlgorithm,pullAlgorithm,(function(reason){if(canceled1=!0,reason1=reason,!0===canceled2){var compositeReason=createArrayFromList([reason1,reason2]),cancelResult=ReadableStreamCancel(stream,compositeReason);resolveCancelPromise(cancelResult)}return cancelPromise})),branch2=CreateReadableStream(startAlgorithm,pullAlgorithm,(function(reason){if(canceled2=!0,reason2=reason,!0===canceled1){var compositeReason=createArrayFromList([reason1,reason2]),cancelResult=ReadableStreamCancel(stream,compositeReason);resolveCancelPromise(cancelResult)}return cancelPromise})),reader._closedPromise.catch((function(r){ReadableStreamDefaultControllerError(branch1._readableStreamController,r),ReadableStreamDefaultControllerError(branch2._readableStreamController,r)})),[branch1,branch2]}(this);return createArrayFromList(branches)},ReadableStream.prototype.getIterator=function(_a){var _b=(void 0===_a?{}:_a).preventCancel,preventCancel=void 0!==_b&&_b;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("getIterator");return function(stream,preventCancel){void 0===preventCancel&&(preventCancel=!1);var reader=AcquireReadableStreamDefaultReader(stream),iterator=Object.create(ReadableStreamAsyncIteratorPrototype);return iterator._asyncIteratorReader=reader,iterator._preventCancel=Boolean(preventCancel),iterator}(this,preventCancel)},ReadableStream}();function CreateReadableStream(startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm){void 0===highWaterMark&&(highWaterMark=1),void 0===sizeAlgorithm&&(sizeAlgorithm=function(){return 1});var stream=Object.create(ReadableStream.prototype);return InitializeReadableStream(stream),SetUpReadableStreamDefaultController(stream,Object.create(ReadableStreamDefaultController.prototype),startAlgorithm,pullAlgorithm,cancelAlgorithm,highWaterMark,sizeAlgorithm),stream}function InitializeReadableStream(stream){stream._state="readable",stream._reader=void 0,stream._storedError=void 0,stream._disturbed=!1}function IsReadableStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readableStreamController")}function IsReadableStreamLocked(stream){return void 0!==stream._reader}function ReadableStreamCancel(stream,reason){return stream._disturbed=!0,"closed"===stream._state?Promise.resolve(void 0):"errored"===stream._state?Promise.reject(stream._storedError):(ReadableStreamClose(stream),stream._readableStreamController[CancelSteps](reason).then((function(){})))}function ReadableStreamClose(stream){stream._state="closed";var reader=stream._reader;void 0!==reader&&(IsReadableStreamDefaultReader(reader)&&(reader._readRequests.forEach((function(readRequest){readRequest._resolve(ReadableStreamCreateReadResult(void 0,!0,reader._forAuthorCode))})),reader._readRequests=new SimpleQueue),defaultReaderClosedPromiseResolve(reader))}function ReadableStreamError(stream,e){stream._state="errored",stream._storedError=e;var reader=stream._reader;void 0!==reader&&(IsReadableStreamDefaultReader(reader)?(reader._readRequests.forEach((function(readRequest){readRequest._reject(e)})),reader._readRequests=new SimpleQueue):(reader._readIntoRequests.forEach((function(readIntoRequest){readIntoRequest._reject(e)})),reader._readIntoRequests=new SimpleQueue),defaultReaderClosedPromiseReject(reader,e))}function isAbortSignal(value){if("object"!=typeof value||null===value)return!1;var aborted=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{return aborted.call(value),!0}catch(e){return!1}}function streamBrandCheckException$1(name){return new TypeError("ReadableStream.prototype."+name+" can only be used on a ReadableStream")}"symbol"==typeof SymbolPolyfill.asyncIterator&&Object.defineProperty(ReadableStream.prototype,SymbolPolyfill.asyncIterator,{value:ReadableStream.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ByteLengthQueuingStrategy=function(){function ByteLengthQueuingStrategy(_a){this.highWaterMark=_a.highWaterMark}return ByteLengthQueuingStrategy.prototype.size=function(chunk){return chunk.byteLength},ByteLengthQueuingStrategy}(),CountQueuingStrategy=function(){function CountQueuingStrategy(_a){this.highWaterMark=_a.highWaterMark}return CountQueuingStrategy.prototype.size=function(){return 1},CountQueuingStrategy}(),TransformStream=function(){function TransformStream(transformer,writableStrategy,readableStrategy){void 0===transformer&&(transformer={}),void 0===writableStrategy&&(writableStrategy={}),void 0===readableStrategy&&(readableStrategy={});var writableSizeFunction=writableStrategy.size,writableHighWaterMark=writableStrategy.highWaterMark,readableSizeFunction=readableStrategy.size,readableHighWaterMark=readableStrategy.highWaterMark;if(void 0!==transformer.writableType)throw new RangeError("Invalid writable type specified");var writableSizeAlgorithm=MakeSizeAlgorithmFromSizeFunction(writableSizeFunction);if(void 0===writableHighWaterMark&&(writableHighWaterMark=1),writableHighWaterMark=ValidateAndNormalizeHighWaterMark(writableHighWaterMark),void 0!==transformer.readableType)throw new RangeError("Invalid readable type specified");var startPromise_resolve,readableSizeAlgorithm=MakeSizeAlgorithmFromSizeFunction(readableSizeFunction);void 0===readableHighWaterMark&&(readableHighWaterMark=0),readableHighWaterMark=ValidateAndNormalizeHighWaterMark(readableHighWaterMark),function(stream,startPromise,writableHighWaterMark,writableSizeAlgorithm,readableHighWaterMark,readableSizeAlgorithm){function startAlgorithm(){return startPromise}stream._writable=function(startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm){void 0===highWaterMark&&(highWaterMark=1),void 0===sizeAlgorithm&&(sizeAlgorithm=function(){return 1});var stream=Object.create(WritableStream.prototype);return InitializeWritableStream(stream),SetUpWritableStreamDefaultController(stream,Object.create(WritableStreamDefaultController.prototype),startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,highWaterMark,sizeAlgorithm),stream}(startAlgorithm,(function(chunk){return function(stream,chunk){var controller=stream._transformStreamController;return!0===stream._backpressure?stream._backpressureChangePromise.then((function(){var writable=stream._writable;if("erroring"===writable._state)throw writable._storedError;return TransformStreamDefaultControllerPerformTransform(controller,chunk)})):TransformStreamDefaultControllerPerformTransform(controller,chunk)}(stream,chunk)}),(function(){return function(stream){var readable=stream._readable,controller=stream._transformStreamController,flushPromise=controller._flushAlgorithm();return TransformStreamDefaultControllerClearAlgorithms(controller),flushPromise.then((function(){if("errored"===readable._state)throw readable._storedError;var readableController=readable._readableStreamController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)&&ReadableStreamDefaultControllerClose(readableController)})).catch((function(r){throw TransformStreamError(stream,r),readable._storedError}))}(stream)}),(function(reason){return function(stream,reason){return TransformStreamError(stream,reason),Promise.resolve()}(stream,reason)}),writableHighWaterMark,writableSizeAlgorithm),stream._readable=CreateReadableStream(startAlgorithm,(function(){return function(stream){return TransformStreamSetBackpressure(stream,!1),stream._backpressureChangePromise}(stream)}),(function(reason){return TransformStreamErrorWritableAndUnblockWrite(stream,reason),Promise.resolve()}),readableHighWaterMark,readableSizeAlgorithm),stream._backpressure=void 0,stream._backpressureChangePromise=void 0,stream._backpressureChangePromise_resolve=void 0,TransformStreamSetBackpressure(stream,!0),stream._transformStreamController=void 0}(this,new Promise((function(resolve){startPromise_resolve=resolve})),writableHighWaterMark,writableSizeAlgorithm,readableHighWaterMark,readableSizeAlgorithm),function(stream,transformer){var controller=Object.create(TransformStreamDefaultController.prototype),transformAlgorithm=function(chunk){try{return TransformStreamDefaultControllerEnqueue(controller,chunk),Promise.resolve()}catch(transformResultE){return Promise.reject(transformResultE)}},transformMethod=transformer.transform;if(void 0!==transformMethod){if("function"!=typeof transformMethod)throw new TypeError("transform is not a method");transformAlgorithm=function(chunk){return PromiseCall(transformMethod,transformer,[chunk,controller])}}var flushAlgorithm=CreateAlgorithmFromUnderlyingMethod(transformer,"flush",0,[controller]);!function(stream,controller,transformAlgorithm,flushAlgorithm){controller._controlledTransformStream=stream,stream._transformStreamController=controller,controller._transformAlgorithm=transformAlgorithm,controller._flushAlgorithm=flushAlgorithm}(stream,controller,transformAlgorithm,flushAlgorithm)}(this,transformer);var startResult=InvokeOrNoop(transformer,"start",[this._transformStreamController]);startPromise_resolve(startResult)}return Object.defineProperty(TransformStream.prototype,"readable",{get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException$2("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(TransformStream.prototype,"writable",{get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException$2("writable");return this._writable},enumerable:!0,configurable:!0}),TransformStream}();function IsTransformStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_transformStreamController")}function TransformStreamError(stream,e){ReadableStreamDefaultControllerError(stream._readable._readableStreamController,e),TransformStreamErrorWritableAndUnblockWrite(stream,e)}function TransformStreamErrorWritableAndUnblockWrite(stream,e){TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController),WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController,e),!0===stream._backpressure&&TransformStreamSetBackpressure(stream,!1)}function TransformStreamSetBackpressure(stream,backpressure){void 0!==stream._backpressureChangePromise&&stream._backpressureChangePromise_resolve(),stream._backpressureChangePromise=new Promise((function(resolve){stream._backpressureChangePromise_resolve=resolve})),stream._backpressure=backpressure}var TransformStreamDefaultController=function(){function TransformStreamDefaultController(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(TransformStreamDefaultController.prototype,"desiredSize",{get:function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this._controlledTransformStream._readable._readableStreamController)},enumerable:!0,configurable:!0}),TransformStreamDefaultController.prototype.enqueue=function(chunk){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("enqueue");TransformStreamDefaultControllerEnqueue(this,chunk)},TransformStreamDefaultController.prototype.error=function(reason){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("error");TransformStreamError(this._controlledTransformStream,reason)},TransformStreamDefaultController.prototype.terminate=function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("terminate");var stream,readableController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController=(stream=this._controlledTransformStream)._readable._readableStreamController)&&ReadableStreamDefaultControllerClose(readableController),TransformStreamErrorWritableAndUnblockWrite(stream,new TypeError("TransformStream terminated"))},TransformStreamDefaultController}();function IsTransformStreamDefaultController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledTransformStream")}function TransformStreamDefaultControllerClearAlgorithms(controller){controller._transformAlgorithm=void 0,controller._flushAlgorithm=void 0}function TransformStreamDefaultControllerEnqueue(controller,chunk){var stream=controller._controlledTransformStream,readableController=stream._readable._readableStreamController;if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController))throw new TypeError("Readable side is not in a state that permits enqueue");try{ReadableStreamDefaultControllerEnqueue(readableController,chunk)}catch(e){throw TransformStreamErrorWritableAndUnblockWrite(stream,e),stream._readable._storedError}(function(controller){return!0!==ReadableStreamDefaultControllerShouldCallPull(controller)})(readableController)!==stream._backpressure&&TransformStreamSetBackpressure(stream,!0)}function TransformStreamDefaultControllerPerformTransform(controller,chunk){return controller._transformAlgorithm(chunk).catch((function(r){throw TransformStreamError(controller._controlledTransformStream,r),r}))}function defaultControllerBrandCheckException$1(name){return new TypeError("TransformStreamDefaultController.prototype."+name+" can only be used on a TransformStreamDefaultController")}function streamBrandCheckException$2(name){return new TypeError("TransformStream.prototype."+name+" can only be used on a TransformStream")}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=function(src){var source,task=new PDFDocumentLoadingTask;if("string"==typeof src)source={url:src};else if((0,_util.isArrayBuffer)(src))source={data:src};else if(src instanceof PDFDataRangeTransport)source={range:src};else{if("object"!==_typeof(src))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!src.url&&!src.data&&!src.range)throw new Error("Invalid parameter object: need either .data, .range or .url");source=src}var params=Object.create(null),rangeTransport=null,worker=null;for(var key in source)if("url"!==key||"undefined"==typeof window)if("range"!==key)if("worker"!==key)if("data"!==key||source[key]instanceof Uint8Array)params[key]=source[key];else{var pdfBytes=source[key];if("string"==typeof pdfBytes)params[key]=(0,_util.stringToBytes)(pdfBytes);else if("object"!==_typeof(pdfBytes)||null===pdfBytes||isNaN(pdfBytes.length)){if(!(0,_util.isArrayBuffer)(pdfBytes))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");params[key]=new Uint8Array(pdfBytes)}else params[key]=new Uint8Array(pdfBytes)}else worker=source[key];else rangeTransport=source[key];else params[key]=new URL(source[key],window.location).href;params.rangeChunkSize=params.rangeChunkSize||65536,params.CMapReaderFactory=params.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,params.ignoreErrors=!0!==params.stopAtErrors,params.pdfBug=!0===params.pdfBug;var NativeImageDecoderValues=Object.values(_util.NativeImageDecoding);if(void 0!==params.nativeImageDecoderSupport&&NativeImageDecoderValues.includes(params.nativeImageDecoderSupport)||(params.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(params.maxImageSize)||(params.maxImageSize=-1),"boolean"!=typeof params.isEvalSupported&&(params.isEvalSupported=!0),"boolean"!=typeof params.disableFontFace&&(params.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof params.disableRange&&(params.disableRange=!1),"boolean"!=typeof params.disableStream&&(params.disableStream=!1),"boolean"!=typeof params.disableAutoFetch&&(params.disableAutoFetch=!1),"boolean"!=typeof params.disableCreateObjectURL&&(params.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(params.verbosity),!worker){var workerParams={verbosity:params.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};worker=workerParams.port?PDFWorker.fromPort(workerParams):new PDFWorker(workerParams),task._worker=worker}var docId=task.docId;return worker.promise.then((function(){if(task.destroyed)throw new Error("Loading aborted");return function(worker,source,pdfDataRangeTransport,docId){return worker.destroyed?Promise.reject(new Error("Worker was destroyed")):(pdfDataRangeTransport&&(source.length=pdfDataRangeTransport.length,source.initialData=pdfDataRangeTransport.initialData,source.progressiveDone=pdfDataRangeTransport.progressiveDone),worker.messageHandler.sendWithPromise("GetDocRequest",{docId:docId,apiVersion:"2.3.200",source:{data:source.data,url:source.url,password:source.password,disableAutoFetch:source.disableAutoFetch,rangeChunkSize:source.rangeChunkSize,length:source.length},maxImageSize:source.maxImageSize,disableFontFace:source.disableFontFace,disableCreateObjectURL:source.disableCreateObjectURL,postMessageTransfers:worker.postMessageTransfers,docBaseUrl:source.docBaseUrl,nativeImageDecoderSupport:source.nativeImageDecoderSupport,ignoreErrors:source.ignoreErrors,isEvalSupported:source.isEvalSupported}).then((function(workerId){if(worker.destroyed)throw new Error("Worker was destroyed");return workerId})))}(worker,params,rangeTransport,docId).then((function(workerId){if(task.destroyed)throw new Error("Loading aborted");var networkStream;rangeTransport?networkStream=new _transport_stream.PDFDataTransportStream({length:params.length,initialData:params.initialData,progressiveDone:params.progressiveDone,disableRange:params.disableRange,disableStream:params.disableStream},rangeTransport):params.data||(networkStream=createPDFNetworkStream({url:params.url,length:params.length,httpHeaders:params.httpHeaders,withCredentials:params.withCredentials,rangeChunkSize:params.rangeChunkSize,disableRange:params.disableRange,disableStream:params.disableStream}));var messageHandler=new _message_handler.MessageHandler(docId,workerId,worker.port);messageHandler.postMessageTransfers=worker.postMessageTransfers;var transport=new WorkerTransport(messageHandler,task,networkStream,params);task._transport=transport,messageHandler.send("Ready",null)}))})).catch(task._capability.reject),task},exports.setPDFNetworkStreamFactory=function(pdfNetworkStreamFactory){createPDFNetworkStream=pdfNetworkStreamFactory},exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(180)),_util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(183),_font_loader=__w_pdfjs_require__(184),_api_compatibility=__w_pdfjs_require__(185),_canvas=__w_pdfjs_require__(186),_global_scope=_interopRequireDefault(__w_pdfjs_require__(3)),_worker_options=__w_pdfjs_require__(188),_message_handler=__w_pdfjs_require__(189),_metadata=__w_pdfjs_require__(190),_transport_stream=__w_pdfjs_require__(192),_webgl=__w_pdfjs_require__(193);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var fallbackWorkerSrc,fakeWorkerFilesLoader,isWorkerDisabled=!1,useRequireEnsure=!1;"undefined"==typeof window?(isWorkerDisabled=!0,useRequireEnsure=!0):useRequireEnsure=!0,"undefined"!=typeof requirejs&&requirejs.toUrl&&(fallbackWorkerSrc=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var createPDFNetworkStream,dynamicLoaderSupported="undefined"!=typeof requirejs&&requirejs.load;if(fakeWorkerFilesLoader=useRequireEnsure?function(){return new Promise((function(resolve,reject){__webpack_require__.e(6).then((function(){try{var worker;worker=__webpack_require__("Vdsi"),resolve(worker.WorkerMessageHandler)}catch(ex){reject(ex)}}).bind(null,__webpack_require__)).catch(reject)}))}:dynamicLoaderSupported?function(){return new Promise((function(resolve,reject){requirejs(["pdfjs-dist/build/pdf.worker"],(function(worker){try{resolve(worker.WorkerMessageHandler)}catch(ex){reject(ex)}}),reject)}))}:null,!fallbackWorkerSrc&&"object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}var nextDocumentId,PDFDocumentLoadingTask=(nextDocumentId=0,function(){function PDFDocumentLoadingTask(){_classCallCheck(this,PDFDocumentLoadingTask),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(PDFDocumentLoadingTask,[{key:"destroy",value:function(){var _this=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){_this._transport=null,_this._worker&&(_this._worker.destroy(),_this._worker=null)}))}},{key:"then",value:function(onFulfilled,onRejected){return(0,_display_utils.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead."),this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]),PDFDocumentLoadingTask}()),PDFDataRangeTransport=function(){function PDFDataRangeTransport(length,initialData){var progressiveDone=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PDFDataRangeTransport),this.length=length,this.initialData=initialData,this.progressiveDone=progressiveDone,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(PDFDataRangeTransport,[{key:"addRangeListener",value:function(listener){this._rangeListeners.push(listener)}},{key:"addProgressListener",value:function(listener){this._progressListeners.push(listener)}},{key:"addProgressiveReadListener",value:function(listener){this._progressiveReadListeners.push(listener)}},{key:"addProgressiveDoneListener",value:function(listener){this._progressiveDoneListeners.push(listener)}},{key:"onDataRange",value:function(begin,chunk){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._rangeListeners[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)(0,_step.value)(begin,chunk)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"onDataProgress",value:function(loaded,total){var _this2=this;this._readyCapability.promise.then((function(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=_this2._progressListeners[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)(0,_step2.value)(loaded,total)}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}))}},{key:"onDataProgressiveRead",value:function(chunk){var _this3=this;this._readyCapability.promise.then((function(){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=_this3._progressiveReadListeners[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0)(0,_step3.value)(chunk)}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}))}},{key:"onDataProgressiveDone",value:function(){var _this4=this;this._readyCapability.promise.then((function(){var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=_this4._progressiveDoneListeners[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0)(0,_step4.value)()}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(begin,end){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),PDFDataRangeTransport}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function PDFDocumentProxy(pdfInfo,transport){_classCallCheck(this,PDFDocumentProxy),this._pdfInfo=pdfInfo,this._transport=transport}return _createClass(PDFDocumentProxy,[{key:"getPage",value:function(pageNumber){return this._transport.getPage(pageNumber)}},{key:"getPageIndex",value:function(ref){return this._transport.getPageIndex(ref)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(id){return this._transport.getDestination(id)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),PDFDocumentProxy}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function PDFPageProxy(pageIndex,pageInfo,transport){var pdfBug=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,PDFPageProxy),this.pageIndex=pageIndex,this._pageInfo=pageInfo,this._transport=transport,this._stats=pdfBug?new _display_utils.StatTimer:_display_utils.DummyStatTimer,this._pdfBug=pdfBug,this.commonObjs=transport.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(PDFPageProxy,[{key:"getViewport",value:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},scale=_ref.scale,_ref$rotation=_ref.rotation,rotation=void 0===_ref$rotation?this.rotate:_ref$rotation,_ref$dontFlip=_ref.dontFlip,dontFlip=void 0!==_ref$dontFlip&&_ref$dontFlip;return(arguments.length>1||"number"==typeof arguments[0])&&((0,_display_utils.deprecated)("getViewport is called with obsolete arguments."),scale=arguments[0],rotation="number"==typeof arguments[1]?arguments[1]:this.rotate,dontFlip="boolean"==typeof arguments[2]&&arguments[2]),new _display_utils.PageViewport({viewBox:this.view,scale:scale,rotation:rotation,dontFlip:dontFlip})}},{key:"getAnnotations",value:function(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$intent=_ref2.intent,intent=void 0===_ref2$intent?null:_ref2$intent;return this.annotationsPromise&&this.annotationsIntent===intent||(this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,intent),this.annotationsIntent=intent),this.annotationsPromise}},{key:"render",value:function(_ref3){var _this5=this,canvasContext=_ref3.canvasContext,viewport=_ref3.viewport,_ref3$intent=_ref3.intent,intent=void 0===_ref3$intent?"display":_ref3$intent,_ref3$enableWebGL=_ref3.enableWebGL,enableWebGL=void 0!==_ref3$enableWebGL&&_ref3$enableWebGL,_ref3$renderInteracti=_ref3.renderInteractiveForms,renderInteractiveForms=void 0!==_ref3$renderInteracti&&_ref3$renderInteracti,_ref3$transform=_ref3.transform,transform=void 0===_ref3$transform?null:_ref3$transform,_ref3$imageLayer=_ref3.imageLayer,imageLayer=void 0===_ref3$imageLayer?null:_ref3$imageLayer,_ref3$canvasFactory=_ref3.canvasFactory,canvasFactory=void 0===_ref3$canvasFactory?null:_ref3$canvasFactory,_ref3$background=_ref3.background,background=void 0===_ref3$background?null:_ref3$background,stats=this._stats;stats.time("Overall");var renderingIntent="print"===intent?"print":"display";this.pendingCleanup=!1,this.intentStates[renderingIntent]||(this.intentStates[renderingIntent]=Object.create(null));var intentState=this.intentStates[renderingIntent];intentState.streamReaderCancelTimeout&&(clearTimeout(intentState.streamReaderCancelTimeout),intentState.streamReaderCancelTimeout=null);var canvasFactoryInstance=canvasFactory||new _display_utils.DOMCanvasFactory,webGLContext=new _webgl.WebGLContext({enable:enableWebGL});intentState.displayReadyCapability||(intentState.displayReadyCapability=(0,_util.createPromiseCapability)(),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},stats.time("Page Request"),this._pumpOperatorList({pageIndex:this.pageNumber-1,intent:renderingIntent,renderInteractiveForms:!0===renderInteractiveForms}));var complete=function(error){var i=intentState.renderTasks.indexOf(internalRenderTask);i>=0&&intentState.renderTasks.splice(i,1),(_this5.cleanupAfterRender||"print"===renderingIntent)&&(_this5.pendingCleanup=!0),_this5._tryCleanup(),error?(internalRenderTask.capability.reject(error),_this5._abortOperatorList({intentState:intentState,reason:error})):internalRenderTask.capability.resolve(),stats.timeEnd("Rendering"),stats.timeEnd("Overall")},internalRenderTask=new InternalRenderTask({callback:complete,params:{canvasContext:canvasContext,viewport:viewport,transform:transform,imageLayer:imageLayer,background:background},objs:this.objs,commonObjs:this.commonObjs,operatorList:intentState.operatorList,pageNumber:this.pageNumber,canvasFactory:canvasFactoryInstance,webGLContext:webGLContext,useRequestAnimationFrame:"print"!==renderingIntent,pdfBug:this._pdfBug});intentState.renderTasks||(intentState.renderTasks=[]),intentState.renderTasks.push(internalRenderTask);var renderTask=internalRenderTask.task;return intentState.displayReadyCapability.promise.then((function(transparency){_this5.pendingCleanup?complete():(stats.time("Rendering"),internalRenderTask.initializeGraphics(transparency),internalRenderTask.operatorListChanged())})).catch(complete),renderTask}},{key:"getOperatorList",value:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var opListTask,intentState=this.intentStates.oplist;return intentState.opListReadCapability||((opListTask={}).operatorListChanged=function(){if(intentState.operatorList.lastChunk){intentState.opListReadCapability.resolve(intentState.operatorList);var i=intentState.renderTasks.indexOf(opListTask);i>=0&&intentState.renderTasks.splice(i,1)}},intentState.opListReadCapability=(0,_util.createPromiseCapability)(),intentState.renderTasks=[],intentState.renderTasks.push(opListTask),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this.pageIndex,intent:"oplist"})),intentState.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref4$normalizeWhites=_ref4.normalizeWhitespace,normalizeWhitespace=void 0!==_ref4$normalizeWhites&&_ref4$normalizeWhites,_ref4$disableCombineT=_ref4.disableCombineTextItems,disableCombineTextItems=void 0!==_ref4$disableCombineT&&_ref4$disableCombineT,TEXT_CONTENT_CHUNK_SIZE=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===normalizeWhitespace,combineTextItems:!0!==disableCombineTextItems},{highWaterMark:TEXT_CONTENT_CHUNK_SIZE,size:function(textContent){return textContent.items.length}})}},{key:"getTextContent",value:function(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},readableStream=this.streamTextContent(params);return new Promise((function(resolve,reject){var reader=readableStream.getReader(),textContent={items:[],styles:Object.create(null)};!function pump(){reader.read().then((function(_ref5){var _textContent$items,value=_ref5.value;_ref5.done?resolve(textContent):(Object.assign(textContent.styles,value.styles),(_textContent$items=textContent.items).push.apply(_textContent$items,_toConsumableArray(value.items)),pump())}),reject)}()}))}},{key:"_destroy",value:function(){var _this6=this;this.destroyed=!0,this._transport.pageCache[this.pageIndex]=null;var waitOn=[];return Object.keys(this.intentStates).forEach((function(intent){var intentState=_this6.intentStates[intent];_this6._abortOperatorList({intentState:intentState,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==intent&&intentState.renderTasks.forEach((function(renderTask){var renderCompleted=renderTask.capability.promise.catch((function(){}));waitOn.push(renderCompleted),renderTask.cancel()}))})),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(waitOn)}},{key:"cleanup",value:function(){var resetStats=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0,this._tryCleanup(resetStats)}},{key:"_tryCleanup",value:function(){var _this7=this,resetStats=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup&&!Object.keys(this.intentStates).some((function(intent){var intentState=_this7.intentStates[intent];return 0!==intentState.renderTasks.length||!intentState.operatorList.lastChunk}))&&(Object.keys(this.intentStates).forEach((function(intent){delete _this7.intentStates[intent]})),this.objs.clear(),this.annotationsPromise=null,resetStats&&this._stats instanceof _display_utils.StatTimer&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1)}},{key:"_startRenderPage",value:function(transparency,intent){var intentState=this.intentStates[intent];intentState&&(this._stats.timeEnd("Page Request"),intentState.displayReadyCapability&&intentState.displayReadyCapability.resolve(transparency))}},{key:"_renderPageChunk",value:function(operatorListChunk,intentState){for(var i=0,ii=operatorListChunk.length;i<ii;i++)intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]),intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);intentState.operatorList.lastChunk=operatorListChunk.lastChunk;for(var _i=0;_i<intentState.renderTasks.length;_i++)intentState.renderTasks[_i].operatorListChanged();operatorListChunk.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(args){var _this8=this;(0,_util.assert)(args.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var reader=this._transport.messageHandler.sendWithStream("GetOperatorList",args).getReader(),intentState=this.intentStates[args.intent];intentState.streamReader=reader,function pump(){reader.read().then((function(_ref6){var value=_ref6.value;_ref6.done?intentState.streamReader=null:_this8._transport.destroyed||(_this8._renderPageChunk(value,intentState),pump())}),(function(reason){if(intentState.streamReader=null,!_this8._transport.destroyed){if(intentState.operatorList){intentState.operatorList.lastChunk=!0;for(var i=0;i<intentState.renderTasks.length;i++)intentState.renderTasks[i].operatorListChanged();_this8._tryCleanup()}if(intentState.displayReadyCapability)intentState.displayReadyCapability.reject(reason);else{if(!intentState.opListReadCapability)throw reason;intentState.opListReadCapability.reject(reason)}}}))}()}},{key:"_abortOperatorList",value:function(_ref7){var _this9=this,intentState=_ref7.intentState,reason=_ref7.reason,_ref7$force=_ref7.force,force=void 0!==_ref7$force&&_ref7$force;if((0,_util.assert)(reason instanceof Error,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),intentState.streamReader){if(!force){if(0!==intentState.renderTasks.length)return;if(reason instanceof _display_utils.RenderingCancelledException)return void(intentState.streamReaderCancelTimeout=setTimeout((function(){_this9._abortOperatorList({intentState:intentState,reason:reason,force:!0}),intentState.streamReaderCancelTimeout=null}),100))}intentState.streamReader.cancel(new _util.AbortException(reason&&reason.message)),intentState.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some((function(intent){return _this9.intentStates[intent]===intentState&&(delete _this9.intentStates[intent],!0)})),this.cleanup())}}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats instanceof _display_utils.StatTimer?this._stats:null}}]),PDFPageProxy}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function LoopbackPort(){var defer=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,LoopbackPort),this._listeners=[],this._defer=defer,this._deferred=Promise.resolve(void 0)}return _createClass(LoopbackPort,[{key:"postMessage",value:function(obj,transfers){var _this10=this;if(this._defer){var cloned=new WeakMap,e={data:function cloneValue(value){if("object"!==_typeof(value)||null===value)return value;if(cloned.has(value))return cloned.get(value);var buffer,result;if((buffer=value.buffer)&&(0,_util.isArrayBuffer)(buffer)){var transferable=transfers&&transfers.includes(buffer);return result=value===buffer?value:transferable?new value.constructor(buffer,value.byteOffset,value.byteLength):new value.constructor(value),cloned.set(value,result),result}for(var i in result=Array.isArray(value)?[]:{},cloned.set(value,result),value){for(var desc=void 0,p=value;!(desc=Object.getOwnPropertyDescriptor(p,i));)p=Object.getPrototypeOf(p);if(void 0!==desc.value)if("function"!=typeof desc.value)result[i]=cloneValue(desc.value);else if(value.hasOwnProperty&&value.hasOwnProperty(i))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(value[i]))}return result}(obj)};this._deferred.then((function(){_this10._listeners.forEach((function(listener){listener.call(_this10,e)}))}))}else this._listeners.forEach((function(listener){listener.call(_this10,{data:obj})}))}},{key:"addEventListener",value:function(name,listener){this._listeners.push(listener)}},{key:"removeEventListener",value:function(name,listener){var i=this._listeners.indexOf(listener);this._listeners.splice(i,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),LoopbackPort}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function(){var fakeWorkerFilesLoadedCapability,pdfWorkerPorts=new WeakMap,nextFakeWorkerId=0;function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){try{if("undefined"!=typeof window)return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(ex){}return null}return function(){function PDFWorker(){var _ref8=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref8$name=_ref8.name,name=void 0===_ref8$name?null:_ref8$name,_ref8$port=_ref8.port,port=void 0===_ref8$port?null:_ref8$port,_ref8$verbosity=_ref8.verbosity,verbosity=void 0===_ref8$verbosity?(0,_util.getVerbosityLevel)():_ref8$verbosity;if(_classCallCheck(this,PDFWorker),port&&pdfWorkerPorts.has(port))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=name,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=verbosity,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,port)return pdfWorkerPorts.set(port,this),void this._initializeFromPort(port);this._initialize()}return _createClass(PDFWorker,[{key:"_initializeFromPort",value:function(port){this._port=port,this._messageHandler=new _message_handler.MessageHandler("main","worker",port),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var url,_this11=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var workerSrc=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,workerSrc)||(url=new URL(workerSrc,window.location).href,workerSrc=URL.createObjectURL(new Blob(["importScripts('"+url+"');"])));var worker=new Worker(workerSrc),messageHandler=new _message_handler.MessageHandler("main","worker",worker),terminateEarly=function(){worker.removeEventListener("error",onWorkerError),messageHandler.destroy(),worker.terminate(),_this11.destroyed?_this11._readyCapability.reject(new Error("Worker was destroyed")):_this11._setupFakeWorker()},onWorkerError=function(){_this11._webWorker||terminateEarly()};worker.addEventListener("error",onWorkerError),messageHandler.on("test",(function(data){worker.removeEventListener("error",onWorkerError),_this11.destroyed?terminateEarly():data?(_this11._messageHandler=messageHandler,_this11._port=worker,_this11._webWorker=worker,data.supportTransfers||(_this11.postMessageTransfers=!1),_this11._readyCapability.resolve(),messageHandler.send("configure",{verbosity:_this11.verbosity})):(_this11._setupFakeWorker(),messageHandler.destroy(),worker.terminate())})),messageHandler.on("ready",(function(data){if(worker.removeEventListener("error",onWorkerError),_this11.destroyed)terminateEarly();else try{sendTest()}catch(e){_this11._setupFakeWorker()}}));var sendTest=function(){var testObj=new Uint8Array([_this11.postMessageTransfers?255:0]);try{messageHandler.send("test",testObj,[testObj.buffer])}catch(ex){(0,_util.warn)("Cannot use postMessage transfers."),testObj[0]=0,messageHandler.send("test",testObj)}};return void sendTest()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var _this12=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),function(){if(fakeWorkerFilesLoadedCapability)return fakeWorkerFilesLoadedCapability.promise;fakeWorkerFilesLoadedCapability=(0,_util.createPromiseCapability)();var mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();return mainWorkerMessageHandler?(fakeWorkerFilesLoadedCapability.resolve(mainWorkerMessageHandler),fakeWorkerFilesLoadedCapability.promise):((fakeWorkerFilesLoader||function(){return(0,_display_utils.loadScript)(_getWorkerSrc()).then((function(){return window.pdfjsWorker.WorkerMessageHandler}))})().then(fakeWorkerFilesLoadedCapability.resolve,fakeWorkerFilesLoadedCapability.reject),fakeWorkerFilesLoadedCapability.promise)}().then((function(WorkerMessageHandler){if(_this12.destroyed)_this12._readyCapability.reject(new Error("Worker was destroyed"));else{var port=new LoopbackPort;_this12._port=port;var id="fake"+nextFakeWorkerId++,workerHandler=new _message_handler.MessageHandler(id+"_worker",id,port);WorkerMessageHandler.setup(workerHandler,port);var messageHandler=new _message_handler.MessageHandler(id,id+"_worker",port);_this12._messageHandler=messageHandler,_this12._readyCapability.resolve()}})).catch((function(reason){_this12._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(reason.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(params){if(!params||!params.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(params.port)?pdfWorkerPorts.get(params.port):new PDFWorker(params)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),PDFWorker}()}();exports.PDFWorker=PDFWorker;var canvasInRendering,WorkerTransport=function(){function WorkerTransport(messageHandler,loadingTask,networkStream,params){_classCallCheck(this,WorkerTransport),this.messageHandler=messageHandler,this.loadingTask=loadingTask,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:loadingTask.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=params,this.CMapReaderFactory=new params.CMapReaderFactory({baseUrl:params.cMapUrl,isCompressed:params.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=networkStream,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(WorkerTransport,[{key:"destroy",value:function(){var _this13=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var waitOn=[];this.pageCache.forEach((function(page){page&&waitOn.push(page._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var terminated=this.messageHandler.sendWithPromise("Terminate",null);return waitOn.push(terminated),Promise.all(waitOn).then((function(){_this13.fontLoader.clear(),_this13._networkStream&&_this13._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),_this13.messageHandler&&(_this13.messageHandler.destroy(),_this13.messageHandler=null),_this13.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var _this14=this,messageHandler=this.messageHandler,loadingTask=this.loadingTask;messageHandler.on("GetReader",(function(data,sink){(0,_util.assert)(_this14._networkStream),_this14._fullReader=_this14._networkStream.getFullReader(),_this14._fullReader.onProgress=function(evt){_this14._lastProgress={loaded:evt.loaded,total:evt.total}},sink.onPull=function(){_this14._fullReader.read().then((function(_ref9){var value=_ref9.value;_ref9.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value)),sink.enqueue(new Uint8Array(value),1,[value]))})).catch((function(reason){sink.error(reason)}))},sink.onCancel=function(reason){_this14._fullReader.cancel(reason)}})),messageHandler.on("ReaderHeadersReady",(function(data){var headersCapability=(0,_util.createPromiseCapability)(),fullReader=_this14._fullReader;return fullReader.headersReady.then((function(){fullReader.isStreamingSupported&&fullReader.isRangeSupported||(_this14._lastProgress&&loadingTask.onProgress&&loadingTask.onProgress(_this14._lastProgress),fullReader.onProgress=function(evt){loadingTask.onProgress&&loadingTask.onProgress({loaded:evt.loaded,total:evt.total})}),headersCapability.resolve({isStreamingSupported:fullReader.isStreamingSupported,isRangeSupported:fullReader.isRangeSupported,contentLength:fullReader.contentLength})}),headersCapability.reject),headersCapability.promise})),messageHandler.on("GetRangeReader",(function(data,sink){(0,_util.assert)(_this14._networkStream);var rangeReader=_this14._networkStream.getRangeReader(data.begin,data.end);rangeReader?(sink.onPull=function(){rangeReader.read().then((function(_ref10){var value=_ref10.value;_ref10.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value)),sink.enqueue(new Uint8Array(value),1,[value]))})).catch((function(reason){sink.error(reason)}))},sink.onCancel=function(reason){rangeReader.cancel(reason)}):sink.close()})),messageHandler.on("GetDoc",(function(_ref11){var pdfInfo=_ref11.pdfInfo;_this14._numPages=pdfInfo.numPages,loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo,_this14))})),messageHandler.on("PasswordRequest",(function(exception){if(_this14._passwordCapability=(0,_util.createPromiseCapability)(),loadingTask.onPassword)try{loadingTask.onPassword((function(password){_this14._passwordCapability.resolve({password:password})}),exception.code)}catch(ex){_this14._passwordCapability.reject(ex)}else _this14._passwordCapability.reject(new _util.PasswordException(exception.message,exception.code));return _this14._passwordCapability.promise})),messageHandler.on("PasswordException",(function(exception){loadingTask._capability.reject(new _util.PasswordException(exception.message,exception.code))})),messageHandler.on("InvalidPDF",(function(exception){loadingTask._capability.reject(new _util.InvalidPDFException(exception.message))})),messageHandler.on("MissingPDF",(function(exception){loadingTask._capability.reject(new _util.MissingPDFException(exception.message))})),messageHandler.on("UnexpectedResponse",(function(exception){loadingTask._capability.reject(new _util.UnexpectedResponseException(exception.message,exception.status))})),messageHandler.on("UnknownError",(function(exception){loadingTask._capability.reject(new _util.UnknownErrorException(exception.message,exception.details))})),messageHandler.on("DataLoaded",(function(data){loadingTask.onProgress&&loadingTask.onProgress({loaded:data.length,total:data.length}),_this14.downloadInfoCapability.resolve(data)})),messageHandler.on("StartRenderPage",(function(data){_this14.destroyed||_this14.pageCache[data.pageIndex]._startRenderPage(data.transparency,data.intent)})),messageHandler.on("commonobj",(function(data){if(!_this14.destroyed){var _data=_slicedToArray(data,3),id=_data[0],type=_data[1],exportedData=_data[2];if(!_this14.commonObjs.has(id))switch(type){case"Font":var params=_this14._params;if("error"in exportedData){var exportedError=exportedData.error;(0,_util.warn)("Error during font loading: ".concat(exportedError)),_this14.commonObjs.resolve(id,exportedError);break}var fontRegistry=null;params.pdfBug&&_global_scope.default.FontInspector&&_global_scope.default.FontInspector.enabled&&(fontRegistry={registerFont:function(font,url){_global_scope.default.FontInspector.fontAdded(font,url)}});var font=new _font_loader.FontFaceObject(exportedData,{isEvalSupported:params.isEvalSupported,disableFontFace:params.disableFontFace,ignoreErrors:params.ignoreErrors,onUnsupportedFeature:_this14._onUnsupportedFeature.bind(_this14),fontRegistry:fontRegistry});_this14.fontLoader.bind(font).then((function(){_this14.commonObjs.resolve(id,font)}),(function(reason){messageHandler.sendWithPromise("FontFallback",{id:id}).finally((function(){_this14.commonObjs.resolve(id,font)}))}));break;case"FontPath":case"FontType3Res":_this14.commonObjs.resolve(id,exportedData);break;default:throw new Error("Got unknown common object type ".concat(type))}}})),messageHandler.on("obj",(function(data){if(!_this14.destroyed){var _data2=_slicedToArray(data,4),id=_data2[0],type=_data2[2],imageData=_data2[3],pageProxy=_this14.pageCache[_data2[1]];if(!pageProxy.objs.has(id))switch(type){case"JpegStream":return new Promise((function(resolve,reject){var img=new Image;img.onload=function(){resolve(img)},img.onerror=function(){reject(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(img)},img.src=imageData})).then((function(img){pageProxy.objs.resolve(id,img)}));case"Image":pageProxy.objs.resolve(id,imageData),imageData&&"data"in imageData&&imageData.data.length>8e6&&(pageProxy.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(type))}}})),messageHandler.on("DocProgress",(function(data){_this14.destroyed||loadingTask.onProgress&&loadingTask.onProgress({loaded:data.loaded,total:data.total})})),messageHandler.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),messageHandler.on("JpegDecode",(function(data){if(_this14.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var _data3=_slicedToArray(data,2),imageUrl=_data3[0],components=_data3[1];return 3!==components&&1!==components?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise((function(resolve,reject){var img=new Image;img.onload=function(){var width=img.width,height=img.height,size=width*height,rgbaLength=4*size,buf=new Uint8ClampedArray(size*components),tmpCanvas=document.createElement("canvas");tmpCanvas.width=width,tmpCanvas.height=height;var tmpCtx=tmpCanvas.getContext("2d");tmpCtx.drawImage(img,0,0);var data=tmpCtx.getImageData(0,0,width,height).data;if(3===components)for(var i=0,j=0;i<rgbaLength;i+=4,j+=3)buf[j]=data[i],buf[j+1]=data[i+1],buf[j+2]=data[i+2];else if(1===components)for(var _i2=0,_j=0;_i2<rgbaLength;_i2+=4,_j++)buf[_j]=data[_i2];resolve({data:buf,width:width,height:height}),(0,_display_utils.releaseImageResources)(img),tmpCanvas.width=0,tmpCanvas.height=0,tmpCanvas=null,tmpCtx=null},img.onerror=function(){reject(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(img)},img.src=imageUrl}))})),messageHandler.on("FetchBuiltInCMap",(function(data,sink){if(_this14.destroyed)sink.error(new Error("Worker was destroyed"));else{var fetched=!1;sink.onPull=function(){fetched?sink.close():(fetched=!0,_this14.CMapReaderFactory.fetch(data).then((function(builtInCMap){sink.enqueue(builtInCMap,1,[builtInCMap.cMapData.buffer])})).catch((function(reason){sink.error(reason)})))}}}))}},{key:"_onUnsupportedFeature",value:function(_ref12){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(_ref12.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(pageNumber){var _this15=this;if(!Number.isInteger(pageNumber)||pageNumber<=0||pageNumber>this._numPages)return Promise.reject(new Error("Invalid page request"));var pageIndex=pageNumber-1;if(pageIndex in this.pagePromises)return this.pagePromises[pageIndex];var promise=this.messageHandler.sendWithPromise("GetPage",{pageIndex:pageIndex}).then((function(pageInfo){if(_this15.destroyed)throw new Error("Transport destroyed");var page=new PDFPageProxy(pageIndex,pageInfo,_this15,_this15._params.pdfBug);return _this15.pageCache[pageIndex]=page,page}));return this.pagePromises[pageIndex]=promise,promise}},{key:"getPageIndex",value:function(ref){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:ref}).catch((function(reason){return Promise.reject(new Error(reason))}))}},{key:"getAnnotations",value:function(pageIndex,intent){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:pageIndex,intent:intent})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(id){return"string"!=typeof id?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:id})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("GetOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var _this16=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(results){return{info:results[0],metadata:results[1]?new _metadata.Metadata(results[1]):null,contentDispositionFilename:_this16._fullReader?_this16._fullReader.filename:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var _this17=this;this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var i=0,ii=_this17.pageCache.length;i<ii;i++){var page=_this17.pageCache[i];page&&page.cleanup()}_this17.commonObjs.clear(),_this17.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var params=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:params.disableAutoFetch,disableCreateObjectURL:params.disableCreateObjectURL,disableFontFace:params.disableFontFace,nativeImageDecoderSupport:params.nativeImageDecoderSupport})}}]),WorkerTransport}(),PDFObjects=function(){function PDFObjects(){_classCallCheck(this,PDFObjects),this._objs=Object.create(null)}return _createClass(PDFObjects,[{key:"_ensureObj",value:function(objId){return this._objs[objId]?this._objs[objId]:this._objs[objId]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(objId){var callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(callback)return this._ensureObj(objId).capability.promise.then(callback),null;var obj=this._objs[objId];if(!obj||!obj.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(objId,"."));return obj.data}},{key:"has",value:function(objId){var obj=this._objs[objId];return!!obj&&obj.resolved}},{key:"resolve",value:function(objId,data){var obj=this._ensureObj(objId);obj.resolved=!0,obj.data=data,obj.capability.resolve(data)}},{key:"clear",value:function(){for(var objId in this._objs){var data=this._objs[objId].data;"undefined"!=typeof Image&&data instanceof Image&&(0,_display_utils.releaseImageResources)(data)}this._objs=Object.create(null)}}]),PDFObjects}(),RenderTask=function(){function RenderTask(internalRenderTask){_classCallCheck(this,RenderTask),this._internalRenderTask=internalRenderTask,this.onContinue=null}return _createClass(RenderTask,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(onFulfilled,onRejected){return(0,_display_utils.deprecated)("RenderTask.then method, use the `promise` getter instead."),this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),RenderTask}(),InternalRenderTask=(canvasInRendering=new WeakSet,function(){function InternalRenderTask(_ref13){var callback=_ref13.callback,params=_ref13.params,objs=_ref13.objs,commonObjs=_ref13.commonObjs,operatorList=_ref13.operatorList,pageNumber=_ref13.pageNumber,canvasFactory=_ref13.canvasFactory,webGLContext=_ref13.webGLContext,_ref13$useRequestAnim=_ref13.useRequestAnimationFrame,useRequestAnimationFrame=void 0!==_ref13$useRequestAnim&&_ref13$useRequestAnim,_ref13$pdfBug=_ref13.pdfBug,pdfBug=void 0!==_ref13$pdfBug&&_ref13$pdfBug;_classCallCheck(this,InternalRenderTask),this.callback=callback,this.params=params,this.objs=objs,this.commonObjs=commonObjs,this.operatorListIdx=null,this.operatorList=operatorList,this.pageNumber=pageNumber,this.canvasFactory=canvasFactory,this.webGLContext=webGLContext,this._pdfBug=pdfBug,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===useRequestAnimationFrame&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=params.canvasContext.canvas}var fn,_next2;return _createClass(InternalRenderTask,[{key:"initializeGraphics",value:function(){var transparency=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.add(this._canvas)}this._pdfBug&&_global_scope.default.StepperManager&&_global_scope.default.StepperManager.enabled&&(this.stepper=_global_scope.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var _this$params=this.params,canvasContext=_this$params.canvasContext,viewport=_this$params.viewport,transform=_this$params.transform,imageLayer=_this$params.imageLayer,background=_this$params.background;this.gfx=new _canvas.CanvasGraphics(canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,imageLayer),this.gfx.beginDrawing({transform:transform,viewport:viewport,transparency:transparency,background:background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var error=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback(error||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var _this18=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){_this18._nextBound().catch(_this18.cancel.bind(_this18))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(fn=_regenerator.default.mark((function _callee(){return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this.cancelled){_context.next=2;break}return _context.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback()));case 4:case"end":return _context.stop()}}),_callee,this)})),_next2=function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))},function(){return _next2.apply(this,arguments)})}]),InternalRenderTask}());exports.version="2.3.200",exports.build="4ae3f9fc"},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=__w_pdfjs_require__(181)},function(module,exports,__w_pdfjs_require__){"use strict";(function(module){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var runtime=function(exports){var Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(innerFn,outerFn,self,tryLocsList){var generator=Object.create((outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator).prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return{value:void 0,done:!0}}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){prototype[method]=function(arg){return this._invoke(method,arg)}}))}function AsyncIterator(generator){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise((function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"===_typeof(value)&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):Promise.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}("object"===_typeof(module)?module.exports:{});try{regeneratorRuntime=runtime}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(runtime)}}).call(this,__w_pdfjs_require__(182)(module))},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addLinkAttributes=function(link){var _ref7=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url=_ref7.url,target=_ref7.target,rel=_ref7.rel,_ref7$enabled=_ref7.enabled,enabled=void 0===_ref7$enabled||_ref7$enabled;(0,_util.assert)(url&&"string"==typeof url,'addLinkAttributes: A valid "url" parameter must provided.');var urlNullRemoved=(0,_util.removeNullCharacters)(url);enabled?link.href=link.title=urlNullRemoved:(link.href="",link.title="Disabled: ".concat(urlNullRemoved),link.onclick=function(){return!1});var LinkTargetValues=Object.values(LinkTarget),targetIndex=LinkTargetValues.includes(target)?target:LinkTarget.NONE;link.target=LinkTargetStringMap[targetIndex],link.rel="string"==typeof rel?rel:"noopener noreferrer nofollow"},exports.getFilenameFromUrl=function(url){var anchor=url.indexOf("#"),query=url.indexOf("?"),end=Math.min(anchor>0?anchor:url.length,query>0?query:url.length);return url.substring(url.lastIndexOf("/",end)+1,end)},exports.isFetchSupported=isFetchSupported,exports.isValidFetchUrl=isValidFetchUrl,exports.loadScript=function(src){return new Promise((function(resolve,reject){var script=document.createElement("script");script.src=src,script.onload=resolve,script.onerror=function(){reject(new Error("Cannot load script at: ".concat(script.src)))},(document.head||document.documentElement).appendChild(script)}))},exports.deprecated=function(details){console.log("Deprecated API usage: "+details)},exports.releaseImageResources=function(img){(0,_util.assert)(img instanceof Image,"Invalid `img` parameter.");var url=img.src;"string"==typeof url&&url.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(url),img.removeAttribute("src")},exports.PDFDateString=exports.DummyStatTimer=exports.StatTimer=exports.DOMSVGFactory=exports.DOMCMapReaderFactory=exports.DOMCanvasFactory=exports.DEFAULT_LINK_REL=exports.LinkTarget=exports.RenderingCancelledException=exports.PageViewport=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}exports.DEFAULT_LINK_REL="noopener noreferrer nofollow";var SVG_NS="http://www.w3.org/2000/svg";exports.DOMCanvasFactory=function(){function DOMCanvasFactory(){_classCallCheck(this,DOMCanvasFactory)}return _createClass(DOMCanvasFactory,[{key:"create",value:function(width,height){if(width<=0||height<=0)throw new Error("Invalid canvas size");var canvas=document.createElement("canvas"),context=canvas.getContext("2d");return canvas.width=width,canvas.height=height,{canvas:canvas,context:context}}},{key:"reset",value:function(canvasAndContext,width,height){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");if(width<=0||height<=0)throw new Error("Invalid canvas size");canvasAndContext.canvas.width=width,canvasAndContext.canvas.height=height}},{key:"destroy",value:function(canvasAndContext){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");canvasAndContext.canvas.width=0,canvasAndContext.canvas.height=0,canvasAndContext.canvas=null,canvasAndContext.context=null}}]),DOMCanvasFactory}(),exports.DOMCMapReaderFactory=function(){function DOMCMapReaderFactory(_ref){var _ref$baseUrl=_ref.baseUrl,baseUrl=void 0===_ref$baseUrl?null:_ref$baseUrl,_ref$isCompressed=_ref.isCompressed,isCompressed=void 0!==_ref$isCompressed&&_ref$isCompressed;_classCallCheck(this,DOMCMapReaderFactory),this.baseUrl=baseUrl,this.isCompressed=isCompressed}return _createClass(DOMCMapReaderFactory,[{key:"fetch",value:function(_fetch){function fetch(_x){return _fetch.apply(this,arguments)}return fetch.toString=function(){return _fetch.toString()},fetch}(function(){var _ref3=_asyncToGenerator(_regenerator.default.mark((function _callee2(_ref2){var name,url,compressionType,_this=this;return _regenerator.default.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(name=_ref2.name,this.baseUrl){_context2.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(name){_context2.next=5;break}throw new Error("CMap name must be specified.");case 5:if(url=this.baseUrl+name+(this.isCompressed?".bcmap":""),compressionType=this.isCompressed?_util.CMapCompressionType.BINARY:_util.CMapCompressionType.NONE,!isFetchSupported()||!isValidFetchUrl(url,document.baseURI)){_context2.next=9;break}return _context2.abrupt("return",fetch(url).then(function(){var _ref4=_asyncToGenerator(_regenerator.default.mark((function _callee(response){var cMapData;return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(response.ok){_context.next=2;break}throw new Error(response.statusText);case 2:if(!_this.isCompressed){_context.next=10;break}return _context.t0=Uint8Array,_context.next=6,response.arrayBuffer();case 6:_context.t1=_context.sent,cMapData=new _context.t0(_context.t1),_context.next=15;break;case 10:return _context.t2=_util.stringToBytes,_context.next=13,response.text();case 13:_context.t3=_context.sent,cMapData=(0,_context.t2)(_context.t3);case 15:return _context.abrupt("return",{cMapData:cMapData,compressionType:compressionType});case 16:case"end":return _context.stop()}}),_callee)})));return function(_x3){return _ref4.apply(this,arguments)}}()).catch((function(reason){throw new Error("Unable to load ".concat(_this.isCompressed?"binary ":"")+"CMap at: ".concat(url))})));case 9:return _context2.abrupt("return",new Promise((function(resolve,reject){var request=new XMLHttpRequest;request.open("GET",url,!0),_this.isCompressed&&(request.responseType="arraybuffer"),request.onreadystatechange=function(){if(request.readyState===XMLHttpRequest.DONE){var cMapData;if((200===request.status||0===request.status)&&(_this.isCompressed&&request.response?cMapData=new Uint8Array(request.response):!_this.isCompressed&&request.responseText&&(cMapData=(0,_util.stringToBytes)(request.responseText)),cMapData))return void resolve({cMapData:cMapData,compressionType:compressionType});reject(new Error(request.statusText))}},request.send(null)})).catch((function(reason){throw new Error("Unable to load ".concat(_this.isCompressed?"binary ":"")+"CMap at: ".concat(url))})));case 10:case"end":return _context2.stop()}}),_callee2,this)})));return function(_x2){return _ref3.apply(this,arguments)}}())}]),DOMCMapReaderFactory}(),exports.DOMSVGFactory=function(){function DOMSVGFactory(){_classCallCheck(this,DOMSVGFactory)}return _createClass(DOMSVGFactory,[{key:"create",value:function(width,height){(0,_util.assert)(width>0&&height>0,"Invalid SVG dimensions");var svg=document.createElementNS(SVG_NS,"svg:svg");return svg.setAttribute("version","1.1"),svg.setAttribute("width",width+"px"),svg.setAttribute("height",height+"px"),svg.setAttribute("preserveAspectRatio","none"),svg.setAttribute("viewBox","0 0 "+width+" "+height),svg}},{key:"createElement",value:function(type){return(0,_util.assert)("string"==typeof type,"Invalid SVG element type"),document.createElementNS(SVG_NS,type)}}]),DOMSVGFactory}(),exports.PageViewport=function(){function PageViewport(_ref5){var viewBox=_ref5.viewBox,scale=_ref5.scale,rotation=_ref5.rotation,_ref5$offsetX=_ref5.offsetX,offsetX=void 0===_ref5$offsetX?0:_ref5$offsetX,_ref5$offsetY=_ref5.offsetY,offsetY=void 0===_ref5$offsetY?0:_ref5$offsetY,_ref5$dontFlip=_ref5.dontFlip,dontFlip=void 0!==_ref5$dontFlip&&_ref5$dontFlip;_classCallCheck(this,PageViewport),this.viewBox=viewBox,this.scale=scale,this.rotation=rotation,this.offsetX=offsetX,this.offsetY=offsetY;var rotateA,rotateB,rotateC,rotateD,offsetCanvasX,offsetCanvasY,width,height,centerX=(viewBox[2]+viewBox[0])/2,centerY=(viewBox[3]+viewBox[1])/2;switch(rotation=(rotation%=360)<0?rotation+360:rotation){case 180:rotateA=-1,rotateB=0,rotateC=0,rotateD=1;break;case 90:rotateA=0,rotateB=1,rotateC=1,rotateD=0;break;case 270:rotateA=0,rotateB=-1,rotateC=-1,rotateD=0;break;default:rotateA=1,rotateB=0,rotateC=0,rotateD=-1}dontFlip&&(rotateC=-rotateC,rotateD=-rotateD),0===rotateA?(offsetCanvasX=Math.abs(centerY-viewBox[1])*scale+offsetX,offsetCanvasY=Math.abs(centerX-viewBox[0])*scale+offsetY,width=Math.abs(viewBox[3]-viewBox[1])*scale,height=Math.abs(viewBox[2]-viewBox[0])*scale):(offsetCanvasX=Math.abs(centerX-viewBox[0])*scale+offsetX,offsetCanvasY=Math.abs(centerY-viewBox[1])*scale+offsetY,width=Math.abs(viewBox[2]-viewBox[0])*scale,height=Math.abs(viewBox[3]-viewBox[1])*scale),this.transform=[rotateA*scale,rotateB*scale,rotateC*scale,rotateD*scale,offsetCanvasX-rotateA*scale*centerX-rotateC*scale*centerY,offsetCanvasY-rotateB*scale*centerX-rotateD*scale*centerY],this.width=width,this.height=height}return _createClass(PageViewport,[{key:"clone",value:function(){var _ref6=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref6$scale=_ref6.scale,scale=void 0===_ref6$scale?this.scale:_ref6$scale,_ref6$rotation=_ref6.rotation,rotation=void 0===_ref6$rotation?this.rotation:_ref6$rotation,_ref6$dontFlip=_ref6.dontFlip,dontFlip=void 0!==_ref6$dontFlip&&_ref6$dontFlip;return new PageViewport({viewBox:this.viewBox.slice(),scale:scale,rotation:rotation,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:dontFlip})}},{key:"convertToViewportPoint",value:function(x,y){return _util.Util.applyTransform([x,y],this.transform)}},{key:"convertToViewportRectangle",value:function(rect){var topLeft=_util.Util.applyTransform([rect[0],rect[1]],this.transform),bottomRight=_util.Util.applyTransform([rect[2],rect[3]],this.transform);return[topLeft[0],topLeft[1],bottomRight[0],bottomRight[1]]}},{key:"convertToPdfPoint",value:function(x,y){return _util.Util.applyInverseTransform([x,y],this.transform)}}]),PageViewport}(),exports.RenderingCancelledException=function(_BaseException){function RenderingCancelledException(msg,type){var _this2;return _classCallCheck(this,RenderingCancelledException),(_this2=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(RenderingCancelledException).call(this,msg))).type=type,_this2}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RenderingCancelledException,_BaseException),RenderingCancelledException}(_util.BaseException);var LinkTarget={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};exports.LinkTarget=LinkTarget;var pdfDateStringRegex,LinkTargetStringMap=["","_self","_blank","_parent","_top"];function isFetchSupported(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function isValidFetchUrl(url,baseUrl){try{var protocol=(baseUrl?new URL(url,baseUrl):new URL(url)).protocol;return"http:"===protocol||"https:"===protocol}catch(ex){return!1}}exports.StatTimer=function(){function StatTimer(){var enable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,StatTimer),this.enabled=!!enable,this.started=Object.create(null),this.times=[]}return _createClass(StatTimer,[{key:"time",value:function(name){this.enabled&&(name in this.started&&(0,_util.warn)("Timer is already running for "+name),this.started[name]=Date.now())}},{key:"timeEnd",value:function(name){this.enabled&&(name in this.started||(0,_util.warn)("Timer has not been started for "+name),this.times.push({name:name,start:this.started[name],end:Date.now()}),delete this.started[name])}},{key:"toString",value:function(){var out="",longest=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.times[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var name=_step.value.name;name.length>longest&&(longest=name.length)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.times[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _time=_step2.value,duration=_time.end-_time.start;out+="".concat(_time.name.padEnd(longest)," ").concat(duration,"ms\n")}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return out}}]),StatTimer}(),exports.DummyStatTimer=function(){function DummyStatTimer(){_classCallCheck(this,DummyStatTimer),(0,_util.unreachable)("Cannot initialize DummyStatTimer.")}return _createClass(DummyStatTimer,null,[{key:"time",value:function(name){}},{key:"timeEnd",value:function(name){}},{key:"toString",value:function(){return""}}]),DummyStatTimer}(),exports.PDFDateString=function(){function PDFDateString(){_classCallCheck(this,PDFDateString)}return _createClass(PDFDateString,null,[{key:"toDateObject",value:function(input){if(!input||!(0,_util.isString)(input))return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var matches=pdfDateStringRegex.exec(input);if(!matches)return null;var year=parseInt(matches[1],10),month=parseInt(matches[2],10);month=month>=1&&month<=12?month-1:0;var day=parseInt(matches[3],10);day=day>=1&&day<=31?day:1;var hour=parseInt(matches[4],10);hour=hour>=0&&hour<=23?hour:0;var minute=parseInt(matches[5],10);minute=minute>=0&&minute<=59?minute:0;var second=parseInt(matches[6],10);second=second>=0&&second<=59?second:0;var universalTimeRelation=matches[7]||"Z",offsetHour=parseInt(matches[8],10);offsetHour=offsetHour>=0&&offsetHour<=23?offsetHour:0;var offsetMinute=parseInt(matches[9],10)||0;return offsetMinute=offsetMinute>=0&&offsetMinute<=59?offsetMinute:0,"-"===universalTimeRelation?(hour+=offsetHour,minute+=offsetMinute):"+"===universalTimeRelation&&(hour-=offsetHour,minute-=offsetMinute),new Date(Date.UTC(year,month,day,hour,minute,second))}}]),PDFDateString}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontLoader=exports.FontFaceObject=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var FontLoader,BaseFontLoader=function(){function BaseFontLoader(_ref){var docId=_ref.docId,onUnsupportedFeature=_ref.onUnsupportedFeature;_classCallCheck(this,BaseFontLoader),this.constructor===BaseFontLoader&&(0,_util.unreachable)("Cannot initialize BaseFontLoader."),this.docId=docId,this._onUnsupportedFeature=onUnsupportedFeature,this.nativeFontFaces=[],this.styleElement=null}var fn,_bind;return _createClass(BaseFontLoader,[{key:"addNativeFontFace",value:function(nativeFontFace){this.nativeFontFaces.push(nativeFontFace),document.fonts.add(nativeFontFace)}},{key:"insertRule",value:function(rule){var styleElement=this.styleElement;styleElement||((styleElement=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(styleElement));var styleSheet=styleElement.sheet;styleSheet.insertRule(rule,styleSheet.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach((function(nativeFontFace){document.fonts.delete(nativeFontFace)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(fn=_regenerator.default.mark((function _callee(font){var nativeFontFace,rule,_this=this;return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!font.attached&&!font.missingFile){_context.next=2;break}return _context.abrupt("return",void 0);case 2:if(font.attached=!0,!this.isFontLoadingAPISupported){_context.next=19;break}if(!(nativeFontFace=font.createNativeFontFace())){_context.next=18;break}return this.addNativeFontFace(nativeFontFace),_context.prev=7,_context.next=10,nativeFontFace.loaded;case 10:_context.next=18;break;case 12:throw _context.prev=12,_context.t0=_context.catch(7),this._onUnsupportedFeature({featureId:_util.UNSUPPORTED_FEATURES.font}),(0,_util.warn)("Failed to load font '".concat(nativeFontFace.family,"': '").concat(_context.t0,"'.")),font.disableFontFace=!0,_context.t0;case 18:return _context.abrupt("return",void 0);case 19:if(!(rule=font.createFontFaceRule())){_context.next=25;break}if(this.insertRule(rule),!this.isSyncFontLoadingSupported){_context.next=24;break}return _context.abrupt("return",void 0);case 24:return _context.abrupt("return",new Promise((function(resolve){var request=_this._queueLoadingCallback(resolve);_this._prepareFontLoadEvent([rule],[font],request)})));case 25:return _context.abrupt("return",void 0);case 26:case"end":return _context.stop()}}),_callee,this,[[7,12]])})),_bind=function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))},function(_x){return _bind.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(callback){(0,_util.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(rules,fontsToLoad,request){(0,_util.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,_util.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,_util.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,_util.unreachable)("Abstract method `_loadTestFont`.")}}]),BaseFontLoader}();exports.FontLoader=FontLoader,exports.FontLoader=FontLoader=function(_BaseFontLoader){function GenericFontLoader(docId){var _this2;return _classCallCheck(this,GenericFontLoader),(_this2=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(GenericFontLoader).call(this,docId))).loadingContext={requests:[],nextRequestId:0},_this2.loadTestFontId=0,_this2}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(GenericFontLoader,_BaseFontLoader),_createClass(GenericFontLoader,[{key:"_queueLoadingCallback",value:function(callback){var context=this.loadingContext,request={id:"pdfjs-font-loading-".concat(context.nextRequestId++),done:!1,complete:function(){for((0,_util.assert)(!request.done,"completeRequest() cannot be called twice."),request.done=!0;context.requests.length>0&&context.requests[0].done;){var otherRequest=context.requests.shift();setTimeout(otherRequest.callback,0)}},callback:callback};return context.requests.push(request),request}},{key:"_prepareFontLoadEvent",value:function(rules,fonts,request){function int32(data,offset){return data.charCodeAt(offset)<<24|data.charCodeAt(offset+1)<<16|data.charCodeAt(offset+2)<<8|255&data.charCodeAt(offset+3)}function spliceString(s,offset,remove,insert){return s.substring(0,offset)+insert+s.substring(offset+remove)}var i,ii,canvas=document.createElement("canvas");canvas.width=1,canvas.height=1;var ctx=canvas.getContext("2d"),called=0,loadTestFontId="lt".concat(Date.now()).concat(this.loadTestFontId++),data=this._loadTestFont,checksum=int32(data=spliceString(data,976,loadTestFontId.length,loadTestFontId),16);for(i=0,ii=loadTestFontId.length-3;i<ii;i+=4)checksum=checksum-1482184792+int32(loadTestFontId,i)|0;i<loadTestFontId.length&&(checksum=checksum-1482184792+int32(loadTestFontId+"XXX",i)|0),data=spliceString(data,16,4,(0,_util.string32)(checksum));var url="url(data:font/opentype;base64,".concat(btoa(data),");"),rule='@font-face {font-family:"'.concat(loadTestFontId,'";src:').concat(url,"}");this.insertRule(rule);var names=[];for(i=0,ii=fonts.length;i<ii;i++)names.push(fonts[i].loadedName);names.push(loadTestFontId);var div=document.createElement("div");for(div.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),i=0,ii=names.length;i<ii;++i){var span=document.createElement("span");span.textContent="Hi",span.style.fontFamily=names[i],div.appendChild(span)}document.body.appendChild(div),function isFontReady(name,callback){if(++called>30)return(0,_util.warn)("Load test font never loaded."),void callback();ctx.font="30px "+name,ctx.fillText(".",0,20),ctx.getImageData(0,0,1,1).data[3]>0?callback():setTimeout(isFontReady.bind(null,name,callback))}(loadTestFontId,(function(){document.body.removeChild(div),request.complete()}))}},{key:"isFontLoadingAPISupported",get:function(){var supported="undefined"!=typeof document&&!!document.fonts;if(supported&&"undefined"!=typeof navigator){var m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);m&&m[1]<63&&(supported=!1)}return(0,_util.shadow)(this,"isFontLoadingAPISupported",supported)}},{key:"isSyncFontLoadingSupported",get:function(){var supported=!1;if("undefined"==typeof navigator)supported=!0;else{var m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);m&&m[1]>=14&&(supported=!0)}return(0,_util.shadow)(this,"isSyncFontLoadingSupported",supported)}},{key:"_loadTestFont",get:function(){return(0,_util.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),GenericFontLoader}(BaseFontLoader);var IsEvalSupportedCached={get value(){return(0,_util.shadow)(this,"value",(0,_util.isEvalSupported)())}};exports.FontFaceObject=function(){function FontFaceObject(translatedData,_ref2){var _ref2$isEvalSupported=_ref2.isEvalSupported,isEvalSupported=void 0===_ref2$isEvalSupported||_ref2$isEvalSupported,_ref2$disableFontFace=_ref2.disableFontFace,disableFontFace=void 0!==_ref2$disableFontFace&&_ref2$disableFontFace,_ref2$ignoreErrors=_ref2.ignoreErrors,ignoreErrors=void 0!==_ref2$ignoreErrors&&_ref2$ignoreErrors,_ref2$onUnsupportedFe=_ref2.onUnsupportedFeature,onUnsupportedFeature=void 0===_ref2$onUnsupportedFe?null:_ref2$onUnsupportedFe,_ref2$fontRegistry=_ref2.fontRegistry,fontRegistry=void 0===_ref2$fontRegistry?null:_ref2$fontRegistry;for(var i in _classCallCheck(this,FontFaceObject),this.compiledGlyphs=Object.create(null),translatedData)this[i]=translatedData[i];this.isEvalSupported=!1!==isEvalSupported,this.disableFontFace=!0===disableFontFace,this.ignoreErrors=!0===ignoreErrors,this._onUnsupportedFeature=onUnsupportedFeature,this.fontRegistry=fontRegistry}return _createClass(FontFaceObject,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var nativeFontFace=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),nativeFontFace}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var data=(0,_util.bytesToString)(new Uint8Array(this.data)),url="url(data:".concat(this.mimetype,";base64,").concat(btoa(data),");"),rule='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(url,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,url),rule}},{key:"getPathGenerator",value:function(objs,character){if(void 0!==this.compiledGlyphs[character])return this.compiledGlyphs[character];var cmds,current;try{cmds=objs.get(this.loadedName+"_path_"+character)}catch(ex){if(!this.ignoreErrors)throw ex;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:_util.UNSUPPORTED_FEATURES.font}),(0,_util.warn)('getPathGenerator - ignoring character: "'.concat(ex,'".')),this.compiledGlyphs[character]=function(c,size){}}if(this.isEvalSupported&&IsEvalSupportedCached.value){for(var args,js="",i=0,ii=cmds.length;i<ii;i++)args=void 0!==(current=cmds[i]).args?current.args.join(","):"",js+="c."+current.cmd+"("+args+");\n";return this.compiledGlyphs[character]=new Function("c","size",js)}return this.compiledGlyphs[character]=function(c,size){for(var _i=0,_ii=cmds.length;_i<_ii;_i++)"scale"===(current=cmds[_i]).cmd&&(current.args=[size,-size]),c[current.cmd].apply(c,current.args)}}}]),FontFaceObject}()},function(module,exports,__w_pdfjs_require__){"use strict";var compatibilityParams=Object.create(null),isNodeJS=__w_pdfjs_require__(4),userAgent="undefined"!=typeof navigator&&navigator.userAgent||"",isIE=/Trident/.test(userAgent),isIOSChrome=/CriOS/.test(userAgent);(isIE||isIOSChrome)&&(compatibilityParams.disableCreateObjectURL=!0),isNodeJS()&&(compatibilityParams.disableFontFace=!0,compatibilityParams.nativeImageDecoderSupport="none"),exports.apiCompatibilityParams=Object.freeze(compatibilityParams)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasGraphics=void 0;var _util=__w_pdfjs_require__(1),_pattern_helper=__w_pdfjs_require__(187),IsLittleEndianCached={get value(){return(0,_util.shadow)(IsLittleEndianCached,"value",(0,_util.isLittleEndian)())}};function addContextCurrentTransform(ctx){ctx.mozCurrentTransform||(ctx._originalSave=ctx.save,ctx._originalRestore=ctx.restore,ctx._originalRotate=ctx.rotate,ctx._originalScale=ctx.scale,ctx._originalTranslate=ctx.translate,ctx._originalTransform=ctx.transform,ctx._originalSetTransform=ctx.setTransform,ctx._transformMatrix=ctx._transformMatrix||[1,0,0,1,0,0],ctx._transformStack=[],Object.defineProperty(ctx,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ctx,"mozCurrentTransformInverse",{get:function(){var m=this._transformMatrix,a=m[0],b=m[1],c=m[2],d=m[3],e=m[4],f=m[5],ad_bc=a*d-b*c,bc_ad=b*c-a*d;return[d/ad_bc,b/bc_ad,c/bc_ad,a/ad_bc,(d*e-c*f)/bc_ad,(b*e-a*f)/ad_bc]}}),ctx.save=function(){var old=this._transformMatrix;this._transformStack.push(old),this._transformMatrix=old.slice(0,6),this._originalSave()},ctx.restore=function(){var prev=this._transformStack.pop();prev&&(this._transformMatrix=prev,this._originalRestore())},ctx.translate=function(x,y){var m=this._transformMatrix;m[4]=m[0]*x+m[2]*y+m[4],m[5]=m[1]*x+m[3]*y+m[5],this._originalTranslate(x,y)},ctx.scale=function(x,y){var m=this._transformMatrix;m[0]=m[0]*x,m[1]=m[1]*x,m[2]=m[2]*y,m[3]=m[3]*y,this._originalScale(x,y)},ctx.transform=function(a,b,c,d,e,f){var m=this._transformMatrix;this._transformMatrix=[m[0]*a+m[2]*b,m[1]*a+m[3]*b,m[0]*c+m[2]*d,m[1]*c+m[3]*d,m[0]*e+m[2]*f+m[4],m[1]*e+m[3]*f+m[5]],ctx._originalTransform(a,b,c,d,e,f)},ctx.setTransform=function(a,b,c,d,e,f){this._transformMatrix=[a,b,c,d,e,f],ctx._originalSetTransform(a,b,c,d,e,f)},ctx.rotate=function(angle){var cosValue=Math.cos(angle),sinValue=Math.sin(angle),m=this._transformMatrix;this._transformMatrix=[m[0]*cosValue+m[2]*sinValue,m[1]*cosValue+m[3]*sinValue,m[0]*-sinValue+m[2]*cosValue,m[1]*-sinValue+m[3]*cosValue,m[4],m[5]],this._originalRotate(angle)})}var CachedCanvases=function(){function CachedCanvases(canvasFactory){this.canvasFactory=canvasFactory,this.cache=Object.create(null)}return CachedCanvases.prototype={getCanvas:function(id,width,height,trackTransform){var canvasEntry;return void 0!==this.cache[id]?(this.canvasFactory.reset(canvasEntry=this.cache[id],width,height),canvasEntry.context.setTransform(1,0,0,1,0,0)):(canvasEntry=this.canvasFactory.create(width,height),this.cache[id]=canvasEntry),trackTransform&&addContextCurrentTransform(canvasEntry.context),canvasEntry},clear:function(){for(var id in this.cache)this.canvasFactory.destroy(this.cache[id]),delete this.cache[id]}},CachedCanvases}(),CanvasExtraState=function(){function CanvasExtraState(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_util.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return CanvasExtraState.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(x,y){this.x=x,this.y=y}},CanvasExtraState}(),CanvasGraphics=function(){function CanvasGraphics(canvasCtx,commonObjs,objs,canvasFactory,webGLContext,imageLayer){this.ctx=canvasCtx,this.current=new CanvasExtraState,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=commonObjs,this.objs=objs,this.canvasFactory=canvasFactory,this.webGLContext=webGLContext,this.imageLayer=imageLayer,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new CachedCanvases(this.canvasFactory),canvasCtx&&addContextCurrentTransform(canvasCtx),this._cachedGetSinglePixelWidth=null}function putBinaryImageData(ctx,imgData){if("undefined"!=typeof ImageData&&imgData instanceof ImageData)ctx.putImageData(imgData,0,0);else{var destPos,i,j,thisChunkHeight,elemsInThisChunk,height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16),srcPos=0,src=imgData.data,dest=chunkImgData.data;if(imgData.kind===_util.ImageKind.GRAYSCALE_1BPP){var srcLength=src.byteLength,dest32=new Uint32Array(dest.buffer,0,dest.byteLength>>2),dest32DataLength=dest32.length,fullSrcDiff=width+7>>3,white=4294967295,black=IsLittleEndianCached.value?4278190080:255;for(i=0;i<totalChunks;i++){for(thisChunkHeight=i<fullChunks?16:partialChunkHeight,destPos=0,j=0;j<thisChunkHeight;j++){for(var srcDiff=srcLength-srcPos,k=0,kEnd=srcDiff>fullSrcDiff?width:8*srcDiff-7,kEndUnrolled=-8&kEnd,mask=0,srcByte=0;k<kEndUnrolled;k+=8)srcByte=src[srcPos++],dest32[destPos++]=128&srcByte?white:black,dest32[destPos++]=64&srcByte?white:black,dest32[destPos++]=32&srcByte?white:black,dest32[destPos++]=16&srcByte?white:black,dest32[destPos++]=8&srcByte?white:black,dest32[destPos++]=4&srcByte?white:black,dest32[destPos++]=2&srcByte?white:black,dest32[destPos++]=1&srcByte?white:black;for(;k<kEnd;k++)0===mask&&(srcByte=src[srcPos++],mask=128),dest32[destPos++]=srcByte&mask?white:black,mask>>=1}for(;destPos<dest32DataLength;)dest32[destPos++]=0;ctx.putImageData(chunkImgData,0,16*i)}}else if(imgData.kind===_util.ImageKind.RGBA_32BPP){for(j=0,elemsInThisChunk=16*width*4,i=0;i<fullChunks;i++)dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),srcPos+=elemsInThisChunk,ctx.putImageData(chunkImgData,0,j),j+=16;i<totalChunks&&(dest.set(src.subarray(srcPos,srcPos+(elemsInThisChunk=width*partialChunkHeight*4))),ctx.putImageData(chunkImgData,0,j))}else{if(imgData.kind!==_util.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(imgData.kind));for(elemsInThisChunk=width*(thisChunkHeight=16),i=0;i<totalChunks;i++){for(i>=fullChunks&&(elemsInThisChunk=width*(thisChunkHeight=partialChunkHeight)),destPos=0,j=elemsInThisChunk;j--;)dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=255;ctx.putImageData(chunkImgData,0,16*i)}}}}function putBinaryImageMask(ctx,imgData){for(var height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16),srcPos=0,src=imgData.data,dest=chunkImgData.data,i=0;i<totalChunks;i++){for(var thisChunkHeight=i<fullChunks?16:partialChunkHeight,destPos=3,j=0;j<thisChunkHeight;j++)for(var mask=0,k=0;k<width;k++){if(!mask){var elem=src[srcPos++];mask=128}dest[destPos]=elem&mask?0:255,destPos+=4,mask>>=1}ctx.putImageData(chunkImgData,0,16*i)}}function copyCtxState(sourceCtx,destCtx){for(var properties=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,ii=properties.length;i<ii;i++){var property=properties[i];void 0!==sourceCtx[property]&&(destCtx[property]=sourceCtx[property])}void 0!==sourceCtx.setLineDash&&(destCtx.setLineDash(sourceCtx.getLineDash()),destCtx.lineDashOffset=sourceCtx.lineDashOffset)}function resetCtxToDefault(ctx){ctx.strokeStyle="#000000",ctx.fillStyle="#000000",ctx.fillRule="nonzero",ctx.globalAlpha=1,ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.globalCompositeOperation="source-over",ctx.font="10px sans-serif",void 0!==ctx.setLineDash&&(ctx.setLineDash([]),ctx.lineDashOffset=0)}function composeSMaskBackdrop(bytes,r0,g0,b0){for(var length=bytes.length,i=3;i<length;i+=4){var alpha=bytes[i];if(0===alpha)bytes[i-3]=r0,bytes[i-2]=g0,bytes[i-1]=b0;else if(alpha<255){var alpha_=255-alpha;bytes[i-3]=bytes[i-3]*alpha+r0*alpha_>>8,bytes[i-2]=bytes[i-2]*alpha+g0*alpha_>>8,bytes[i-1]=bytes[i-1]*alpha+b0*alpha_>>8}}}function composeSMaskAlpha(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4)layerData[i]=layerData[i]*(transferMap?transferMap[maskData[i]]:maskData[i])*(1/255)|0}function composeSMaskLuminosity(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4){var y=77*maskData[i-3]+152*maskData[i-2]+28*maskData[i-1];layerData[i]=transferMap?layerData[i]*transferMap[y>>8]>>8:layerData[i]*y>>16}}function composeSMask(ctx,smask,layerCtx,webGLContext){var mask=smask.canvas,maskCtx=smask.context;ctx.setTransform(smask.scaleX,0,0,smask.scaleY,smask.offsetX,smask.offsetY);var backdrop=smask.backdrop||null;if(!smask.transferMap&&webGLContext.isEnabled){var composed=webGLContext.composeSMask({layer:layerCtx.canvas,mask:mask,properties:{subtype:smask.subtype,backdrop:backdrop}});return ctx.setTransform(1,0,0,1,0,0),void ctx.drawImage(composed,smask.offsetX,smask.offsetY)}!function(maskCtx,layerCtx,width,height,subtype,backdrop,transferMap){var composeFn,hasBackdrop=!!backdrop,r0=hasBackdrop?backdrop[0]:0,g0=hasBackdrop?backdrop[1]:0,b0=hasBackdrop?backdrop[2]:0;composeFn="Luminosity"===subtype?composeSMaskLuminosity:composeSMaskAlpha;for(var chunkSize=Math.min(height,Math.ceil(1048576/width)),row=0;row<height;row+=chunkSize){var chunkHeight=Math.min(chunkSize,height-row),maskData=maskCtx.getImageData(0,row,width,chunkHeight),layerData=layerCtx.getImageData(0,row,width,chunkHeight);hasBackdrop&&composeSMaskBackdrop(maskData.data,r0,g0,b0),composeFn(maskData.data,layerData.data,transferMap),maskCtx.putImageData(layerData,0,row)}}(maskCtx,layerCtx,mask.width,mask.height,smask.subtype,backdrop,smask.transferMap),ctx.drawImage(mask,0,0)}var LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};for(var op in CanvasGraphics.prototype={beginDrawing:function(_ref){var transform=_ref.transform,viewport=_ref.viewport,_ref$transparency=_ref.transparency,transparency=void 0!==_ref$transparency&&_ref$transparency,_ref$background=_ref.background,background=void 0===_ref$background?null:_ref$background,width=this.ctx.canvas.width,height=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=background||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,width,height),this.ctx.restore(),transparency){var transparentCanvas=this.cachedCanvases.getCanvas("transparent",width,height,!0);this.compositeCtx=this.ctx,this.transparentCanvas=transparentCanvas.canvas,this.ctx=transparentCanvas.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),resetCtxToDefault(this.ctx),transform&&this.ctx.transform.apply(this.ctx,transform),this.ctx.transform.apply(this.ctx,viewport.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(operatorList,executionStartIdx,continueCallback,stepper){var argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,i=executionStartIdx||0,argsArrayLen=argsArray.length;if(argsArrayLen===i)return i;for(var fnId,chunkOperations=argsArrayLen-i>10&&"function"==typeof continueCallback,endTime=chunkOperations?Date.now()+15:0,steps=0,commonObjs=this.commonObjs,objs=this.objs;;){if(void 0!==stepper&&i===stepper.nextBreakPoint)return stepper.breakIt(i,continueCallback),i;if((fnId=fnArray[i])!==_util.OPS.dependency)this[fnId].apply(this,argsArray[i]);else{var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=argsArray[i][Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var depObjId=_step.value,objsPool=depObjId.startsWith("g_")?commonObjs:objs;if(!objsPool.has(depObjId))return objsPool.get(depObjId,continueCallback),i}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}if(++i===argsArrayLen)return i;if(chunkOperations&&++steps>10){if(Date.now()>endTime)return continueCallback(),i;steps=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(width){this.current.lineWidth=width,this.ctx.lineWidth=width},setLineCap:function(style){this.ctx.lineCap=LINE_CAP_STYLES[style]},setLineJoin:function(style){this.ctx.lineJoin=LINE_JOIN_STYLES[style]},setMiterLimit:function(limit){this.ctx.miterLimit=limit},setDash:function(dashArray,dashPhase){var ctx=this.ctx;void 0!==ctx.setLineDash&&(ctx.setLineDash(dashArray),ctx.lineDashOffset=dashPhase)},setRenderingIntent:function(intent){},setFlatness:function(flatness){},setGState:function(states){for(var i=0,ii=states.length;i<ii;i++){var state=states[i],value=state[1];switch(state[0]){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value[0],value[1]);break;case"CA":this.current.strokeAlpha=state[1];break;case"ca":this.current.fillAlpha=state[1],this.ctx.globalAlpha=state[1];break;case"BM":this.ctx.globalCompositeOperation=value;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=value?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var activeSMask=this.current.activeSMask,scratchCanvas=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,activeSMask.canvas.width,activeSMask.canvas.height,!0),currentCtx=this.ctx,currentTransform=currentCtx.mozCurrentTransform;this.ctx.save();var groupCtx=scratchCanvas.context;groupCtx.scale(1/activeSMask.scaleX,1/activeSMask.scaleY),groupCtx.translate(-activeSMask.offsetX,-activeSMask.offsetY),groupCtx.transform.apply(groupCtx,currentTransform),activeSMask.startTransformInverse=groupCtx.mozCurrentTransformInverse,copyCtxState(currentCtx,groupCtx),this.ctx=groupCtx,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(currentCtx),this.groupLevel++},suspendSMaskGroup:function(){var groupCtx=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),composeSMask(this.ctx,this.current.activeSMask,groupCtx,this.webGLContext),this.ctx.restore(),this.ctx.save(),copyCtxState(groupCtx,this.ctx),this.current.resumeSMaskCtx=groupCtx;var deltaTransform=_util.Util.transform(this.current.activeSMask.startTransformInverse,groupCtx.mozCurrentTransform);this.ctx.transform.apply(this.ctx,deltaTransform),groupCtx.save(),groupCtx.setTransform(1,0,0,1,0,0),groupCtx.clearRect(0,0,groupCtx.canvas.width,groupCtx.canvas.height),groupCtx.restore()},resumeSMaskGroup:function(){var currentCtx=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(currentCtx),this.groupLevel++},endSMaskGroup:function(){var groupCtx=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),composeSMask(this.ctx,this.current.activeSMask,groupCtx,this.webGLContext),this.ctx.restore(),copyCtxState(groupCtx,this.ctx);var deltaTransform=_util.Util.transform(this.current.activeSMask.startTransformInverse,groupCtx.mozCurrentTransform);this.ctx.transform.apply(this.ctx,deltaTransform)},save:function(){this.ctx.save();var old=this.current;this.stateStack.push(old),this.current=old.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedGetSinglePixelWidth=null},constructPath:function(ops,args){for(var ctx=this.ctx,current=this.current,x=current.x,y=current.y,i=0,j=0,ii=ops.length;i<ii;i++)switch(0|ops[i]){case _util.OPS.rectangle:x=args[j++],y=args[j++];var width=args[j++],height=args[j++];0===width&&(width=this.getSinglePixelWidth()),0===height&&(height=this.getSinglePixelWidth());var xw=x+width,yh=y+height;this.ctx.moveTo(x,y),this.ctx.lineTo(xw,y),this.ctx.lineTo(xw,yh),this.ctx.lineTo(x,yh),this.ctx.lineTo(x,y),this.ctx.closePath();break;case _util.OPS.moveTo:x=args[j++],y=args[j++],ctx.moveTo(x,y);break;case _util.OPS.lineTo:x=args[j++],y=args[j++],ctx.lineTo(x,y);break;case _util.OPS.curveTo:ctx.bezierCurveTo(args[j],args[j+1],args[j+2],args[j+3],x=args[j+4],y=args[j+5]),j+=6;break;case _util.OPS.curveTo2:ctx.bezierCurveTo(x,y,args[j],args[j+1],args[j+2],args[j+3]),x=args[j+2],y=args[j+3],j+=4;break;case _util.OPS.curveTo3:ctx.bezierCurveTo(args[j],args[j+1],x=args[j+2],y=args[j+3],x,y),j+=4;break;case _util.OPS.closePath:ctx.closePath()}current.setCurrentPoint(x,y)},closePath:function(){this.ctx.closePath()},stroke:function(consumePath){consumePath=void 0===consumePath||consumePath;var ctx=this.ctx,strokeColor=this.current.strokeColor;if(ctx.globalAlpha=this.current.strokeAlpha,strokeColor&&strokeColor.hasOwnProperty("type")&&"Pattern"===strokeColor.type){ctx.save();var scale=_util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform)[0];ctx.strokeStyle=strokeColor.getPattern(ctx,this),ctx.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*scale),ctx.stroke(),ctx.restore()}else ctx.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),ctx.stroke();consumePath&&this.consumePath(),ctx.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(consumePath){consumePath=void 0===consumePath||consumePath;var ctx=this.ctx,fillColor=this.current.fillColor,needRestore=!1;this.current.patternFill&&(ctx.save(),this.baseTransform&&ctx.setTransform.apply(ctx,this.baseTransform),ctx.fillStyle=fillColor.getPattern(ctx,this),needRestore=!0),this.pendingEOFill?(ctx.fill("evenodd"),this.pendingEOFill=!1):ctx.fill(),needRestore&&ctx.restore(),consumePath&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=NORMAL_CLIP},eoClip:function(){this.pendingClip=EO_CLIP},beginText:function(){this.current.textMatrix=_util.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var paths=this.pendingTextPaths,ctx=this.ctx;if(void 0!==paths){ctx.save(),ctx.beginPath();for(var i=0;i<paths.length;i++){var path=paths[i];ctx.setTransform.apply(ctx,path.transform),ctx.translate(path.x,path.y),path.addToPath(ctx,path.fontSize)}ctx.restore(),ctx.clip(),ctx.beginPath(),delete this.pendingTextPaths}else ctx.beginPath()},setCharSpacing:function(spacing){this.current.charSpacing=spacing},setWordSpacing:function(spacing){this.current.wordSpacing=spacing},setHScale:function(scale){this.current.textHScale=scale/100},setLeading:function(leading){this.current.leading=-leading},setFont:function(fontRefName,size){var fontObj=this.commonObjs.get(fontRefName),current=this.current;if(!fontObj)throw new Error("Can't find font for ".concat(fontRefName));if(current.fontMatrix=fontObj.fontMatrix?fontObj.fontMatrix:_util.FONT_IDENTITY_MATRIX,0!==current.fontMatrix[0]&&0!==current.fontMatrix[3]||(0,_util.warn)("Invalid font matrix for font "+fontRefName),size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,this.current.font=fontObj,this.current.fontSize=size,!fontObj.isType3Font){var bold=fontObj.black?"900":fontObj.bold?"bold":"normal",italic=fontObj.italic?"italic":"normal",typeface='"'.concat(fontObj.loadedName||"sans-serif",'", ').concat(fontObj.fallbackName),browserFontSize=size<16?16:size>100?100:size;this.current.fontSizeScale=size/browserFontSize,this.ctx.font="".concat(italic," ").concat(bold," ").concat(browserFontSize,"px ").concat(typeface)}},setTextRenderingMode:function(mode){this.current.textRenderingMode=mode},setTextRise:function(rise){this.current.textRise=rise},moveText:function(x,y){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=y},setLeadingMoveText:function(x,y){this.setLeading(-y),this.moveText(x,y)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+b*b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(character,x,y,patternTransform){var addToPath,ctx=this.ctx,current=this.current,font=current.font,textRenderingMode=current.textRenderingMode,fontSize=current.fontSize/current.fontSizeScale,fillStrokeMode=textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK,isAddToPathSet=!!(textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG),patternFill=current.patternFill&&font.data;(font.disableFontFace||isAddToPathSet||patternFill)&&(addToPath=font.getPathGenerator(this.commonObjs,character)),font.disableFontFace||patternFill?(ctx.save(),ctx.translate(x,y),ctx.beginPath(),addToPath(ctx,fontSize),patternTransform&&ctx.setTransform.apply(ctx,patternTransform),fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fill(),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.stroke(),ctx.restore()):(fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fillText(character,x,y),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.strokeText(character,x,y)),isAddToPathSet&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ctx.mozCurrentTransform,x:x,y:y,fontSize:fontSize,addToPath:addToPath})},get isFontSubpixelAAEnabled(){var ctx=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;ctx.scale(1.5,1),ctx.fillText("I",0,10);for(var data=ctx.getImageData(0,0,10,10).data,enabled=!1,i=3;i<data.length;i+=4)if(data[i]>0&&data[i]<255){enabled=!0;break}return(0,_util.shadow)(this,"isFontSubpixelAAEnabled",enabled)},showText:function(glyphs){var current=this.current,font=current.font;if(font.isType3Font)return this.showType3Text(glyphs);var fontSize=current.fontSize;if(0!==fontSize){var patternTransform,ctx=this.ctx,fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,glyphsLength=glyphs.length,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],simpleFillText=current.textRenderingMode===_util.TextRenderingMode.FILL&&!font.disableFontFace&&!current.patternFill;if(ctx.save(),current.patternFill){ctx.save();var pattern=current.fillColor.getPattern(ctx,this);patternTransform=ctx.mozCurrentTransform,ctx.restore(),ctx.fillStyle=pattern}ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y+current.textRise),ctx.scale(textHScale,fontDirection>0?-1:1);var lineWidth=current.lineWidth,scale=current.textMatrixScale;if(0===scale||0===lineWidth){var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,lineWidth=.65*this.getSinglePixelWidth())}else lineWidth/=scale;1!==fontSizeScale&&(ctx.scale(fontSizeScale,fontSizeScale),lineWidth/=fontSizeScale),ctx.lineWidth=lineWidth;var i,x=0;for(i=0;i<glyphsLength;++i){var glyph=glyphs[i];if((0,_util.isNum)(glyph))x+=spacingDir*glyph*fontSize/1e3;else{var scaledX,scaledY,vmetric,vx,restoreNeeded=!1,spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,accent=glyph.accent,width=glyph.width;if(vertical?(vmetric=glyph.vmetric||defaultVMetrics,vx=glyph.vmetric?vmetric[1]:.5*width,width=vmetric?-vmetric[0]:width,scaledX=(vx=-vx*widthAdvanceScale)/fontSizeScale,scaledY=(x+vmetric[2]*widthAdvanceScale)/fontSizeScale):(scaledX=x/fontSizeScale,scaledY=0),font.remeasure&&width>0){var measuredWidth=1e3*ctx.measureText(character).width/fontSize*fontSizeScale;if(width<measuredWidth&&this.isFontSubpixelAAEnabled){var characterScaleX=width/measuredWidth;restoreNeeded=!0,ctx.save(),ctx.scale(characterScaleX,1),scaledX/=characterScaleX}else width!==measuredWidth&&(scaledX+=(width-measuredWidth)/2e3*fontSize/fontSizeScale)}(glyph.isInFont||font.missingFile)&&(simpleFillText&&!accent?ctx.fillText(character,scaledX,scaledY):(this.paintChar(character,scaledX,scaledY,patternTransform),accent&&this.paintChar(accent.fontChar,scaledX+accent.offset.x/fontSizeScale,scaledY-accent.offset.y/fontSizeScale,patternTransform))),x+=width*widthAdvanceScale+spacing*fontDirection,restoreNeeded&&ctx.restore()}}vertical?current.y-=x*textHScale:current.x+=x*textHScale,ctx.restore()}},showType3Text:function(glyphs){var i,glyph,width,spacingLength,ctx=this.ctx,current=this.current,font=current.font,fontSize=current.fontSize,fontDirection=current.fontDirection,spacingDir=font.vertical?1:-1,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,textHScale=current.textHScale*fontDirection,fontMatrix=current.fontMatrix||_util.FONT_IDENTITY_MATRIX,glyphsLength=glyphs.length;if(current.textRenderingMode!==_util.TextRenderingMode.INVISIBLE&&0!==fontSize){for(this._cachedGetSinglePixelWidth=null,ctx.save(),ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y),ctx.scale(textHScale,fontDirection),i=0;i<glyphsLength;++i)if((0,_util.isNum)(glyph=glyphs[i]))this.ctx.translate(spacingLength=spacingDir*glyph*fontSize/1e3,0),current.x+=spacingLength*textHScale;else{var spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,operatorList=font.charProcOperatorList[glyph.operatorListId];if(operatorList){this.processingType3=glyph,this.save(),ctx.scale(fontSize,fontSize),ctx.transform.apply(ctx,fontMatrix),this.executeOperatorList(operatorList),this.restore();var transformed=_util.Util.applyTransform([glyph.width,0],fontMatrix);ctx.translate(width=transformed[0]*fontSize+spacing,0),current.x+=width*textHScale}else(0,_util.warn)('Type3 character "'.concat(glyph.operatorListId,'" is not available.'))}ctx.restore(),this.processingType3=null}},setCharWidth:function(xWidth,yWidth){},setCharWidthAndBounds:function(xWidth,yWidth,llx,lly,urx,ury){this.ctx.rect(llx,lly,urx-llx,ury-lly),this.clip(),this.endPath()},getColorN_Pattern:function(IR){var pattern,_this=this;if("TilingPattern"===IR[0]){var color=IR[1],baseTransform=this.baseTransform||this.ctx.mozCurrentTransform.slice();pattern=new _pattern_helper.TilingPattern(IR,color,this.ctx,{createCanvasGraphics:function(ctx){return new CanvasGraphics(ctx,_this.commonObjs,_this.objs,_this.canvasFactory,_this.webGLContext)}},baseTransform)}else pattern=(0,_pattern_helper.getShadingPatternFromIR)(IR);return pattern},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(r,g,b){var color=_util.Util.makeCssRgb(r,g,b);this.ctx.strokeStyle=color,this.current.strokeColor=color},setFillRGBColor:function(r,g,b){var color=_util.Util.makeCssRgb(r,g,b);this.ctx.fillStyle=color,this.current.fillColor=color,this.current.patternFill=!1},shadingFill:function(patternIR){var ctx=this.ctx;this.save();var pattern=(0,_pattern_helper.getShadingPatternFromIR)(patternIR);ctx.fillStyle=pattern.getPattern(ctx,this,!0);var inv=ctx.mozCurrentTransformInverse;if(inv){var canvas=ctx.canvas,width=canvas.width,height=canvas.height,bl=_util.Util.applyTransform([0,0],inv),br=_util.Util.applyTransform([0,height],inv),ul=_util.Util.applyTransform([width,0],inv),ur=_util.Util.applyTransform([width,height],inv),x0=Math.min(bl[0],br[0],ul[0],ur[0]),y0=Math.min(bl[1],br[1],ul[1],ur[1]),x1=Math.max(bl[0],br[0],ul[0],ur[0]),y1=Math.max(bl[1],br[1],ul[1],ur[1]);this.ctx.fillRect(x0,y0,x1-x0,y1-y0)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,_util.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,_util.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(matrix,bbox){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(matrix)&&6===matrix.length&&this.transform.apply(this,matrix),this.baseTransform=this.ctx.mozCurrentTransform,bbox&&(this.ctx.rect(bbox[0],bbox[1],bbox[2]-bbox[0],bbox[3]-bbox[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(group){this.save();var currentCtx=this.ctx;group.isolated||(0,_util.info)("TODO: Support non-isolated groups."),group.knockout&&(0,_util.warn)("Knockout groups not supported.");var currentTransform=currentCtx.mozCurrentTransform;if(group.matrix&&currentCtx.transform.apply(currentCtx,group.matrix),!group.bbox)throw new Error("Bounding box is required.");var bounds=_util.Util.getAxialAlignedBoundingBox(group.bbox,currentCtx.mozCurrentTransform);bounds=_util.Util.intersect(bounds,[0,0,currentCtx.canvas.width,currentCtx.canvas.height])||[0,0,0,0];var offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),drawnWidth=Math.max(Math.ceil(bounds[2])-offsetX,1),drawnHeight=Math.max(Math.ceil(bounds[3])-offsetY,1),scaleX=1,scaleY=1;drawnWidth>4096&&(scaleX=drawnWidth/4096,drawnWidth=4096),drawnHeight>4096&&(scaleY=drawnHeight/4096,drawnHeight=4096);var cacheId="groupAt"+this.groupLevel;group.smask&&(cacheId+="_smask_"+this.smaskCounter++%2);var scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight,!0),groupCtx=scratchCanvas.context;groupCtx.scale(1/scaleX,1/scaleY),groupCtx.translate(-offsetX,-offsetY),groupCtx.transform.apply(groupCtx,currentTransform),group.smask?this.smaskStack.push({canvas:scratchCanvas.canvas,context:groupCtx,offsetX:offsetX,offsetY:offsetY,scaleX:scaleX,scaleY:scaleY,subtype:group.smask.subtype,backdrop:group.smask.backdrop,transferMap:group.smask.transferMap||null,startTransformInverse:null}):(currentCtx.setTransform(1,0,0,1,0,0),currentCtx.translate(offsetX,offsetY),currentCtx.scale(scaleX,scaleY)),copyCtxState(currentCtx,groupCtx),this.ctx=groupCtx,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(currentCtx),this.groupLevel++,this.current.activeSMask=null},endGroup:function(group){this.groupLevel--;var groupCtx=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,group.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(groupCtx.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(rect,transform,matrix){this.save(),resetCtxToDefault(this.ctx),this.current=new CanvasExtraState,Array.isArray(rect)&&4===rect.length&&(this.ctx.rect(rect[0],rect[1],rect[2]-rect[0],rect[3]-rect[1]),this.clip(),this.endPath()),this.transform.apply(this,transform),this.transform.apply(this,matrix)},endAnnotation:function(){this.restore()},paintJpegXObject:function(objId,w,h){var domImage=this.processingType3?this.commonObjs.get(objId):this.objs.get(objId);if(domImage){this.save();var ctx=this.ctx;if(ctx.scale(1/w,-1/h),ctx.drawImage(domImage,0,0,domImage.width,domImage.height,0,-h,w,h),this.imageLayer){var currentTransform=ctx.mozCurrentTransformInverse,position=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:objId,left:position[0],top:position[1],width:w/currentTransform[0],height:h/currentTransform[3]})}this.restore()}else(0,_util.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(img){var ctx=this.ctx,width=img.width,height=img.height,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,glyph=this.processingType3;if(glyph&&void 0===glyph.compiled&&(glyph.compiled=width<=1e3&&height<=1e3?function(imgData){var i,j,j0,ii,width=imgData.width,height=imgData.height,width1=width+1,points=new Uint8Array(width1*(height+1)),POINT_TYPES=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),lineSize=width+7&-8,data0=imgData.data,data=new Uint8Array(lineSize*height),pos=0;for(i=0,ii=data0.length;i<ii;i++)for(var mask=128,elem=data0[i];mask>0;)data[pos++]=elem&mask?0:255,mask>>=1;var count=0;for(0!==data[pos=0]&&(points[0]=1,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j]=data[pos]?2:1,++count),pos++;for(0!==data[pos]&&(points[j]=2,++count),i=1;i<height;i++){j0=i*width1,data[(pos=i*lineSize)-lineSize]!==data[pos]&&(points[j0]=data[pos]?1:8,++count);var sum=(data[pos]?4:0)+(data[pos-lineSize]?8:0);for(j=1;j<width;j++)POINT_TYPES[sum=(sum>>2)+(data[pos+1]?4:0)+(data[pos-lineSize+1]?8:0)]&&(points[j0+j]=POINT_TYPES[sum],++count),pos++;if(data[pos-lineSize]!==data[pos]&&(points[j0+j]=data[pos]?2:4,++count),count>1e3)return null}for(j0=i*width1,0!==data[pos=lineSize*(height-1)]&&(points[j0]=8,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j0+j]=data[pos]?4:8,++count),pos++;if(0!==data[pos]&&(points[j0+j]=4,++count),count>1e3)return null;var steps=new Int32Array([0,width1,-1,0,-width1,0,0,0,1]),outlines=[];for(i=0;count&&i<=height;i++){for(var p=i*width1,end=p+width;p<end&&!points[p];)p++;if(p!==end){var pp,coords=[p%width1,i],type=points[p],p0=p;do{var step=steps[type];do{p+=step}while(!points[p]);5!==(pp=points[p])&&10!==pp?(type=pp,points[p]=0):points[p]&=(type=pp&51*type>>4)>>2|type<<2,coords.push(p%width1),coords.push(p/width1|0),points[p]||--count}while(p0!==p);outlines.push(coords),--i}}return function(c){c.save(),c.scale(1/width,-1/height),c.translate(0,-height),c.beginPath();for(var i=0,ii=outlines.length;i<ii;i++){var o=outlines[i];c.moveTo(o[0],o[1]);for(var j=2,jj=o.length;j<jj;j+=2)c.lineTo(o[j],o[j+1])}c.fill(),c.beginPath(),c.restore()}}({data:img.data,width:width,height:height}):null),glyph&&glyph.compiled)glyph.compiled(ctx);else{var maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,img),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),this.paintInlineImageXObject(maskCanvas.canvas)}},paintImageMaskXObjectRepeat:function(imgData,scaleX,scaleY,positions){var width=imgData.width,height=imgData.height,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,imgData),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore();for(var ctx=this.ctx,i=0,ii=positions.length;i<ii;i+=2)ctx.save(),ctx.transform(scaleX,0,0,scaleY,positions[i],positions[i+1]),ctx.scale(1,-1),ctx.drawImage(maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()},paintImageMaskXObjectGroup:function(images){for(var ctx=this.ctx,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,i=0,ii=images.length;i<ii;i++){var image=images[i],width=image.width,height=image.height,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,image),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),ctx.save(),ctx.transform.apply(ctx,image.transform),ctx.scale(1,-1),ctx.drawImage(maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()}},paintImageXObject:function(objId){var imgData=this.processingType3?this.commonObjs.get(objId):this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(objId,scaleX,scaleY,positions){var imgData=this.processingType3?this.commonObjs.get(objId):this.objs.get(objId);if(imgData){for(var width=imgData.width,height=imgData.height,map=[],i=0,ii=positions.length;i<ii;i+=2)map.push({transform:[scaleX,0,0,scaleY,positions[i],positions[i+1]],x:0,y:0,w:width,h:height});this.paintInlineImageXObjectGroup(imgData,map)}else(0,_util.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(imgData){var width=imgData.width,height=imgData.height,ctx=this.ctx;this.save(),ctx.scale(1/width,-1/height);var imgToPaint,tmpCanvas,currentTransform=ctx.mozCurrentTransformInverse,a=currentTransform[0],b=currentTransform[1],widthScale=Math.max(Math.sqrt(a*a+b*b),1),c=currentTransform[2],d=currentTransform[3],heightScale=Math.max(Math.sqrt(c*c+d*d),1);if("function"==typeof HTMLElement&&imgData instanceof HTMLElement||!imgData.data)imgToPaint=imgData;else{var tmpCtx=(tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",width,height)).context;putBinaryImageData(tmpCtx,imgData),imgToPaint=tmpCanvas.canvas}for(var paintWidth=width,paintHeight=height,tmpCanvasId="prescale1";widthScale>2&&paintWidth>1||heightScale>2&&paintHeight>1;){var newWidth=paintWidth,newHeight=paintHeight;widthScale>2&&paintWidth>1&&(widthScale/=paintWidth/(newWidth=Math.ceil(paintWidth/2))),heightScale>2&&paintHeight>1&&(heightScale/=paintHeight/(newHeight=Math.ceil(paintHeight/2))),(tmpCtx=(tmpCanvas=this.cachedCanvases.getCanvas(tmpCanvasId,newWidth,newHeight)).context).clearRect(0,0,newWidth,newHeight),tmpCtx.drawImage(imgToPaint,0,0,paintWidth,paintHeight,0,0,newWidth,newHeight),imgToPaint=tmpCanvas.canvas,paintWidth=newWidth,paintHeight=newHeight,tmpCanvasId="prescale1"===tmpCanvasId?"prescale2":"prescale1"}if(ctx.drawImage(imgToPaint,0,0,paintWidth,paintHeight,0,-height,width,height),this.imageLayer){var position=this.getCanvasPosition(0,-height);this.imageLayer.appendImage({imgData:imgData,left:position[0],top:position[1],width:width/currentTransform[0],height:height/currentTransform[3]})}this.restore()},paintInlineImageXObjectGroup:function(imgData,map){var ctx=this.ctx,w=imgData.width,h=imgData.height,tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",w,h);putBinaryImageData(tmpCanvas.context,imgData);for(var i=0,ii=map.length;i<ii;i++){var entry=map[i];if(ctx.save(),ctx.transform.apply(ctx,entry.transform),ctx.scale(1,-1),ctx.drawImage(tmpCanvas.canvas,entry.x,entry.y,entry.w,entry.h,0,-1,1,1),this.imageLayer){var position=this.getCanvasPosition(entry.x,entry.y);this.imageLayer.appendImage({imgData:imgData,left:position[0],top:position[1],width:w,height:h})}ctx.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,_util.warn)("Unsupported 'paintXObject' command.")},markPoint:function(tag){},markPointProps:function(tag,properties){},beginMarkedContent:function(tag){},beginMarkedContentProps:function(tag,properties){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var ctx=this.ctx;this.pendingClip&&(this.pendingClip===EO_CLIP?ctx.clip("evenodd"):ctx.clip(),this.pendingClip=null),ctx.beginPath()},getSinglePixelWidth:function(scale){if(null===this._cachedGetSinglePixelWidth){var inverse=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(inverse[0]*inverse[0]+inverse[1]*inverse[1],inverse[2]*inverse[2]+inverse[3]*inverse[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(x,y){var transform=this.ctx.mozCurrentTransform;return[transform[0]*x+transform[2]*y+transform[4],transform[1]*x+transform[3]*y+transform[5]]}},_util.OPS)CanvasGraphics.prototype[_util.OPS[op]]=CanvasGraphics.prototype[op];return CanvasGraphics}();exports.CanvasGraphics=CanvasGraphics},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getShadingPatternFromIR=function(raw){var shadingIR=ShadingIRs[raw[0]];if(!shadingIR)throw new Error("Unknown IR type: ".concat(raw[0]));return shadingIR.fromIR(raw)},exports.TilingPattern=void 0;var _util=__w_pdfjs_require__(1),ShadingIRs={};function applyBoundingBox(ctx,bbox){if(bbox&&"undefined"!=typeof Path2D){var width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],region=new Path2D;region.rect(bbox[0],bbox[1],width,height),ctx.clip(region)}}ShadingIRs.RadialAxial={fromIR:function(raw){var type=raw[1],bbox=raw[2],colorStops=raw[3],p0=raw[4],p1=raw[5],r0=raw[6],r1=raw[7];return{type:"Pattern",getPattern:function(ctx){var grad;applyBoundingBox(ctx,bbox),"axial"===type?grad=ctx.createLinearGradient(p0[0],p0[1],p1[0],p1[1]):"radial"===type&&(grad=ctx.createRadialGradient(p0[0],p0[1],r0,p1[0],p1[1],r1));for(var i=0,ii=colorStops.length;i<ii;++i){var c=colorStops[i];grad.addColorStop(c[0],c[1])}return grad}}}};var createMeshCanvas=function(){function drawTriangle(data,context,p1,p2,p3,c1,c2,c3){var tmp,coords=context.coords,colors=context.colors,bytes=data.data,rowSize=4*data.width;coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp),coords[p2+1]>coords[p3+1]&&(tmp=p2,p2=p3,p3=tmp,tmp=c2,c2=c3,c3=tmp),coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp);var x1=(coords[p1]+context.offsetX)*context.scaleX,y1=(coords[p1+1]+context.offsetY)*context.scaleY,x2=(coords[p2]+context.offsetX)*context.scaleX,y2=(coords[p2+1]+context.offsetY)*context.scaleY,x3=(coords[p3]+context.offsetX)*context.scaleX,y3=(coords[p3+1]+context.offsetY)*context.scaleY;if(!(y1>=y3))for(var xa,car,cag,cab,xb,cbr,cbg,cbb,k,c1r=colors[c1],c1g=colors[c1+1],c1b=colors[c1+2],c2r=colors[c2],c2g=colors[c2+1],c2b=colors[c2+2],c3r=colors[c3],c3g=colors[c3+1],c3b=colors[c3+2],minY=Math.round(y1),maxY=Math.round(y3),y=minY;y<=maxY;y++){y<y2?(xa=x1-(x1-x2)*(k=y<y1?0:y1===y2?1:(y1-y)/(y1-y2)),car=c1r-(c1r-c2r)*k,cag=c1g-(c1g-c2g)*k,cab=c1b-(c1b-c2b)*k):(xa=x2-(x2-x3)*(k=y>y3?1:y2===y3?0:(y2-y)/(y2-y3)),car=c2r-(c2r-c3r)*k,cag=c2g-(c2g-c3g)*k,cab=c2b-(c2b-c3b)*k),xb=x1-(x1-x3)*(k=y<y1?0:y>y3?1:(y1-y)/(y1-y3)),cbr=c1r-(c1r-c3r)*k,cbg=c1g-(c1g-c3g)*k,cbb=c1b-(c1b-c3b)*k;for(var x1_=Math.round(Math.min(xa,xb)),x2_=Math.round(Math.max(xa,xb)),j=rowSize*y+4*x1_,x=x1_;x<=x2_;x++)bytes[j++]=car-(car-cbr)*(k=(k=(xa-x)/(xa-xb))<0?0:k>1?1:k)|0,bytes[j++]=cag-(cag-cbg)*k|0,bytes[j++]=cab-(cab-cbb)*k|0,bytes[j++]=255}}function drawFigure(data,figure,context){var i,ii,ps=figure.coords,cs=figure.colors;switch(figure.type){case"lattice":var verticesPerRow=figure.verticesPerRow,rows=Math.floor(ps.length/verticesPerRow)-1,cols=verticesPerRow-1;for(i=0;i<rows;i++)for(var q=i*verticesPerRow,j=0;j<cols;j++,q++)drawTriangle(data,context,ps[q],ps[q+1],ps[q+verticesPerRow],cs[q],cs[q+1],cs[q+verticesPerRow]),drawTriangle(data,context,ps[q+verticesPerRow+1],ps[q+1],ps[q+verticesPerRow],cs[q+verticesPerRow+1],cs[q+1],cs[q+verticesPerRow]);break;case"triangles":for(i=0,ii=ps.length;i<ii;i+=3)drawTriangle(data,context,ps[i],ps[i+1],ps[i+2],cs[i],cs[i+1],cs[i+2]);break;default:throw new Error("illegal figure")}}return function(bounds,combinesScale,coords,colors,figures,backgroundColor,cachedCanvases,webGLContext){var canvas,tmpCanvas,i,ii,offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),boundsWidth=Math.ceil(bounds[2])-offsetX,boundsHeight=Math.ceil(bounds[3])-offsetY,width=Math.min(Math.ceil(Math.abs(boundsWidth*combinesScale[0]*1.1)),3e3),height=Math.min(Math.ceil(Math.abs(boundsHeight*combinesScale[1]*1.1)),3e3),scaleX=boundsWidth/width,scaleY=boundsHeight/height,context={coords:coords,colors:colors,offsetX:-offsetX,offsetY:-offsetY,scaleX:1/scaleX,scaleY:1/scaleY},paddedWidth=width+4,paddedHeight=height+4;if(webGLContext.isEnabled)canvas=webGLContext.drawFigures({width:width,height:height,backgroundColor:backgroundColor,figures:figures,context:context}),(tmpCanvas=cachedCanvases.getCanvas("mesh",paddedWidth,paddedHeight,!1)).context.drawImage(canvas,2,2),canvas=tmpCanvas.canvas;else{var tmpCtx=(tmpCanvas=cachedCanvases.getCanvas("mesh",paddedWidth,paddedHeight,!1)).context,data=tmpCtx.createImageData(width,height);if(backgroundColor){var bytes=data.data;for(i=0,ii=bytes.length;i<ii;i+=4)bytes[i]=backgroundColor[0],bytes[i+1]=backgroundColor[1],bytes[i+2]=backgroundColor[2],bytes[i+3]=255}for(i=0;i<figures.length;i++)drawFigure(data,figures[i],context);tmpCtx.putImageData(data,2,2),canvas=tmpCanvas.canvas}return{canvas:canvas,offsetX:offsetX-2*scaleX,offsetY:offsetY-2*scaleY,scaleX:scaleX,scaleY:scaleY}}}();ShadingIRs.Mesh={fromIR:function(raw){var coords=raw[2],colors=raw[3],figures=raw[4],bounds=raw[5],matrix=raw[6],bbox=raw[7],background=raw[8];return{type:"Pattern",getPattern:function(ctx,owner,shadingFill){var scale;if(applyBoundingBox(ctx,bbox),shadingFill)scale=_util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);else if(scale=_util.Util.singularValueDecompose2dScale(owner.baseTransform),matrix){var matrixScale=_util.Util.singularValueDecompose2dScale(matrix);scale=[scale[0]*matrixScale[0],scale[1]*matrixScale[1]]}var temporaryPatternCanvas=createMeshCanvas(bounds,scale,coords,colors,figures,shadingFill?null:background,owner.cachedCanvases,owner.webGLContext);return shadingFill||(ctx.setTransform.apply(ctx,owner.baseTransform),matrix&&ctx.transform.apply(ctx,matrix)),ctx.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY),ctx.scale(temporaryPatternCanvas.scaleX,temporaryPatternCanvas.scaleY),ctx.createPattern(temporaryPatternCanvas.canvas,"no-repeat")}}}},ShadingIRs.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var TilingPattern=function(){function TilingPattern(IR,color,ctx,canvasGraphicsFactory,baseTransform){this.operatorList=IR[2],this.matrix=IR[3]||[1,0,0,1,0,0],this.bbox=IR[4],this.xstep=IR[5],this.ystep=IR[6],this.paintType=IR[7],this.tilingType=IR[8],this.color=color,this.canvasGraphicsFactory=canvasGraphicsFactory,this.baseTransform=baseTransform,this.type="Pattern",this.ctx=ctx}return TilingPattern.prototype={createPatternCanvas:function(owner){var operatorList=this.operatorList,bbox=this.bbox,xstep=this.xstep,ystep=this.ystep,paintType=this.paintType,color=this.color,canvasGraphicsFactory=this.canvasGraphicsFactory;(0,_util.info)("TilingType: "+this.tilingType);var x0=bbox[0],y0=bbox[1],x1=bbox[2],y1=bbox[3],matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix),curMatrixScale=_util.Util.singularValueDecompose2dScale(this.baseTransform),combinedScale=[matrixScale[0]*curMatrixScale[0],matrixScale[1]*curMatrixScale[1]],dimx=this.getSizeAndScale(xstep,this.ctx.canvas.width,combinedScale[0]),dimy=this.getSizeAndScale(ystep,this.ctx.canvas.height,combinedScale[1]),tmpCanvas=owner.cachedCanvases.getCanvas("pattern",dimx.size,dimy.size,!0),graphics=canvasGraphicsFactory.createCanvasGraphics(tmpCanvas.context);return graphics.groupLevel=owner.groupLevel,this.setFillAndStrokeStyleToContext(graphics,paintType,color),graphics.transform(dimx.scale,0,0,dimy.scale,0,0),graphics.transform(1,0,0,1,-x0,-y0),this.clipBbox(graphics,bbox,x0,y0,x1,y1),graphics.executeOperatorList(operatorList),this.ctx.transform(1,0,0,1,x0,y0),this.ctx.scale(1/dimx.scale,1/dimy.scale),tmpCanvas.canvas},getSizeAndScale:function(step,realOutputSize,scale){step=Math.abs(step);var maxSize=Math.max(3e3,realOutputSize),size=Math.ceil(step*scale);return size>=maxSize?size=maxSize:scale=size/step,{scale:scale,size:size}},clipBbox:function(graphics,bbox,x0,y0,x1,y1){Array.isArray(bbox)&&4===bbox.length&&(graphics.ctx.rect(x0,y0,x1-x0,y1-y0),graphics.clip(),graphics.endPath())},setFillAndStrokeStyleToContext:function(graphics,paintType,color){var context=graphics.ctx,current=graphics.current;switch(paintType){case 1:var ctx=this.ctx;context.fillStyle=ctx.fillStyle,context.strokeStyle=ctx.strokeStyle,current.fillColor=ctx.fillStyle,current.strokeColor=ctx.strokeStyle;break;case 2:var cssColor=_util.Util.makeCssRgb(color[0],color[1],color[2]);context.fillStyle=cssColor,context.strokeStyle=cssColor,current.fillColor=cssColor,current.strokeColor=cssColor;break;default:throw new _util.FormatError("Unsupported paint type: ".concat(paintType))}},getPattern:function(ctx,owner){(ctx=this.ctx).setTransform.apply(ctx,this.baseTransform),ctx.transform.apply(ctx,this.matrix);var temporaryPatternCanvas=this.createPatternCanvas(owner);return ctx.createPattern(temporaryPatternCanvas,"repeat")}},TilingPattern}();exports.TilingPattern=TilingPattern},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalWorkerOptions=void 0;var GlobalWorkerOptions=Object.create(null);exports.GlobalWorkerOptions=GlobalWorkerOptions,GlobalWorkerOptions.workerPort=void 0===GlobalWorkerOptions.workerPort?null:GlobalWorkerOptions.workerPort,GlobalWorkerOptions.workerSrc=void 0===GlobalWorkerOptions.workerSrc?"":GlobalWorkerOptions.workerSrc},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageHandler=MessageHandler;var _util=__w_pdfjs_require__(1);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function wrapReason(reason){if("object"!==_typeof(reason))return reason;switch(reason.name){case"AbortException":return new _util.AbortException(reason.message);case"MissingPDFException":return new _util.MissingPDFException(reason.message);case"UnexpectedResponseException":return new _util.UnexpectedResponseException(reason.message,reason.status);case"UnknownErrorException":return new _util.UnknownErrorException(reason.message,reason.details);default:return new _util.UnknownErrorException(reason.message,reason.toString())}}function MessageHandler(sourceName,targetName,comObj){var _this=this;this.sourceName=sourceName,this.targetName=targetName,this.comObj=comObj,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var callbacksCapabilities=this.callbacksCapabilities=Object.create(null),ah=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(event){var data=event.data;if(data.targetName===_this.sourceName)if(data.stream)_this._processStreamMessage(data);else if(data.isReply){var callbackId=data.callbackId;if(!(data.callbackId in callbacksCapabilities))throw new Error("Cannot resolve callback ".concat(callbackId));var callback=callbacksCapabilities[callbackId];delete callbacksCapabilities[callbackId],"reason"in data?callback.reject(wrapReason(data.reason)):callback.resolve(data.data)}else{if(!(data.action in ah))throw new Error("Unknown action from worker: ".concat(data.action));var action=ah[data.action];if(data.callbackId){var _sourceName=_this.sourceName,_targetName=data.sourceName;new Promise((function(resolve){resolve(action(data.data))})).then((function(result){comObj.postMessage({sourceName:_sourceName,targetName:_targetName,isReply:!0,callbackId:data.callbackId,data:result})}),(function(reason){comObj.postMessage({sourceName:_sourceName,targetName:_targetName,isReply:!0,callbackId:data.callbackId,reason:wrapReason(reason)})}))}else data.streamId?_this._createStreamSink(data):action(data.data)}},comObj.addEventListener("message",this._onComObjOnMessage)}MessageHandler.prototype={on:function(actionName,handler){var ah=this.actionHandler;if(ah[actionName])throw new Error('There is already an actionName called "'.concat(actionName,'"'));ah[actionName]=handler},send:function(actionName,data,transfers){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,data:data},transfers)},sendWithPromise:function(actionName,data,transfers){var callbackId=this.callbackId++,capability=(0,_util.createPromiseCapability)();this.callbacksCapabilities[callbackId]=capability;try{this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,callbackId:callbackId,data:data},transfers)}catch(ex){capability.reject(ex)}return capability.promise},sendWithStream:function(actionName,data,queueingStrategy,transfers){var _this2=this,streamId=this.streamId++,sourceName=this.sourceName,targetName=this.targetName,comObj=this.comObj;return new _util.ReadableStream({start:function(controller){var startCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId]={controller:controller,startCall:startCapability,pullCall:null,cancelCall:null,isClosed:!1},_this2.postMessage({sourceName:sourceName,targetName:targetName,action:actionName,streamId:streamId,data:data,desiredSize:controller.desiredSize},transfers),startCapability.promise},pull:function(controller){var pullCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId].pullCall=pullCapability,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:6,streamId:streamId,desiredSize:controller.desiredSize}),pullCapability.promise},cancel:function(reason){(0,_util.assert)(reason instanceof Error,"cancel must have a valid reason");var cancelCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId].cancelCall=cancelCapability,_this2.streamControllers[streamId].isClosed=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:1,streamId:streamId,reason:wrapReason(reason)}),cancelCapability.promise}},queueingStrategy)},_createStreamSink:function(data){var self=this,action=this.actionHandler[data.action],streamId=data.streamId,desiredSize=data.desiredSize,sourceName=this.sourceName,targetName=data.sourceName,capability=(0,_util.createPromiseCapability)(),comObj=this.comObj,streamSink={enqueue:function(chunk){var size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,transfers=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var lastDesiredSize=this.desiredSize;this.desiredSize-=size,lastDesiredSize>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_util.createPromiseCapability)(),this.ready=this.sinkCapability.promise),self.postMessage({sourceName:sourceName,targetName:targetName,stream:4,streamId:streamId,chunk:chunk},transfers)}},close:function(){this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:3,streamId:streamId}),delete self.streamSinks[streamId])},error:function(reason){(0,_util.assert)(reason instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:5,streamId:streamId,reason:wrapReason(reason)}))},sinkCapability:capability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:desiredSize,ready:null};streamSink.sinkCapability.resolve(),streamSink.ready=streamSink.sinkCapability.promise,this.streamSinks[streamId]=streamSink,new Promise((function(resolve){resolve(action(data.data,streamSink))})).then((function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:8,streamId:streamId,success:!0})}),(function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:8,streamId:streamId,reason:wrapReason(reason)})}))},_processStreamMessage:function(data){var _this3=this,sourceName=this.sourceName,targetName=data.sourceName,streamId=data.streamId,comObj=this.comObj,deleteStreamController=function(){Promise.all([_this3.streamControllers[streamId].startCall,_this3.streamControllers[streamId].pullCall,_this3.streamControllers[streamId].cancelCall].map((function(capability){return capability&&capability.promise.catch((function(){}))}))).then((function(){delete _this3.streamControllers[streamId]}))};switch(data.stream){case 8:data.success?this.streamControllers[streamId].startCall.resolve():this.streamControllers[streamId].startCall.reject(wrapReason(data.reason));break;case 7:data.success?this.streamControllers[streamId].pullCall.resolve():this.streamControllers[streamId].pullCall.reject(wrapReason(data.reason));break;case 6:if(!this.streamSinks[streamId]){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:7,streamId:streamId,success:!0});break}this.streamSinks[streamId].desiredSize<=0&&data.desiredSize>0&&this.streamSinks[streamId].sinkCapability.resolve(),this.streamSinks[streamId].desiredSize=data.desiredSize;var onPull=this.streamSinks[data.streamId].onPull;new Promise((function(resolve){resolve(onPull&&onPull())})).then((function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:7,streamId:streamId,success:!0})}),(function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:7,streamId:streamId,reason:wrapReason(reason)})}));break;case 4:if((0,_util.assert)(this.streamControllers[streamId],"enqueue should have stream controller"),this.streamControllers[streamId].isClosed)break;this.streamControllers[streamId].controller.enqueue(data.chunk);break;case 3:if((0,_util.assert)(this.streamControllers[streamId],"close should have stream controller"),this.streamControllers[streamId].isClosed)break;this.streamControllers[streamId].isClosed=!0,this.streamControllers[streamId].controller.close(),deleteStreamController();break;case 5:(0,_util.assert)(this.streamControllers[streamId],"error should have stream controller"),this.streamControllers[streamId].controller.error(wrapReason(data.reason)),deleteStreamController();break;case 2:data.success?this.streamControllers[streamId].cancelCall.resolve():this.streamControllers[streamId].cancelCall.reject(wrapReason(data.reason)),deleteStreamController();break;case 1:if(!this.streamSinks[streamId])break;var onCancel=this.streamSinks[data.streamId].onCancel;new Promise((function(resolve){resolve(onCancel&&onCancel(wrapReason(data.reason)))})).then((function(){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:2,streamId:streamId,success:!0})}),(function(reason){comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:2,streamId:streamId,reason:wrapReason(reason)})})),this.streamSinks[streamId].sinkCapability.reject(wrapReason(data.reason)),this.streamSinks[streamId].isCancelled=!0,delete this.streamSinks[streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(message,transfers){transfers&&this.postMessageTransfers?this.comObj.postMessage(message,transfers):this.comObj.postMessage(message)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Metadata=void 0;var _util=__w_pdfjs_require__(1),_xml_parser=__w_pdfjs_require__(191);exports.Metadata=function(){function Metadata(data){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Metadata),(0,_util.assert)("string"==typeof data,"Metadata: input is not a string"),data=this._repair(data);var xmlDocument=(new _xml_parser.SimpleXMLParser).parseFromString(data);this._metadata=Object.create(null),xmlDocument&&this._parse(xmlDocument)}var protoProps;return(protoProps=[{key:"_repair",value:function(data){return data.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,(function(all,codes){for(var bytes=codes.replace(/\\([0-3])([0-7])([0-7])/g,(function(code,d1,d2,d3){return String.fromCharCode(64*d1+8*d2+1*d3)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(str,name){switch(name){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(name," isn't defined."))})),chars="",i=0,ii=bytes.length;i<ii;i+=2){var code=256*bytes.charCodeAt(i)+bytes.charCodeAt(i+1);chars+=code>=32&&code<127&&60!==code&&62!==code&&38!==code?String.fromCharCode(code):"&#x"+(65536+code).toString(16).substring(1)+";"}return">"+chars}))}},{key:"_parse",value:function(xmlDocument){var rdf=xmlDocument.documentElement;if("rdf:rdf"!==rdf.nodeName.toLowerCase())for(rdf=rdf.firstChild;rdf&&"rdf:rdf"!==rdf.nodeName.toLowerCase();)rdf=rdf.nextSibling;var nodeName=rdf?rdf.nodeName.toLowerCase():null;if(rdf&&"rdf:rdf"===nodeName&&rdf.hasChildNodes())for(var children=rdf.childNodes,i=0,ii=children.length;i<ii;i++){var desc=children[i];if("rdf:description"===desc.nodeName.toLowerCase())for(var j=0,jj=desc.childNodes.length;j<jj;j++)if("#text"!==desc.childNodes[j].nodeName.toLowerCase()){var entry=desc.childNodes[j],name=entry.nodeName.toLowerCase();this._metadata[name]=entry.textContent.trim()}}}},{key:"get",value:function(name){var data=this._metadata[name];return void 0!==data?data:null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(name){return void 0!==this._metadata[name]}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(Metadata.prototype,protoProps),Metadata}()},function(module,exports,__w_pdfjs_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function isWhitespace(s,index){var ch=s[index];return" "===ch||"\n"===ch||"\r"===ch||"\t"===ch}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleXMLParser=void 0;var XMLParserBase=function(){function XMLParserBase(){_classCallCheck(this,XMLParserBase)}return _createClass(XMLParserBase,[{key:"_resolveEntities",value:function(s){var _this=this;return s.replace(/&([^;]+);/g,(function(all,entity){if("#x"===entity.substring(0,2))return String.fromCharCode(parseInt(entity.substring(2),16));if("#"===entity.substring(0,1))return String.fromCharCode(parseInt(entity.substring(1),10));switch(entity){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return _this.onResolveEntity(entity)}))}},{key:"_parseContent",value:function(s,start){var name,pos=start,attributes=[];function skipWs(){for(;pos<s.length&&isWhitespace(s,pos);)++pos}for(;pos<s.length&&!isWhitespace(s,pos)&&">"!==s[pos]&&"/"!==s[pos];)++pos;for(name=s.substring(start,pos),skipWs();pos<s.length&&">"!==s[pos]&&"/"!==s[pos]&&"?"!==s[pos];){skipWs();for(var attrValue,attrName="";pos<s.length&&!isWhitespace(s,pos)&&"="!==s[pos];)attrName+=s[pos],++pos;if(skipWs(),"="!==s[pos])return null;++pos,skipWs();var attrEndChar=s[pos];if('"'!==attrEndChar&&"'"!==attrEndChar)return null;var attrEndIndex=s.indexOf(attrEndChar,++pos);if(attrEndIndex<0)return null;attrValue=s.substring(pos,attrEndIndex),attributes.push({name:attrName,value:this._resolveEntities(attrValue)}),pos=attrEndIndex+1,skipWs()}return{name:name,attributes:attributes,parsed:pos-start}}},{key:"_parseProcessingInstruction",value:function(s,start){for(var name,pos=start;pos<s.length&&!isWhitespace(s,pos)&&">"!==s[pos]&&"/"!==s[pos];)++pos;name=s.substring(start,pos),function(){for(;pos<s.length&&isWhitespace(s,pos);)++pos}();for(var attrStart=pos;pos<s.length&&("?"!==s[pos]||">"!==s[pos+1]);)++pos;return{name:name,value:s.substring(attrStart,pos),parsed:pos-start}}},{key:"parseXml",value:function(s){for(var i=0;i<s.length;){var j=i;if("<"===s[i]){var q=void 0;switch(s[++j]){case"/":if(++j,(q=s.indexOf(">",j))<0)return void this.onError(-9);this.onEndElement(s.substring(j,q)),j=q+1;break;case"?":++j;var pi=this._parseProcessingInstruction(s,j);if("?>"!==s.substring(j+pi.parsed,j+pi.parsed+2))return void this.onError(-3);this.onPi(pi.name,pi.value),j+=pi.parsed+2;break;case"!":if("--"===s.substring(j+1,j+3)){if((q=s.indexOf("--\x3e",j+3))<0)return void this.onError(-5);this.onComment(s.substring(j+3,q)),j=q+3}else if("[CDATA["===s.substring(j+1,j+8)){if((q=s.indexOf("]]>",j+8))<0)return void this.onError(-2);this.onCdata(s.substring(j+8,q)),j=q+3}else{if("DOCTYPE"!==s.substring(j+1,j+8))return void this.onError(-6);var q2=s.indexOf("[",j+8),complexDoctype=!1;if((q=s.indexOf(">",j+8))<0)return void this.onError(-4);if(q2>0&&q>q2){if((q=s.indexOf("]>",j+8))<0)return void this.onError(-4);complexDoctype=!0}var doctypeContent=s.substring(j+8,q+(complexDoctype?1:0));this.onDoctype(doctypeContent),j=q+(complexDoctype?2:1)}break;default:var content=this._parseContent(s,j);if(null===content)return void this.onError(-6);var isClosed=!1;if("/>"===s.substring(j+content.parsed,j+content.parsed+2))isClosed=!0;else if(">"!==s.substring(j+content.parsed,j+content.parsed+1))return void this.onError(-9);this.onBeginElement(content.name,content.attributes,isClosed),j+=content.parsed+(isClosed?2:1)}}else{for(;j<s.length&&"<"!==s[j];)j++;var text=s.substring(i,j);this.onText(this._resolveEntities(text))}i=j}}},{key:"onResolveEntity",value:function(name){return"&".concat(name,";")}},{key:"onPi",value:function(name,value){}},{key:"onComment",value:function(text){}},{key:"onCdata",value:function(text){}},{key:"onDoctype",value:function(doctypeContent){}},{key:"onText",value:function(text){}},{key:"onBeginElement",value:function(name,attributes,isEmpty){}},{key:"onEndElement",value:function(name){}},{key:"onError",value:function(code){}}]),XMLParserBase}(),SimpleDOMNode=function(){function SimpleDOMNode(nodeName,nodeValue){_classCallCheck(this,SimpleDOMNode),this.nodeName=nodeName,this.nodeValue=nodeValue,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(SimpleDOMNode,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var childNodes=this.parentNode.childNodes;if(childNodes){var index=childNodes.indexOf(this);if(-1!==index)return childNodes[index+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(child){return child.textContent})).join(""):this.nodeValue||""}}]),SimpleDOMNode}();exports.SimpleXMLParser=function(_XMLParserBase){function SimpleXMLParser(){var _this2;return _classCallCheck(this,SimpleXMLParser),(_this2=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(SimpleXMLParser).call(this)))._currentFragment=null,_this2._stack=null,_this2._errorCode=0,_this2}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SimpleXMLParser,_XMLParserBase),_createClass(SimpleXMLParser,[{key:"parseFromString",value:function(data){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(data),0===this._errorCode){var documentElement=(arr=this._currentFragment,1,function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),1!==_arr.length);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0];if(documentElement)return{documentElement:documentElement}}var arr}},{key:"onResolveEntity",value:function(name){switch(name){case"apos":return"'"}return _get(_getPrototypeOf(SimpleXMLParser.prototype),"onResolveEntity",this).call(this,name)}},{key:"onText",value:function(text){if(!function(s){for(var i=0,ii=s.length;i<ii;i++)if(!isWhitespace(s,i))return!1;return!0}(text)){var node=new SimpleDOMNode("#text",text);this._currentFragment.push(node)}}},{key:"onCdata",value:function(text){var node=new SimpleDOMNode("#text",text);this._currentFragment.push(node)}},{key:"onBeginElement",value:function(name,attributes,isEmpty){var node=new SimpleDOMNode(name);node.childNodes=[],this._currentFragment.push(node),isEmpty||(this._stack.push(this._currentFragment),this._currentFragment=node.childNodes)}},{key:"onEndElement",value:function(name){this._currentFragment=this._stack.pop()||[];var lastElement=this._currentFragment[this._currentFragment.length-1];if(lastElement)for(var i=0,ii=lastElement.childNodes.length;i<ii;i++)lastElement.childNodes[i].parentNode=lastElement}},{key:"onError",value:function(code){this._errorCode=code}}]),SimpleXMLParser}(XMLParserBase)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFDataTransportStream=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}exports.PDFDataTransportStream=function(){function PDFDataTransportStream(params,pdfDataRangeTransport){var _this=this;_classCallCheck(this,PDFDataTransportStream),(0,_util.assert)(pdfDataRangeTransport),this._queuedChunks=[],this._progressiveDone=params.progressiveDone||!1;var initialData=params.initialData;if(initialData&&initialData.length>0){var buffer=new Uint8Array(initialData).buffer;this._queuedChunks.push(buffer)}this._pdfDataRangeTransport=pdfDataRangeTransport,this._isStreamingSupported=!params.disableStream,this._isRangeSupported=!params.disableRange,this._contentLength=params.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(begin,chunk){_this._onReceiveData({begin:begin,chunk:chunk})})),this._pdfDataRangeTransport.addProgressListener((function(loaded,total){_this._onProgress({loaded:loaded,total:total})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(chunk){_this._onReceiveData({chunk:chunk})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){_this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(PDFDataTransportStream,[{key:"_onReceiveData",value:function(args){var buffer=new Uint8Array(args.chunk).buffer;if(void 0===args.begin)this._fullRequestReader?this._fullRequestReader._enqueue(buffer):this._queuedChunks.push(buffer);else{var found=this._rangeReaders.some((function(rangeReader){return rangeReader._begin===args.begin&&(rangeReader._enqueue(buffer),!0)}));(0,_util.assert)(found)}}},{key:"_onProgress",value:function(evt){if(void 0===evt.total){var firstReader=this._rangeReaders[0];firstReader&&firstReader.onProgress&&firstReader.onProgress({loaded:evt.loaded})}else{var fullReader=this._fullRequestReader;fullReader&&fullReader.onProgress&&fullReader.onProgress({loaded:evt.loaded,total:evt.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(reader){var i=this._rangeReaders.indexOf(reader);i>=0&&this._rangeReaders.splice(i,1)}},{key:"getFullReader",value:function(){(0,_util.assert)(!this._fullRequestReader);var queuedChunks=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,queuedChunks,this._progressiveDone)}},{key:"getRangeReader",value:function(begin,end){if(end<=this._progressiveDataLength)return null;var reader=new PDFDataTransportStreamRangeReader(this,begin,end);return this._pdfDataRangeTransport.requestDataRange(begin,end),this._rangeReaders.push(reader),reader}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeReaders.slice(0).forEach((function(rangeReader){rangeReader.cancel(reason)})),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),PDFDataTransportStream}();var PDFDataTransportStreamReader=function(){function PDFDataTransportStreamReader(stream,queuedChunks){var progressiveDone=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PDFDataTransportStreamReader),this._stream=stream,this._done=progressiveDone||!1,this._filename=null,this._queuedChunks=queuedChunks||[],this._loaded=0;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._queuedChunks[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var chunk=_step.value;this._loaded+=chunk.byteLength}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this._requests=[],this._headersReady=Promise.resolve(),stream._fullRequestReader=this,this.onProgress=null}var _read;return _createClass(PDFDataTransportStreamReader,[{key:"_enqueue",value:function(chunk){this._done||(this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunks.push(chunk),this._loaded+=chunk.byteLength)}},{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark((function _callee(){var chunk,requestCapability;return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(this._queuedChunks.length>0)){_context.next=3;break}return chunk=this._queuedChunks.shift(),_context.abrupt("return",{value:chunk,done:!1});case 3:if(!this._done){_context.next=5;break}return _context.abrupt("return",{value:void 0,done:!0});case 5:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context.abrupt("return",requestCapability.promise);case 8:case"end":return _context.stop()}}),_callee,this)}))),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._requests.forEach((function(requestCapability){requestCapability.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),PDFDataTransportStreamReader}(),PDFDataTransportStreamRangeReader=function(){function PDFDataTransportStreamRangeReader(stream,begin,end){_classCallCheck(this,PDFDataTransportStreamRangeReader),this._stream=stream,this._begin=begin,this._end=end,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var _read2;return _createClass(PDFDataTransportStreamRangeReader,[{key:"_enqueue",value:function(chunk){this._done||(0===this._requests.length?this._queuedChunk=chunk:(this._requests.shift().resolve({value:chunk,done:!1}),this._requests.forEach((function(requestCapability){requestCapability.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark((function _callee2(){var chunk,requestCapability;return _regenerator.default.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!this._queuedChunk){_context2.next=4;break}return chunk=this._queuedChunk,this._queuedChunk=null,_context2.abrupt("return",{value:chunk,done:!1});case 4:if(!this._done){_context2.next=6;break}return _context2.abrupt("return",{value:void 0,done:!0});case 6:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context2.abrupt("return",requestCapability.promise);case 9:case"end":return _context2.stop()}}),_callee2,this)}))),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._requests.forEach((function(requestCapability){requestCapability.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),PDFDataTransportStreamRangeReader}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebGLContext=void 0;var _util=__w_pdfjs_require__(1);exports.WebGLContext=function(){function WebGLContext(_ref){var _ref$enable=_ref.enable,enable=void 0!==_ref$enable&&_ref$enable;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WebGLContext),this._enabled=!0===enable}var protoProps;return(protoProps=[{key:"composeSMask",value:function(_ref2){return WebGLUtils.composeSMask(_ref2.layer,_ref2.mask,_ref2.properties)}},{key:"drawFigures",value:function(_ref3){return WebGLUtils.drawFigures(_ref3.width,_ref3.height,_ref3.backgroundColor,_ref3.figures,_ref3.context)}},{key:"clear",value:function(){WebGLUtils.cleanup()}},{key:"isEnabled",get:function(){var enabled=this._enabled;return enabled&&(enabled=WebGLUtils.tryInitGL()),(0,_util.shadow)(this,"isEnabled",enabled)}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(WebGLContext.prototype,protoProps),WebGLContext}();var WebGLUtils=function(){function loadShader(gl,code,shaderType){var shader=gl.createShader(shaderType);if(gl.shaderSource(shader,code),gl.compileShader(shader),!gl.getShaderParameter(shader,gl.COMPILE_STATUS)){var errorMsg=gl.getShaderInfoLog(shader);throw new Error("Error during shader compilation: "+errorMsg)}return shader}function createVertexShader(gl,code){return loadShader(gl,code,gl.VERTEX_SHADER)}function createFragmentShader(gl,code){return loadShader(gl,code,gl.FRAGMENT_SHADER)}function createProgram(gl,shaders){for(var program=gl.createProgram(),i=0,ii=shaders.length;i<ii;++i)gl.attachShader(program,shaders[i]);if(gl.linkProgram(program),!gl.getProgramParameter(program,gl.LINK_STATUS)){var errorMsg=gl.getProgramInfoLog(program);throw new Error("Error during program linking: "+errorMsg)}return program}function createTexture(gl,image,textureId){gl.activeTexture(textureId);var texture=gl.createTexture();return gl.bindTexture(gl.TEXTURE_2D,texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,image),texture}var currentGL,currentCanvas;function generateGL(){currentGL||(currentCanvas=document.createElement("canvas"),currentGL=currentCanvas.getContext("webgl",{premultipliedalpha:!1}))}var smaskCache=null,figuresCache=null;return{tryInitGL:function(){try{return generateGL(),!!currentGL}catch(ex){}return!1},composeSMask:function(layer,mask,properties){var width=layer.width,height=layer.height;smaskCache||function(){var canvas,gl;generateGL(),canvas=currentCanvas,currentCanvas=null,gl=currentGL,currentGL=null;var program=createProgram(gl,[createVertexShader(gl,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),createFragmentShader(gl,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);gl.useProgram(program);var cache={};cache.gl=gl,cache.canvas=canvas,cache.resolutionLocation=gl.getUniformLocation(program,"u_resolution"),cache.positionLocation=gl.getAttribLocation(program,"a_position"),cache.backdropLocation=gl.getUniformLocation(program,"u_backdrop"),cache.subtypeLocation=gl.getUniformLocation(program,"u_subtype");var texCoordLocation=gl.getAttribLocation(program,"a_texCoord"),texLayerLocation=gl.getUniformLocation(program,"u_image"),texMaskLocation=gl.getUniformLocation(program,"u_mask"),texCoordBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,texCoordBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),gl.STATIC_DRAW),gl.enableVertexAttribArray(texCoordLocation),gl.vertexAttribPointer(texCoordLocation,2,gl.FLOAT,!1,0,0),gl.uniform1i(texLayerLocation,0),gl.uniform1i(texMaskLocation,1),smaskCache=cache}();var cache=smaskCache,canvas=cache.canvas,gl=cache.gl;canvas.width=width,canvas.height=height,gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),gl.uniform2f(cache.resolutionLocation,width,height),properties.backdrop?gl.uniform4f(cache.resolutionLocation,properties.backdrop[0],properties.backdrop[1],properties.backdrop[2],1):gl.uniform4f(cache.resolutionLocation,0,0,0,0),gl.uniform1i(cache.subtypeLocation,"Luminosity"===properties.subtype?1:0);var texture=createTexture(gl,layer,gl.TEXTURE0),maskTexture=createTexture(gl,mask,gl.TEXTURE1),buffer=gl.createBuffer();return gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,0,width,0,0,height,0,height,width,0,width,height]),gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.positionLocation),gl.vertexAttribPointer(cache.positionLocation,2,gl.FLOAT,!1,0,0),gl.clearColor(0,0,0,0),gl.enable(gl.BLEND),gl.blendFunc(gl.ONE,gl.ONE_MINUS_SRC_ALPHA),gl.clear(gl.COLOR_BUFFER_BIT),gl.drawArrays(gl.TRIANGLES,0,6),gl.flush(),gl.deleteTexture(texture),gl.deleteTexture(maskTexture),gl.deleteBuffer(buffer),canvas},drawFigures:function(width,height,backgroundColor,figures,context){figuresCache||function(){var canvas,gl;generateGL(),canvas=currentCanvas,currentCanvas=null,gl=currentGL,currentGL=null;var program=createProgram(gl,[createVertexShader(gl,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),createFragmentShader(gl,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);gl.useProgram(program);var cache={};cache.gl=gl,cache.canvas=canvas,cache.resolutionLocation=gl.getUniformLocation(program,"u_resolution"),cache.scaleLocation=gl.getUniformLocation(program,"u_scale"),cache.offsetLocation=gl.getUniformLocation(program,"u_offset"),cache.positionLocation=gl.getAttribLocation(program,"a_position"),cache.colorLocation=gl.getAttribLocation(program,"a_color"),figuresCache=cache}();var cache=figuresCache,canvas=cache.canvas,gl=cache.gl;canvas.width=width,canvas.height=height,gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),gl.uniform2f(cache.resolutionLocation,width,height);var i,ii,rows,count=0;for(i=0,ii=figures.length;i<ii;i++)switch(figures[i].type){case"lattice":count+=((rows=figures[i].coords.length/figures[i].verticesPerRow|0)-1)*(figures[i].verticesPerRow-1)*6;break;case"triangles":count+=figures[i].coords.length}var coords=new Float32Array(2*count),colors=new Uint8Array(3*count),coordsMap=context.coords,colorsMap=context.colors,pIndex=0,cIndex=0;for(i=0,ii=figures.length;i<ii;i++){var figure=figures[i],ps=figure.coords,cs=figure.colors;switch(figure.type){case"lattice":var cols=figure.verticesPerRow;rows=ps.length/cols|0;for(var row=1;row<rows;row++)for(var offset=row*cols+1,col=1;col<cols;col++,offset++)coords[pIndex]=coordsMap[ps[offset-cols-1]],coords[pIndex+1]=coordsMap[ps[offset-cols-1]+1],coords[pIndex+2]=coordsMap[ps[offset-cols]],coords[pIndex+3]=coordsMap[ps[offset-cols]+1],coords[pIndex+4]=coordsMap[ps[offset-1]],coords[pIndex+5]=coordsMap[ps[offset-1]+1],colors[cIndex]=colorsMap[cs[offset-cols-1]],colors[cIndex+1]=colorsMap[cs[offset-cols-1]+1],colors[cIndex+2]=colorsMap[cs[offset-cols-1]+2],colors[cIndex+3]=colorsMap[cs[offset-cols]],colors[cIndex+4]=colorsMap[cs[offset-cols]+1],colors[cIndex+5]=colorsMap[cs[offset-cols]+2],colors[cIndex+6]=colorsMap[cs[offset-1]],colors[cIndex+7]=colorsMap[cs[offset-1]+1],colors[cIndex+8]=colorsMap[cs[offset-1]+2],coords[pIndex+6]=coords[pIndex+2],coords[pIndex+7]=coords[pIndex+3],coords[pIndex+8]=coords[pIndex+4],coords[pIndex+9]=coords[pIndex+5],coords[pIndex+10]=coordsMap[ps[offset]],coords[pIndex+11]=coordsMap[ps[offset]+1],colors[cIndex+9]=colors[cIndex+3],colors[cIndex+10]=colors[cIndex+4],colors[cIndex+11]=colors[cIndex+5],colors[cIndex+12]=colors[cIndex+6],colors[cIndex+13]=colors[cIndex+7],colors[cIndex+14]=colors[cIndex+8],colors[cIndex+15]=colorsMap[cs[offset]],colors[cIndex+16]=colorsMap[cs[offset]+1],colors[cIndex+17]=colorsMap[cs[offset]+2],pIndex+=12,cIndex+=18;break;case"triangles":for(var j=0,jj=ps.length;j<jj;j++)coords[pIndex]=coordsMap[ps[j]],coords[pIndex+1]=coordsMap[ps[j]+1],colors[cIndex]=colorsMap[cs[j]],colors[cIndex+1]=colorsMap[cs[j]+1],colors[cIndex+2]=colorsMap[cs[j]+2],pIndex+=2,cIndex+=3}}backgroundColor?gl.clearColor(backgroundColor[0]/255,backgroundColor[1]/255,backgroundColor[2]/255,1):gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT);var coordsBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,coordsBuffer),gl.bufferData(gl.ARRAY_BUFFER,coords,gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.positionLocation),gl.vertexAttribPointer(cache.positionLocation,2,gl.FLOAT,!1,0,0);var colorsBuffer=gl.createBuffer();return gl.bindBuffer(gl.ARRAY_BUFFER,colorsBuffer),gl.bufferData(gl.ARRAY_BUFFER,colors,gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.colorLocation),gl.vertexAttribPointer(cache.colorLocation,3,gl.UNSIGNED_BYTE,!1,0,0),gl.uniform2f(cache.scaleLocation,context.scaleX,context.scaleY),gl.uniform2f(cache.offsetLocation,context.offsetX,context.offsetY),gl.drawArrays(gl.TRIANGLES,0,count),gl.flush(),gl.deleteBuffer(coordsBuffer),gl.deleteBuffer(colorsBuffer),canvas},cleanup:function(){smaskCache&&smaskCache.canvas&&(smaskCache.canvas.width=0,smaskCache.canvas.height=0),figuresCache&&figuresCache.canvas&&(figuresCache.canvas.width=0,figuresCache.canvas.height=0),smaskCache=null,figuresCache=null}}}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTextLayer=void 0;var obj,_util=__w_pdfjs_require__(1),_global_scope=(obj=__w_pdfjs_require__(3))&&obj.__esModule?obj:{default:obj},renderTextLayer=function(){var NonWhitespaceRegexp=/\S/;function appendText(task,geom,styles){var textDiv=document.createElement("span"),textDivProperties={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(task._textDivs.push(textDiv),!NonWhitespaceRegexp.test(geom.str))return textDivProperties.isWhitespace=!0,void task._textDivProperties.set(textDiv,textDivProperties);var tx=_util.Util.transform(task._viewport.transform,geom.transform),angle=Math.atan2(tx[1],tx[0]),style=styles[geom.fontName];style.vertical&&(angle+=Math.PI/2);var left,top,fontHeight=Math.sqrt(tx[2]*tx[2]+tx[3]*tx[3]),fontAscent=fontHeight;if(style.ascent?fontAscent*=style.ascent:style.descent&&(fontAscent*=1+style.descent),0===angle?(left=tx[4],top=tx[5]-fontAscent):(left=tx[4]+fontAscent*Math.sin(angle),top=tx[5]-fontAscent*Math.cos(angle)),textDiv.style.left="".concat(left,"px"),textDiv.style.top="".concat(top,"px"),textDiv.style.fontSize="".concat(fontHeight,"px"),textDiv.style.fontFamily=style.fontFamily,textDiv.textContent=geom.str,task._fontInspectorEnabled&&(textDiv.dataset.fontName=geom.fontName),0!==angle&&(textDivProperties.angle=angle*(180/Math.PI)),geom.str.length>1&&(textDivProperties.canvasWidth=style.vertical?geom.height*task._viewport.scale:geom.width*task._viewport.scale),task._textDivProperties.set(textDiv,textDivProperties),task._textContentStream&&task._layoutText(textDiv),task._enhanceTextSelection){var angleCos=1,angleSin=0;0!==angle&&(angleCos=Math.cos(angle),angleSin=Math.sin(angle));var m,b,divWidth=(style.vertical?geom.height:geom.width)*task._viewport.scale,divHeight=fontHeight;b=0!==angle?_util.Util.getAxialAlignedBoundingBox([0,0,divWidth,divHeight],m=[angleCos,angleSin,-angleSin,angleCos,left,top]):[left,top,left+divWidth,top+divHeight],task._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:textDiv,size:[divWidth,divHeight],m:m})}}function render(task){if(!task._canceled){var textDivs=task._textDivs,capability=task._capability,textDivsLength=textDivs.length;if(textDivsLength>1e5)return task._renderingDone=!0,void capability.resolve();if(!task._textContentStream)for(var i=0;i<textDivsLength;i++)task._layoutText(textDivs[i]);task._renderingDone=!0,capability.resolve()}}function expandBoundsLTR(width,bounds){bounds.sort((function(a,b){return a.x1-b.x1||a.index-b.index}));var horizon=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];bounds.forEach((function(boundary){for(var i=0;i<horizon.length&&horizon[i].end<=boundary.y1;)i++;for(var horizonPart,affectedBoundary,j=horizon.length-1;j>=0&&horizon[j].start>=boundary.y2;)j--;var q,k,maxXNew=-1/0;for(q=i;q<=j;q++){var xNew;(xNew=(affectedBoundary=(horizonPart=horizon[q]).boundary).x2>boundary.x1?affectedBoundary.index>boundary.index?affectedBoundary.x1New:boundary.x1:void 0===affectedBoundary.x2New?(affectedBoundary.x2+boundary.x1)/2:affectedBoundary.x2New)>maxXNew&&(maxXNew=xNew)}for(boundary.x1New=maxXNew,q=i;q<=j;q++)void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New?affectedBoundary.x2>boundary.x1?affectedBoundary.index>boundary.index&&(affectedBoundary.x2New=affectedBoundary.x2):affectedBoundary.x2New=maxXNew:affectedBoundary.x2New>maxXNew&&(affectedBoundary.x2New=Math.max(maxXNew,affectedBoundary.x2));var changedHorizon=[],lastBoundary=null;for(q=i;q<=j;q++){var useBoundary=(affectedBoundary=(horizonPart=horizon[q]).boundary).x2>boundary.x2?affectedBoundary:boundary;lastBoundary===useBoundary?changedHorizon[changedHorizon.length-1].end=horizonPart.end:(changedHorizon.push({start:horizonPart.start,end:horizonPart.end,boundary:useBoundary}),lastBoundary=useBoundary)}for(horizon[i].start<boundary.y1&&(changedHorizon[0].start=boundary.y1,changedHorizon.unshift({start:horizon[i].start,end:boundary.y1,boundary:horizon[i].boundary})),boundary.y2<horizon[j].end&&(changedHorizon[changedHorizon.length-1].end=boundary.y2,changedHorizon.push({start:boundary.y2,end:horizon[j].end,boundary:horizon[j].boundary})),q=i;q<=j;q++)if(void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New){var used=!1;for(k=i-1;!used&&k>=0&&horizon[k].start>=affectedBoundary.y1;k--)used=horizon[k].boundary===affectedBoundary;for(k=j+1;!used&&k<horizon.length&&horizon[k].end<=affectedBoundary.y2;k++)used=horizon[k].boundary===affectedBoundary;for(k=0;!used&&k<changedHorizon.length;k++)used=changedHorizon[k].boundary===affectedBoundary;used||(affectedBoundary.x2New=maxXNew)}Array.prototype.splice.apply(horizon,[i,j-i+1].concat(changedHorizon))})),horizon.forEach((function(horizonPart){var affectedBoundary=horizonPart.boundary;void 0===affectedBoundary.x2New&&(affectedBoundary.x2New=Math.max(width,affectedBoundary.x2))}))}function TextLayerRenderTask(_ref){var _this=this,textContentStream=_ref.textContentStream,container=_ref.container,viewport=_ref.viewport,textDivs=_ref.textDivs,textContentItemsStr=_ref.textContentItemsStr,enhanceTextSelection=_ref.enhanceTextSelection;this._textContent=_ref.textContent,this._textContentStream=textContentStream,this._container=container,this._viewport=viewport,this._textDivs=textDivs||[],this._textContentItemsStr=textContentItemsStr||[],this._enhanceTextSelection=!!enhanceTextSelection,this._fontInspectorEnabled=!(!_global_scope.default.FontInspector||!_global_scope.default.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_util.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){_this._layoutTextCtx&&(_this._layoutTextCtx.canvas.width=0,_this._layoutTextCtx.canvas.height=0,_this._layoutTextCtx=null)})).catch((function(){}))}return TextLayerRenderTask.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new _util.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(items,styleCache){for(var i=0,len=items.length;i<len;i++)this._textContentItemsStr.push(items[i].str),appendText(this,items[i],styleCache)},_layoutText:function(textDiv){var textDivProperties=this._textDivProperties.get(textDiv);if(!textDivProperties.isWhitespace){var transform="";if(0!==textDivProperties.canvasWidth){var _textDiv$style=textDiv.style,fontSize=_textDiv$style.fontSize,fontFamily=_textDiv$style.fontFamily;fontSize===this._layoutTextLastFontSize&&fontFamily===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(fontSize," ").concat(fontFamily),this._layoutTextLastFontSize=fontSize,this._layoutTextLastFontFamily=fontFamily);var width=this._layoutTextCtx.measureText(textDiv.textContent).width;width>0&&(textDivProperties.scale=textDivProperties.canvasWidth/width,transform="scaleX(".concat(textDivProperties.scale,")"))}0!==textDivProperties.angle&&(transform="rotate(".concat(textDivProperties.angle,"deg) ").concat(transform)),transform.length>0&&(this._enhanceTextSelection&&(textDivProperties.originalTransform=transform),textDiv.style.transform=transform),this._textDivProperties.set(textDiv,textDivProperties),this._container.appendChild(textDiv)}},_render:function(timeout){var _this2=this,capability=(0,_util.createPromiseCapability)(),styleCache=Object.create(null),canvas=document.createElement("canvas");if(canvas.mozOpaque=!0,this._layoutTextCtx=canvas.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),capability.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function pump(){_this2._reader.read().then((function(_ref2){var value=_ref2.value;_ref2.done?capability.resolve():(Object.assign(styleCache,value.styles),_this2._processItems(value.items,styleCache),pump())}),capability.reject)}()}capability.promise.then((function(){styleCache=null,timeout?_this2._renderTimer=setTimeout((function(){render(_this2),_this2._renderTimer=null}),timeout):render(_this2)}),this._capability.reject)},expandTextDivs:function(expandDivs){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(task){for(var bounds=task._bounds,viewport=task._viewport,expanded=function(width,height,boxes){var bounds=boxes.map((function(box,i){return{x1:box.left,y1:box.top,x2:box.right,y2:box.bottom,index:i,x1New:void 0,x2New:void 0}}));expandBoundsLTR(width,bounds);var expanded=new Array(boxes.length);return bounds.forEach((function(b){expanded[b.index]={left:b.x1New,top:0,right:b.x2New,bottom:0}})),boxes.map((function(box,i){var e=expanded[i],b=bounds[i];b.x1=box.top,b.y1=width-e.right,b.x2=box.bottom,b.y2=width-e.left,b.index=i,b.x1New=void 0,b.x2New=void 0})),expandBoundsLTR(height,bounds),bounds.forEach((function(b){var i=b.index;expanded[i].top=b.x1New,expanded[i].bottom=b.x2New})),expanded}(viewport.width,viewport.height,bounds),i=0;i<expanded.length;i++){var div=bounds[i].div,divProperties=task._textDivProperties.get(div);if(0!==divProperties.angle){var e=expanded[i],b=bounds[i],m=b.m,c=m[0],s=m[1],points=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],ts=new Float64Array(64);points.forEach((function(p,i){var t=_util.Util.applyTransform(p,m);ts[i+0]=c&&(e.left-t[0])/c,ts[i+4]=s&&(e.top-t[1])/s,ts[i+8]=c&&(e.right-t[0])/c,ts[i+12]=s&&(e.bottom-t[1])/s,ts[i+16]=s&&(e.left-t[0])/-s,ts[i+20]=c&&(e.top-t[1])/c,ts[i+24]=s&&(e.right-t[0])/-s,ts[i+28]=c&&(e.bottom-t[1])/c,ts[i+32]=c&&(e.left-t[0])/-c,ts[i+36]=s&&(e.top-t[1])/-s,ts[i+40]=c&&(e.right-t[0])/-c,ts[i+44]=s&&(e.bottom-t[1])/-s,ts[i+48]=s&&(e.left-t[0])/s,ts[i+52]=c&&(e.top-t[1])/-c,ts[i+56]=s&&(e.right-t[0])/s,ts[i+60]=c&&(e.bottom-t[1])/-c}));var findPositiveMin=function(ts,offset,count){for(var result=0,i=0;i<count;i++){var t=ts[offset++];t>0&&(result=result?Math.min(t,result):t)}return result},boxScale=1+Math.min(Math.abs(c),Math.abs(s));divProperties.paddingLeft=findPositiveMin(ts,32,16)/boxScale,divProperties.paddingTop=findPositiveMin(ts,48,16)/boxScale,divProperties.paddingRight=findPositiveMin(ts,0,16)/boxScale,divProperties.paddingBottom=findPositiveMin(ts,16,16)/boxScale,task._textDivProperties.set(div,divProperties)}else divProperties.paddingLeft=bounds[i].left-expanded[i].left,divProperties.paddingTop=bounds[i].top-expanded[i].top,divProperties.paddingRight=expanded[i].right-bounds[i].right,divProperties.paddingBottom=expanded[i].bottom-bounds[i].bottom,task._textDivProperties.set(div,divProperties)}}(this),this._bounds=null);for(var transformBuf=[],paddingBuf=[],i=0,ii=this._textDivs.length;i<ii;i++){var div=this._textDivs[i],divProps=this._textDivProperties.get(div);if(!divProps.isWhitespace)if(expandDivs){transformBuf.length=0,paddingBuf.length=0,divProps.originalTransform&&transformBuf.push(divProps.originalTransform),divProps.paddingTop>0?(paddingBuf.push("".concat(divProps.paddingTop,"px")),transformBuf.push("translateY(".concat(-divProps.paddingTop,"px)"))):paddingBuf.push(0),paddingBuf.push(divProps.paddingRight>0?"".concat(divProps.paddingRight/divProps.scale,"px"):0),paddingBuf.push(divProps.paddingBottom>0?"".concat(divProps.paddingBottom,"px"):0),divProps.paddingLeft>0?(paddingBuf.push("".concat(divProps.paddingLeft/divProps.scale,"px")),transformBuf.push("translateX(".concat(-divProps.paddingLeft/divProps.scale,"px)"))):paddingBuf.push(0);var padding=paddingBuf.join(" ");"0 0 0 0"!==padding&&(div.style.padding=padding),transformBuf.length&&(div.style.transform=transformBuf.join(" "))}else div.style.padding=null,div.style.transform=divProps.originalTransform}}}},function(renderParameters){var task=new TextLayerRenderTask({textContent:renderParameters.textContent,textContentStream:renderParameters.textContentStream,container:renderParameters.container,viewport:renderParameters.viewport,textDivs:renderParameters.textDivs,textContentItemsStr:renderParameters.textContentItemsStr,enhanceTextSelection:renderParameters.enhanceTextSelection});return task._render(renderParameters.timeout),task}}();exports.renderTextLayer=renderTextLayer},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnotationLayer=void 0;var _display_utils=__w_pdfjs_require__(183),_util=__w_pdfjs_require__(1);function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(subClass,superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var AnnotationElementFactory=function(){function AnnotationElementFactory(){_classCallCheck(this,AnnotationElementFactory)}return _createClass(AnnotationElementFactory,null,[{key:"create",value:function(parameters){switch(parameters.data.annotationType){case _util.AnnotationType.LINK:return new LinkAnnotationElement(parameters);case _util.AnnotationType.TEXT:return new TextAnnotationElement(parameters);case _util.AnnotationType.WIDGET:switch(parameters.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(parameters);case"Btn":return parameters.data.radioButton?new RadioButtonWidgetAnnotationElement(parameters):parameters.data.checkBox?new CheckboxWidgetAnnotationElement(parameters):new PushButtonWidgetAnnotationElement(parameters);case"Ch":return new ChoiceWidgetAnnotationElement(parameters)}return new WidgetAnnotationElement(parameters);case _util.AnnotationType.POPUP:return new PopupAnnotationElement(parameters);case _util.AnnotationType.FREETEXT:return new FreeTextAnnotationElement(parameters);case _util.AnnotationType.LINE:return new LineAnnotationElement(parameters);case _util.AnnotationType.SQUARE:return new SquareAnnotationElement(parameters);case _util.AnnotationType.CIRCLE:return new CircleAnnotationElement(parameters);case _util.AnnotationType.POLYLINE:return new PolylineAnnotationElement(parameters);case _util.AnnotationType.CARET:return new CaretAnnotationElement(parameters);case _util.AnnotationType.INK:return new InkAnnotationElement(parameters);case _util.AnnotationType.POLYGON:return new PolygonAnnotationElement(parameters);case _util.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(parameters);case _util.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(parameters);case _util.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(parameters);case _util.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(parameters);case _util.AnnotationType.STAMP:return new StampAnnotationElement(parameters);case _util.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(parameters);default:return new AnnotationElement(parameters)}}}]),AnnotationElementFactory}(),AnnotationElement=function(){function AnnotationElement(parameters){var isRenderable=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ignoreBorder=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,AnnotationElement),this.isRenderable=isRenderable,this.data=parameters.data,this.layer=parameters.layer,this.page=parameters.page,this.viewport=parameters.viewport,this.linkService=parameters.linkService,this.downloadManager=parameters.downloadManager,this.imageResourcesPath=parameters.imageResourcesPath,this.renderInteractiveForms=parameters.renderInteractiveForms,this.svgFactory=parameters.svgFactory,isRenderable&&(this.container=this._createContainer(ignoreBorder))}return _createClass(AnnotationElement,[{key:"_createContainer",value:function(){var ignoreBorder=arguments.length>0&&void 0!==arguments[0]&&arguments[0],data=this.data,page=this.page,viewport=this.viewport,container=document.createElement("section"),width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1];container.setAttribute("data-annotation-id",data.id);var rect=_util.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]);if(container.style.transform="matrix(".concat(viewport.transform.join(","),")"),container.style.transformOrigin="-".concat(rect[0],"px -").concat(rect[1],"px"),!ignoreBorder&&data.borderStyle.width>0){container.style.borderWidth="".concat(data.borderStyle.width,"px"),data.borderStyle.style!==_util.AnnotationBorderStyleType.UNDERLINE&&(width-=2*data.borderStyle.width,height-=2*data.borderStyle.width);var horizontalRadius=data.borderStyle.horizontalCornerRadius,verticalRadius=data.borderStyle.verticalCornerRadius;if(horizontalRadius>0||verticalRadius>0){var radius="".concat(horizontalRadius,"px / ").concat(verticalRadius,"px");container.style.borderRadius=radius}switch(data.borderStyle.style){case _util.AnnotationBorderStyleType.SOLID:container.style.borderStyle="solid";break;case _util.AnnotationBorderStyleType.DASHED:container.style.borderStyle="dashed";break;case _util.AnnotationBorderStyleType.BEVELED:(0,_util.warn)("Unimplemented border style: beveled");break;case _util.AnnotationBorderStyleType.INSET:(0,_util.warn)("Unimplemented border style: inset");break;case _util.AnnotationBorderStyleType.UNDERLINE:container.style.borderBottomStyle="solid"}data.color?container.style.borderColor=_util.Util.makeCssRgb(0|data.color[0],0|data.color[1],0|data.color[2]):container.style.borderWidth=0}return container.style.left="".concat(rect[0],"px"),container.style.top="".concat(rect[1],"px"),container.style.width="".concat(width,"px"),container.style.height="".concat(height,"px"),container}},{key:"_createPopup",value:function(container,trigger,data){trigger||((trigger=document.createElement("div")).style.height=container.style.height,trigger.style.width=container.style.width,container.appendChild(trigger));var popup=new PopupElement({container:container,trigger:trigger,color:data.color,title:data.title,modificationDate:data.modificationDate,contents:data.contents,hideWrapper:!0}).render();popup.style.left=container.style.width,container.appendChild(popup)}},{key:"render",value:function(){(0,_util.unreachable)("Abstract method `AnnotationElement.render` called")}}]),AnnotationElement}(),LinkAnnotationElement=function(_AnnotationElement){function LinkAnnotationElement(parameters){_classCallCheck(this,LinkAnnotationElement);var isRenderable=!!(parameters.data.url||parameters.data.dest||parameters.data.action);return _possibleConstructorReturn(this,_getPrototypeOf(LinkAnnotationElement).call(this,parameters,isRenderable))}return _inherits(LinkAnnotationElement,_AnnotationElement),_createClass(LinkAnnotationElement,[{key:"render",value:function(){this.container.className="linkAnnotation";var data=this.data,linkService=this.linkService,link=document.createElement("a");return data.url?(0,_display_utils.addLinkAttributes)(link,{url:data.url,target:data.newWindow?_display_utils.LinkTarget.BLANK:linkService.externalLinkTarget,rel:linkService.externalLinkRel,enabled:linkService.externalLinkEnabled}):data.action?this._bindNamedAction(link,data.action):this._bindLink(link,data.dest),this.container.appendChild(link),this.container}},{key:"_bindLink",value:function(link,destination){var _this=this;link.href=this.linkService.getDestinationHash(destination),link.onclick=function(){return destination&&_this.linkService.navigateTo(destination),!1},destination&&(link.className="internalLink")}},{key:"_bindNamedAction",value:function(link,action){var _this2=this;link.href=this.linkService.getAnchorUrl(""),link.onclick=function(){return _this2.linkService.executeNamedAction(action),!1},link.className="internalLink"}}]),LinkAnnotationElement}(AnnotationElement),TextAnnotationElement=function(_AnnotationElement2){function TextAnnotationElement(parameters){_classCallCheck(this,TextAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(TextAnnotationElement).call(this,parameters,isRenderable))}return _inherits(TextAnnotationElement,_AnnotationElement2),_createClass(TextAnnotationElement,[{key:"render",value:function(){this.container.className="textAnnotation";var image=document.createElement("img");return image.style.height=this.container.style.height,image.style.width=this.container.style.width,image.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",image.alt="[{{type}} Annotation]",image.dataset.l10nId="text_annotation_type",image.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,image,this.data),this.container.appendChild(image),this.container}}]),TextAnnotationElement}(AnnotationElement),WidgetAnnotationElement=function(_AnnotationElement3){function WidgetAnnotationElement(){return _classCallCheck(this,WidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(WidgetAnnotationElement).apply(this,arguments))}return _inherits(WidgetAnnotationElement,_AnnotationElement3),_createClass(WidgetAnnotationElement,[{key:"render",value:function(){return this.container}}]),WidgetAnnotationElement}(AnnotationElement),TextWidgetAnnotationElement=function(_WidgetAnnotationElem){function TextWidgetAnnotationElement(parameters){_classCallCheck(this,TextWidgetAnnotationElement);var isRenderable=parameters.renderInteractiveForms||!parameters.data.hasAppearance&&!!parameters.data.fieldValue;return _possibleConstructorReturn(this,_getPrototypeOf(TextWidgetAnnotationElement).call(this,parameters,isRenderable))}return _inherits(TextWidgetAnnotationElement,_WidgetAnnotationElem),_createClass(TextWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var element=null;if(this.renderInteractiveForms){if(this.data.multiLine?(element=document.createElement("textarea")).textContent=this.data.fieldValue:((element=document.createElement("input")).type="text",element.setAttribute("value",this.data.fieldValue)),element.disabled=this.data.readOnly,null!==this.data.maxLen&&(element.maxLength=this.data.maxLen),this.data.comb){var combWidth=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;element.classList.add("comb"),element.style.letterSpacing="calc(".concat(combWidth,"px - 1ch)")}}else{(element=document.createElement("div")).textContent=this.data.fieldValue,element.style.verticalAlign="middle",element.style.display="table-cell";var font=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(font=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(element,font)}return null!==this.data.textAlignment&&(element.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(element),this.container}},{key:"_setTextStyle",value:function(element,font){var style=element.style;if(style.fontSize="".concat(this.data.fontSize,"px"),style.direction=this.data.fontDirection<0?"rtl":"ltr",font){style.fontWeight=font.black?font.bold?"900":"bold":font.bold?"bold":"normal",style.fontStyle=font.italic?"italic":"normal";var fontFamily=font.loadedName?'"'.concat(font.loadedName,'", '):"";style.fontFamily=fontFamily+(font.fallbackName||"Helvetica, sans-serif")}}}]),TextWidgetAnnotationElement}(WidgetAnnotationElement),CheckboxWidgetAnnotationElement=function(_WidgetAnnotationElem2){function CheckboxWidgetAnnotationElement(parameters){return _classCallCheck(this,CheckboxWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(CheckboxWidgetAnnotationElement).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(CheckboxWidgetAnnotationElement,_WidgetAnnotationElem2),_createClass(CheckboxWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var element=document.createElement("input");return element.disabled=this.data.readOnly,element.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&element.setAttribute("checked",!0),this.container.appendChild(element),this.container}}]),CheckboxWidgetAnnotationElement}(WidgetAnnotationElement),RadioButtonWidgetAnnotationElement=function(_WidgetAnnotationElem3){function RadioButtonWidgetAnnotationElement(parameters){return _classCallCheck(this,RadioButtonWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(RadioButtonWidgetAnnotationElement).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(RadioButtonWidgetAnnotationElement,_WidgetAnnotationElem3),_createClass(RadioButtonWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var element=document.createElement("input");return element.disabled=this.data.readOnly,element.type="radio",element.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&element.setAttribute("checked",!0),this.container.appendChild(element),this.container}}]),RadioButtonWidgetAnnotationElement}(WidgetAnnotationElement),PushButtonWidgetAnnotationElement=function(_LinkAnnotationElemen){function PushButtonWidgetAnnotationElement(){return _classCallCheck(this,PushButtonWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(PushButtonWidgetAnnotationElement).apply(this,arguments))}return _inherits(PushButtonWidgetAnnotationElement,_LinkAnnotationElemen),_createClass(PushButtonWidgetAnnotationElement,[{key:"render",value:function(){var container=_get(_getPrototypeOf(PushButtonWidgetAnnotationElement.prototype),"render",this).call(this);return container.className="buttonWidgetAnnotation pushButton",container}}]),PushButtonWidgetAnnotationElement}(LinkAnnotationElement),ChoiceWidgetAnnotationElement=function(_WidgetAnnotationElem4){function ChoiceWidgetAnnotationElement(parameters){return _classCallCheck(this,ChoiceWidgetAnnotationElement),_possibleConstructorReturn(this,_getPrototypeOf(ChoiceWidgetAnnotationElement).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(ChoiceWidgetAnnotationElement,_WidgetAnnotationElem4),_createClass(ChoiceWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var selectElement=document.createElement("select");selectElement.disabled=this.data.readOnly,this.data.combo||(selectElement.size=this.data.options.length,this.data.multiSelect&&(selectElement.multiple=!0));var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.data.options[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var option=_step.value,optionElement=document.createElement("option");optionElement.textContent=option.displayValue,optionElement.value=option.exportValue,this.data.fieldValue.includes(option.displayValue)&&optionElement.setAttribute("selected",!0),selectElement.appendChild(optionElement)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return this.container.appendChild(selectElement),this.container}}]),ChoiceWidgetAnnotationElement}(WidgetAnnotationElement),PopupAnnotationElement=function(_AnnotationElement4){function PopupAnnotationElement(parameters){_classCallCheck(this,PopupAnnotationElement);var isRenderable=!(!parameters.data.title&&!parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(PopupAnnotationElement).call(this,parameters,isRenderable))}return _inherits(PopupAnnotationElement,_AnnotationElement4),_createClass(PopupAnnotationElement,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var selector='[data-annotation-id="'.concat(this.data.parentId,'"]'),parentElement=this.layer.querySelector(selector);if(!parentElement)return this.container;var popup=new PopupElement({container:this.container,trigger:parentElement,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),parentLeft=parseFloat(parentElement.style.left),parentWidth=parseFloat(parentElement.style.width);return this.container.style.transformOrigin="-".concat(parentLeft+parentWidth,"px -").concat(parentElement.style.top),this.container.style.left="".concat(parentLeft+parentWidth,"px"),this.container.appendChild(popup.render()),this.container}}]),PopupAnnotationElement}(AnnotationElement),PopupElement=function(){function PopupElement(parameters){_classCallCheck(this,PopupElement),this.container=parameters.container,this.trigger=parameters.trigger,this.color=parameters.color,this.title=parameters.title,this.modificationDate=parameters.modificationDate,this.contents=parameters.contents,this.hideWrapper=parameters.hideWrapper||!1,this.pinned=!1}return _createClass(PopupElement,[{key:"render",value:function(){var wrapper=document.createElement("div");wrapper.className="popupWrapper",this.hideElement=this.hideWrapper?wrapper:this.container,this.hideElement.setAttribute("hidden",!0);var popup=document.createElement("div");popup.className="popup";var color=this.color;color&&(popup.style.backgroundColor=_util.Util.makeCssRgb(0|.7*(255-color[0])+color[0],0|.7*(255-color[1])+color[1],0|.7*(255-color[2])+color[2]));var title=document.createElement("h1");title.textContent=this.title,popup.appendChild(title);var dateObject=_display_utils.PDFDateString.toDateObject(this.modificationDate);if(dateObject){var modificationDate=document.createElement("span");modificationDate.textContent="{{date}}, {{time}}",modificationDate.dataset.l10nId="annotation_date_string",modificationDate.dataset.l10nArgs=JSON.stringify({date:dateObject.toLocaleDateString(),time:dateObject.toLocaleTimeString()}),popup.appendChild(modificationDate)}var contents=this._formatContents(this.contents);return popup.appendChild(contents),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),popup.addEventListener("click",this._hide.bind(this,!0)),wrapper.appendChild(popup),wrapper}},{key:"_formatContents",value:function(contents){for(var p=document.createElement("p"),lines=contents.split(/(?:\r\n?|\n)/),i=0,ii=lines.length;i<ii;++i)p.appendChild(document.createTextNode(lines[i])),i<ii-1&&p.appendChild(document.createElement("br"));return p}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var pin=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pin&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var unpin=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];unpin&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),PopupElement}(),FreeTextAnnotationElement=function(_AnnotationElement5){function FreeTextAnnotationElement(parameters){_classCallCheck(this,FreeTextAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(FreeTextAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(FreeTextAnnotationElement,_AnnotationElement5),_createClass(FreeTextAnnotationElement,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),FreeTextAnnotationElement}(AnnotationElement),LineAnnotationElement=function(_AnnotationElement6){function LineAnnotationElement(parameters){_classCallCheck(this,LineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(LineAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(LineAnnotationElement,_AnnotationElement6),_createClass(LineAnnotationElement,[{key:"render",value:function(){this.container.className="lineAnnotation";var data=this.data,svg=this.svgFactory.create(data.rect[2]-data.rect[0],data.rect[3]-data.rect[1]),line=this.svgFactory.createElement("svg:line");return line.setAttribute("x1",data.rect[2]-data.lineCoordinates[0]),line.setAttribute("y1",data.rect[3]-data.lineCoordinates[1]),line.setAttribute("x2",data.rect[2]-data.lineCoordinates[2]),line.setAttribute("y2",data.rect[3]-data.lineCoordinates[3]),line.setAttribute("stroke-width",data.borderStyle.width),line.setAttribute("stroke","transparent"),svg.appendChild(line),this.container.append(svg),this._createPopup(this.container,line,data),this.container}}]),LineAnnotationElement}(AnnotationElement),SquareAnnotationElement=function(_AnnotationElement7){function SquareAnnotationElement(parameters){_classCallCheck(this,SquareAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(SquareAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(SquareAnnotationElement,_AnnotationElement7),_createClass(SquareAnnotationElement,[{key:"render",value:function(){this.container.className="squareAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,square=this.svgFactory.createElement("svg:rect");return square.setAttribute("x",borderWidth/2),square.setAttribute("y",borderWidth/2),square.setAttribute("width",width-borderWidth),square.setAttribute("height",height-borderWidth),square.setAttribute("stroke-width",borderWidth),square.setAttribute("stroke","transparent"),square.setAttribute("fill","none"),svg.appendChild(square),this.container.append(svg),this._createPopup(this.container,square,data),this.container}}]),SquareAnnotationElement}(AnnotationElement),CircleAnnotationElement=function(_AnnotationElement8){function CircleAnnotationElement(parameters){_classCallCheck(this,CircleAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(CircleAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(CircleAnnotationElement,_AnnotationElement8),_createClass(CircleAnnotationElement,[{key:"render",value:function(){this.container.className="circleAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,circle=this.svgFactory.createElement("svg:ellipse");return circle.setAttribute("cx",width/2),circle.setAttribute("cy",height/2),circle.setAttribute("rx",width/2-borderWidth/2),circle.setAttribute("ry",height/2-borderWidth/2),circle.setAttribute("stroke-width",borderWidth),circle.setAttribute("stroke","transparent"),circle.setAttribute("fill","none"),svg.appendChild(circle),this.container.append(svg),this._createPopup(this.container,circle,data),this.container}}]),CircleAnnotationElement}(AnnotationElement),PolylineAnnotationElement=function(_AnnotationElement9){function PolylineAnnotationElement(parameters){var _this3;_classCallCheck(this,PolylineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return(_this3=_possibleConstructorReturn(this,_getPrototypeOf(PolylineAnnotationElement).call(this,parameters,isRenderable,!0))).containerClassName="polylineAnnotation",_this3.svgElementName="svg:polyline",_this3}return _inherits(PolylineAnnotationElement,_AnnotationElement9),_createClass(PolylineAnnotationElement,[{key:"render",value:function(){this.container.className=this.containerClassName;var data=this.data,svg=this.svgFactory.create(data.rect[2]-data.rect[0],data.rect[3]-data.rect[1]),points=[],_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=data.vertices[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var coordinate=_step2.value;points.push(coordinate.x-data.rect[0]+","+(data.rect[3]-coordinate.y))}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}points=points.join(" ");var polyline=this.svgFactory.createElement(this.svgElementName);return polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",data.borderStyle.width),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","none"),svg.appendChild(polyline),this.container.append(svg),this._createPopup(this.container,polyline,data),this.container}}]),PolylineAnnotationElement}(AnnotationElement),PolygonAnnotationElement=function(_PolylineAnnotationEl){function PolygonAnnotationElement(parameters){var _this4;return _classCallCheck(this,PolygonAnnotationElement),(_this4=_possibleConstructorReturn(this,_getPrototypeOf(PolygonAnnotationElement).call(this,parameters))).containerClassName="polygonAnnotation",_this4.svgElementName="svg:polygon",_this4}return _inherits(PolygonAnnotationElement,_PolylineAnnotationEl),PolygonAnnotationElement}(PolylineAnnotationElement),CaretAnnotationElement=function(_AnnotationElement10){function CaretAnnotationElement(parameters){_classCallCheck(this,CaretAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(CaretAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(CaretAnnotationElement,_AnnotationElement10),_createClass(CaretAnnotationElement,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),CaretAnnotationElement}(AnnotationElement),InkAnnotationElement=function(_AnnotationElement11){function InkAnnotationElement(parameters){var _this5;_classCallCheck(this,InkAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return(_this5=_possibleConstructorReturn(this,_getPrototypeOf(InkAnnotationElement).call(this,parameters,isRenderable,!0))).containerClassName="inkAnnotation",_this5.svgElementName="svg:polyline",_this5}return _inherits(InkAnnotationElement,_AnnotationElement11),_createClass(InkAnnotationElement,[{key:"render",value:function(){this.container.className=this.containerClassName;var data=this.data,svg=this.svgFactory.create(data.rect[2]-data.rect[0],data.rect[3]-data.rect[1]),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=data.inkLists[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var inkList=_step3.value,points=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=inkList[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var coordinate=_step4.value,y=data.rect[3]-coordinate.y;points.push("".concat(coordinate.x-data.rect[0],",").concat(y))}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}points=points.join(" ");var polyline=this.svgFactory.createElement(this.svgElementName);polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",data.borderStyle.width),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","none"),this._createPopup(this.container,polyline,data),svg.appendChild(polyline)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return this.container.append(svg),this.container}}]),InkAnnotationElement}(AnnotationElement),HighlightAnnotationElement=function(_AnnotationElement12){function HighlightAnnotationElement(parameters){_classCallCheck(this,HighlightAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(HighlightAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(HighlightAnnotationElement,_AnnotationElement12),_createClass(HighlightAnnotationElement,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),HighlightAnnotationElement}(AnnotationElement),UnderlineAnnotationElement=function(_AnnotationElement13){function UnderlineAnnotationElement(parameters){_classCallCheck(this,UnderlineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(UnderlineAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(UnderlineAnnotationElement,_AnnotationElement13),_createClass(UnderlineAnnotationElement,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),UnderlineAnnotationElement}(AnnotationElement),SquigglyAnnotationElement=function(_AnnotationElement14){function SquigglyAnnotationElement(parameters){_classCallCheck(this,SquigglyAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(SquigglyAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(SquigglyAnnotationElement,_AnnotationElement14),_createClass(SquigglyAnnotationElement,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),SquigglyAnnotationElement}(AnnotationElement),StrikeOutAnnotationElement=function(_AnnotationElement15){function StrikeOutAnnotationElement(parameters){_classCallCheck(this,StrikeOutAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(StrikeOutAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(StrikeOutAnnotationElement,_AnnotationElement15),_createClass(StrikeOutAnnotationElement,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),StrikeOutAnnotationElement}(AnnotationElement),StampAnnotationElement=function(_AnnotationElement16){function StampAnnotationElement(parameters){_classCallCheck(this,StampAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(StampAnnotationElement).call(this,parameters,isRenderable,!0))}return _inherits(StampAnnotationElement,_AnnotationElement16),_createClass(StampAnnotationElement,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),StampAnnotationElement}(AnnotationElement),FileAttachmentAnnotationElement=function(_AnnotationElement17){function FileAttachmentAnnotationElement(parameters){var _this6;_classCallCheck(this,FileAttachmentAnnotationElement);var _this6$data$file=(_this6=_possibleConstructorReturn(this,_getPrototypeOf(FileAttachmentAnnotationElement).call(this,parameters,!0))).data.file,filename=_this6$data$file.filename,content=_this6$data$file.content;return _this6.filename=(0,_display_utils.getFilenameFromUrl)(filename),_this6.content=content,_this6.linkService.eventBus&&_this6.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(_this6),id:(0,_util.stringToPDFString)(filename),filename:filename,content:content}),_this6}return _inherits(FileAttachmentAnnotationElement,_AnnotationElement17),_createClass(FileAttachmentAnnotationElement,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var trigger=document.createElement("div");return trigger.style.height=this.container.style.height,trigger.style.width=this.container.style.width,trigger.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,trigger,this.data),this.container.appendChild(trigger),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,_util.warn)("Download cannot be started due to unavailable download manager")}}]),FileAttachmentAnnotationElement}(AnnotationElement);exports.AnnotationLayer=function(){function AnnotationLayer(){_classCallCheck(this,AnnotationLayer)}return _createClass(AnnotationLayer,null,[{key:"render",value:function(parameters){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=parameters.annotations[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var data=_step5.value;if(data){var element=AnnotationElementFactory.create({data:data,layer:parameters.div,page:parameters.page,viewport:parameters.viewport,linkService:parameters.linkService,downloadManager:parameters.downloadManager,imageResourcesPath:parameters.imageResourcesPath||"",renderInteractiveForms:parameters.renderInteractiveForms||!1,svgFactory:new _display_utils.DOMSVGFactory});element.isRenderable&&parameters.div.appendChild(element.render())}}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}},{key:"update",value:function(parameters){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=parameters.annotations[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var element=parameters.div.querySelector('[data-annotation-id="'.concat(_step6.value.id,'"]'));element&&(element.style.transform="matrix(".concat(parameters.viewport.transform.join(","),")"))}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}parameters.div.removeAttribute("hidden")}}]),AnnotationLayer}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGGraphics=void 0;var obj,_util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(183),_is_node=(obj=__w_pdfjs_require__(4))&&obj.__esModule?obj:{default:obj};function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var SVGGraphics=function(){throw new Error("Not implemented: SVGGraphics")};exports.SVGGraphics=SVGGraphics;var pf=function(value){if(Number.isInteger(value))return value.toString();var s=value.toFixed(10),i=s.length-1;if("0"!==s[i])return s;do{i--}while("0"===s[i]);return s.substring(0,"."===s[i]?i:i+1)},pm=function(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":"scale(".concat(pf(m[0])," ").concat(pf(m[3]),")");if(m[0]===m[3]&&m[1]===-m[2]){var a=180*Math.acos(m[0])/Math.PI;return"rotate(".concat(pf(a),")")}}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return"translate(".concat(pf(m[4])," ").concat(pf(m[5]),")");return"matrix(".concat(pf(m[0])," ").concat(pf(m[1])," ").concat(pf(m[2])," ").concat(pf(m[3])," ").concat(pf(m[4])," ")+"".concat(pf(m[5]),")")},XLINK_NS="http://www.w3.org/1999/xlink",LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],convertImgDataToPng=function(){for(var PNG_HEADER=new Uint8Array([137,80,78,71,13,10,26,10]),crcTable=new Int32Array(256),i=0;i<256;i++){for(var c=i,h=0;h<8;h++)c=1&c?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function writePngChunk(type,body,data,offset){var p=offset,len=body.length;data[p]=len>>24&255,data[p+1]=len>>16&255,data[p+2]=len>>8&255,data[p+3]=255&len,data[p+=4]=255&type.charCodeAt(0),data[p+1]=255&type.charCodeAt(1),data[p+2]=255&type.charCodeAt(2),data[p+3]=255&type.charCodeAt(3),data.set(body,p+=4);var crc=function(data,start,end){for(var crc=-1,_i=start;_i<end;_i++)crc=crc>>>8^crcTable[255&(crc^data[_i])];return-1^crc}(data,offset+4,p+=body.length);data[p]=crc>>24&255,data[p+1]=crc>>16&255,data[p+2]=crc>>8&255,data[p+3]=255&crc}function deflateSyncUncompressed(literals){var len=literals.length,deflateBlocks=Math.ceil(len/65535),idat=new Uint8Array(2+len+5*deflateBlocks+4),pi=0;idat[pi++]=120,idat[pi++]=156;for(var pos=0;len>65535;)idat[pi++]=0,idat[pi++]=255,idat[pi++]=255,idat[pi++]=0,idat[pi++]=0,idat.set(literals.subarray(pos,pos+65535),pi),pi+=65535,pos+=65535,len-=65535;idat[pi++]=1,idat[pi++]=255&len,idat[pi++]=len>>8&255,idat[pi++]=255&~len,idat[pi++]=(65535&~len)>>8&255,idat.set(literals.subarray(pos),pi),pi+=literals.length-pos;var adler=function(data,start,end){for(var a=1,b=0,_i2=0;_i2<end;++_i2)b=(b+(a=(a+(255&data[_i2]))%65521))%65521;return b<<16|a}(literals,0,literals.length);return idat[pi++]=adler>>24&255,idat[pi++]=adler>>16&255,idat[pi++]=adler>>8&255,idat[pi++]=255&adler,idat}return function(imgData,forceDataSchema,isMask){return function(imgData,kind,forceDataSchema,isMask){var bitDepth,colorType,lineSize,width=imgData.width,height=imgData.height,bytes=imgData.data;switch(kind){case _util.ImageKind.GRAYSCALE_1BPP:colorType=0,bitDepth=1,lineSize=width+7>>3;break;case _util.ImageKind.RGB_24BPP:colorType=2,bitDepth=8,lineSize=3*width;break;case _util.ImageKind.RGBA_32BPP:colorType=6,bitDepth=8,lineSize=4*width;break;default:throw new Error("invalid format")}for(var literals=new Uint8Array((1+lineSize)*height),offsetLiterals=0,offsetBytes=0,y=0;y<height;++y)literals[offsetLiterals++]=0,literals.set(bytes.subarray(offsetBytes,offsetBytes+lineSize),offsetLiterals),offsetBytes+=lineSize,offsetLiterals+=lineSize;if(kind===_util.ImageKind.GRAYSCALE_1BPP&&isMask){offsetLiterals=0;for(var _y=0;_y<height;_y++){offsetLiterals++;for(var _i3=0;_i3<lineSize;_i3++)literals[offsetLiterals++]^=255}}var ihdr=new Uint8Array([width>>24&255,width>>16&255,width>>8&255,255&width,height>>24&255,height>>16&255,height>>8&255,255&height,bitDepth,colorType,0,0,0]),idat=function(literals){if(!(0,_is_node.default)())return deflateSyncUncompressed(literals);try{var input;input=parseInt(process.versions.node)>=8?literals:new Buffer(literals);var output=__webpack_require__(4).deflateSync(input,{level:9});return output instanceof Uint8Array?output:new Uint8Array(output)}catch(e){(0,_util.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return deflateSyncUncompressed(literals)}(literals),data=new Uint8Array(PNG_HEADER.length+36+ihdr.length+idat.length),offset=0;return data.set(PNG_HEADER,offset),writePngChunk("IHDR",ihdr,data,offset+=PNG_HEADER.length),writePngChunk("IDATA",idat,data,offset+=12+ihdr.length),offset+=12+idat.length,writePngChunk("IEND",new Uint8Array(0),data,offset),(0,_util.createObjectURL)(data,"image/png",forceDataSchema)}(imgData,void 0===imgData.kind?_util.ImageKind.GRAYSCALE_1BPP:imgData.kind,forceDataSchema,isMask)}}(),SVGExtraState=function(){function SVGExtraState(){_classCallCheck(this,SVGExtraState),this.fontSizeScale=1,this.fontWeight="normal",this.fontSize=0,this.textMatrix=_util.IDENTITY_MATRIX,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(SVGExtraState,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(x,y){this.x=x,this.y=y}}]),SVGExtraState}(),clipCount=0,maskCount=0,shadingCount=0;exports.SVGGraphics=SVGGraphics=function(){function SVGGraphics(commonObjs,objs,forceDataSchema){for(var op in _classCallCheck(this,SVGGraphics),this.svgFactory=new _display_utils.DOMSVGFactory,this.current=new SVGExtraState,this.transformMatrix=_util.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=commonObjs,this.objs=objs,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!forceDataSchema,this._operatorIdMapping=[],_util.OPS)this._operatorIdMapping[_util.OPS[op]]=op}return _createClass(SVGGraphics,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var old=this.current;this.extraStack.push(old),this.current=old.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(items){this.save(),this.executeOpTree(items),this.restore()}},{key:"loadDependencies",value:function(operatorList){for(var _this=this,fnArray=operatorList.fnArray,argsArray=operatorList.argsArray,i=0,ii=fnArray.length;i<ii;i++)if(fnArray[i]===_util.OPS.dependency){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_loop=function(){var obj=_step2.value,objsPool=obj.startsWith("g_")?_this.commonObjs:_this.objs,promise=new Promise((function(resolve){objsPool.get(obj,resolve)}));_this.current.dependencies.push(promise)},_iterator2=argsArray[i][Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)_loop()}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(a,b,c,d,e,f){this.transformMatrix=_util.Util.transform(this.transformMatrix,[a,b,c,d,e,f]),this.tgrp=null}},{key:"getSVG",value:function(operatorList,viewport){var _this2=this;this.viewport=viewport;var svgElement=this._initialize(viewport);return this.loadDependencies(operatorList).then((function(){return _this2.transformMatrix=_util.IDENTITY_MATRIX,_this2.executeOpTree(_this2.convertOpList(operatorList)),svgElement}))}},{key:"convertOpList",value:function(operatorList){for(var operatorIdMapping=this._operatorIdMapping,argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,opList=[],i=0,ii=fnArray.length;i<ii;i++){var fnId=fnArray[i];opList.push({fnId:fnId,fn:operatorIdMapping[fnId],args:argsArray[i]})}return function(opList){var opTree=[],tmp=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=opList[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var opListElement=_step.value;"save"!==opListElement.fn?"restore"===opListElement.fn?opTree=tmp.pop():opTree.push(opListElement):(opTree.push({fnId:92,fn:"group",items:[]}),tmp.push(opTree),opTree=opTree[opTree.length-1].items)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return opTree}(opList)}},{key:"executeOpTree",value:function(opTree){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=opTree[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var opTreeElement=_step3.value,fn=opTreeElement.fn,args=opTreeElement.args;switch(0|opTreeElement.fnId){case _util.OPS.beginText:this.beginText();break;case _util.OPS.dependency:break;case _util.OPS.setLeading:this.setLeading(args);break;case _util.OPS.setLeadingMoveText:this.setLeadingMoveText(args[0],args[1]);break;case _util.OPS.setFont:this.setFont(args);break;case _util.OPS.showText:case _util.OPS.showSpacedText:this.showText(args[0]);break;case _util.OPS.endText:this.endText();break;case _util.OPS.moveText:this.moveText(args[0],args[1]);break;case _util.OPS.setCharSpacing:this.setCharSpacing(args[0]);break;case _util.OPS.setWordSpacing:this.setWordSpacing(args[0]);break;case _util.OPS.setHScale:this.setHScale(args[0]);break;case _util.OPS.setTextMatrix:this.setTextMatrix(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.setTextRise:this.setTextRise(args[0]);break;case _util.OPS.setTextRenderingMode:this.setTextRenderingMode(args[0]);break;case _util.OPS.setLineWidth:this.setLineWidth(args[0]);break;case _util.OPS.setLineJoin:this.setLineJoin(args[0]);break;case _util.OPS.setLineCap:this.setLineCap(args[0]);break;case _util.OPS.setMiterLimit:this.setMiterLimit(args[0]);break;case _util.OPS.setFillRGBColor:this.setFillRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeRGBColor:this.setStrokeRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeColorN:this.setStrokeColorN(args);break;case _util.OPS.setFillColorN:this.setFillColorN(args);break;case _util.OPS.shadingFill:this.shadingFill(args[0]);break;case _util.OPS.setDash:this.setDash(args[0],args[1]);break;case _util.OPS.setRenderingIntent:this.setRenderingIntent(args[0]);break;case _util.OPS.setFlatness:this.setFlatness(args[0]);break;case _util.OPS.setGState:this.setGState(args[0]);break;case _util.OPS.fill:this.fill();break;case _util.OPS.eoFill:this.eoFill();break;case _util.OPS.stroke:this.stroke();break;case _util.OPS.fillStroke:this.fillStroke();break;case _util.OPS.eoFillStroke:this.eoFillStroke();break;case _util.OPS.clip:this.clip("nonzero");break;case _util.OPS.eoClip:this.clip("evenodd");break;case _util.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _util.OPS.paintJpegXObject:this.paintJpegXObject(args[0],args[1],args[2]);break;case _util.OPS.paintImageXObject:this.paintImageXObject(args[0]);break;case _util.OPS.paintInlineImageXObject:this.paintInlineImageXObject(args[0]);break;case _util.OPS.paintImageMaskXObject:this.paintImageMaskXObject(args[0]);break;case _util.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(args[0],args[1]);break;case _util.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _util.OPS.closePath:this.closePath();break;case _util.OPS.closeStroke:this.closeStroke();break;case _util.OPS.closeFillStroke:this.closeFillStroke();break;case _util.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _util.OPS.nextLine:this.nextLine();break;case _util.OPS.transform:this.transform(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.constructPath:this.constructPath(args[0],args[1]);break;case _util.OPS.endPath:this.endPath();break;case 92:this.group(opTreeElement.items);break;default:(0,_util.warn)("Unimplemented operator ".concat(fn))}}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"setWordSpacing",value:function(wordSpacing){this.current.wordSpacing=wordSpacing}},{key:"setCharSpacing",value:function(charSpacing){this.current.charSpacing=charSpacing}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(a,b,c,d,e,f){var current=this.current;current.textMatrix=current.lineMatrix=[a,b,c,d,e,f],current.textMatrixScale=Math.sqrt(a*a+b*b),current.x=current.lineX=0,current.y=current.lineY=0,current.xcoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size","".concat(pf(current.fontSize),"px")),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtElement.appendChild(current.tspan)}},{key:"beginText",value:function(){var current=this.current;current.x=current.lineX=0,current.y=current.lineY=0,current.textMatrix=_util.IDENTITY_MATRIX,current.lineMatrix=_util.IDENTITY_MATRIX,current.textMatrixScale=1,current.tspan=this.svgFactory.createElement("svg:tspan"),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtgrp=this.svgFactory.createElement("svg:g"),current.xcoords=[]}},{key:"moveText",value:function(x,y){var current=this.current;current.x=current.lineX+=x,current.y=current.lineY+=y,current.xcoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size","".concat(pf(current.fontSize),"px")),current.tspan.setAttributeNS(null,"y",pf(-current.y))}},{key:"showText",value:function(glyphs){var current=this.current,font=current.font,fontSize=current.fontSize;if(0!==fontSize){var charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,vertical=font.vertical,widthAdvanceScale=fontSize*current.fontMatrix[0],x=0,_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=glyphs[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var glyph=_step4.value;if(null!==glyph)if((0,_util.isNum)(glyph))x+=-glyph*fontSize*.001;else{var character=glyph.fontChar,charWidth=glyph.width*widthAdvanceScale+((glyph.isSpace?wordSpacing:0)+charSpacing)*fontDirection;glyph.isInFont||font.missingFile?(current.xcoords.push(current.x+x*textHScale),current.tspan.textContent+=character,x+=charWidth):x+=charWidth}else x+=fontDirection*wordSpacing}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}vertical?current.y-=x*textHScale:current.x+=x*textHScale,current.tspan.setAttributeNS(null,"x",current.xcoords.map(pf).join(" ")),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size","".concat(pf(current.fontSize),"px")),"normal"!==current.fontStyle&&current.tspan.setAttributeNS(null,"font-style",current.fontStyle),"normal"!==current.fontWeight&&current.tspan.setAttributeNS(null,"font-weight",current.fontWeight);var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE?("#000000"!==current.fillColor&&current.tspan.setAttributeNS(null,"fill",current.fillColor),current.fillAlpha<1&&current.tspan.setAttributeNS(null,"fill-opacity",current.fillAlpha)):current.tspan.setAttributeNS(null,"fill",current.textRenderingMode===_util.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(fillStrokeMode===_util.TextRenderingMode.STROKE||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(current.tspan,1/(current.textMatrixScale||1));var textMatrix=current.textMatrix;0!==current.textRise&&((textMatrix=textMatrix.slice())[5]+=current.textRise),current.txtElement.setAttributeNS(null,"transform","".concat(pm(textMatrix)," scale(1, -1)")),current.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),current.txtElement.appendChild(current.tspan),current.txtgrp.appendChild(current.txtElement),this._ensureTransformGroup().appendChild(current.txtElement)}}},{key:"setLeadingMoveText",value:function(x,y){this.setLeading(-y),this.moveText(x,y)}},{key:"addFontStyle",value:function(fontObj){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var url=(0,_util.createObjectURL)(fontObj.data,fontObj.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(fontObj.loadedName,'";')+" src: url(".concat(url,"); }\n")}},{key:"setFont",value:function(details){var current=this.current,fontObj=this.commonObjs.get(details[0]),size=details[1];current.font=fontObj,this.embedFonts&&fontObj.data&&!this.embeddedFonts[fontObj.loadedName]&&(this.addFontStyle(fontObj),this.embeddedFonts[fontObj.loadedName]=fontObj),current.fontMatrix=fontObj.fontMatrix?fontObj.fontMatrix:_util.FONT_IDENTITY_MATRIX;var bold=fontObj.black?fontObj.bold?"bolder":"bold":fontObj.bold?"bold":"normal",italic=fontObj.italic?"italic":"normal";size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,current.fontSize=size,current.fontFamily=fontObj.loadedName,current.fontWeight=bold,current.fontStyle=italic,current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.xcoords=[]}},{key:"endText",value:function(){var current=this.current;current.textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG&&current.txtElement&&current.txtElement.hasChildNodes()&&(current.element=current.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(width){width>0&&(this.current.lineWidth=width)}},{key:"setLineCap",value:function(style){this.current.lineCap=LINE_CAP_STYLES[style]}},{key:"setLineJoin",value:function(style){this.current.lineJoin=LINE_JOIN_STYLES[style]}},{key:"setMiterLimit",value:function(limit){this.current.miterLimit=limit}},{key:"setStrokeAlpha",value:function(strokeAlpha){this.current.strokeAlpha=strokeAlpha}},{key:"setStrokeRGBColor",value:function(r,g,b){this.current.strokeColor=_util.Util.makeCssRgb(r,g,b)}},{key:"setFillAlpha",value:function(fillAlpha){this.current.fillAlpha=fillAlpha}},{key:"setFillRGBColor",value:function(r,g,b){this.current.fillColor=_util.Util.makeCssRgb(r,g,b),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(args){this.current.strokeColor=this._makeColorN_Pattern(args)}},{key:"setFillColorN",value:function(args){this.current.fillColor=this._makeColorN_Pattern(args)}},{key:"shadingFill",value:function(args){var width=this.viewport.width,height=this.viewport.height,inv=_util.Util.inverseTransform(this.transformMatrix),bl=_util.Util.applyTransform([0,0],inv),br=_util.Util.applyTransform([0,height],inv),ul=_util.Util.applyTransform([width,0],inv),ur=_util.Util.applyTransform([width,height],inv),x0=Math.min(bl[0],br[0],ul[0],ur[0]),y0=Math.min(bl[1],br[1],ul[1],ur[1]),x1=Math.max(bl[0],br[0],ul[0],ur[0]),y1=Math.max(bl[1],br[1],ul[1],ur[1]),rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x",x0),rect.setAttributeNS(null,"y",y0),rect.setAttributeNS(null,"width",x1-x0),rect.setAttributeNS(null,"height",y1-y0),rect.setAttributeNS(null,"fill",this._makeShadingPattern(args)),this._ensureTransformGroup().appendChild(rect)}},{key:"_makeColorN_Pattern",value:function(args){return"TilingPattern"===args[0]?this._makeTilingPattern(args):this._makeShadingPattern(args)}},{key:"_makeTilingPattern",value:function(args){var color=args[1],operatorList=args[2],matrix=args[3]||_util.IDENTITY_MATRIX,_args$=_slicedToArray(args[4],4),x0=_args$[0],y0=_args$[1],x1=_args$[2],y1=_args$[3],xstep=args[5],ystep=args[6],paintType=args[7],tilingId="shading".concat(shadingCount++),_Util$applyTransform2=_slicedToArray(_util.Util.applyTransform([x0,y0],matrix),2),tx0=_Util$applyTransform2[0],ty0=_Util$applyTransform2[1],_Util$applyTransform4=_slicedToArray(_util.Util.applyTransform([x1,y1],matrix),2),tx1=_Util$applyTransform4[0],ty1=_Util$applyTransform4[1],_Util$singularValueDe2=_slicedToArray(_util.Util.singularValueDecompose2dScale(matrix),2),txstep=xstep*_Util$singularValueDe2[0],tystep=ystep*_Util$singularValueDe2[1],tiling=this.svgFactory.createElement("svg:pattern");tiling.setAttributeNS(null,"id",tilingId),tiling.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tiling.setAttributeNS(null,"width",txstep),tiling.setAttributeNS(null,"height",tystep),tiling.setAttributeNS(null,"x","".concat(tx0)),tiling.setAttributeNS(null,"y","".concat(ty0));var arr,svg=this.svg,transformMatrix=this.transformMatrix,fillColor=this.current.fillColor,strokeColor=this.current.strokeColor,bbox=this.svgFactory.create(tx1-tx0,ty1-ty0);if(this.svg=bbox,this.transformMatrix=matrix,2===paintType){var cssColor=_util.Util.makeCssRgb.apply(_util.Util,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr=color)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}());this.current.fillColor=cssColor,this.current.strokeColor=cssColor}return this.executeOpTree(this.convertOpList(operatorList)),this.svg=svg,this.transformMatrix=transformMatrix,this.current.fillColor=fillColor,this.current.strokeColor=strokeColor,tiling.appendChild(bbox.childNodes[0]),this.defs.appendChild(tiling),"url(#".concat(tilingId,")")}},{key:"_makeShadingPattern",value:function(args){switch(args[0]){case"RadialAxial":var gradient,shadingId="shading".concat(shadingCount++),colorStops=args[2];switch(args[1]){case"axial":var point0=args[3],point1=args[4];(gradient=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"x1",point0[0]),gradient.setAttributeNS(null,"y1",point0[1]),gradient.setAttributeNS(null,"x2",point1[0]),gradient.setAttributeNS(null,"y2",point1[1]);break;case"radial":var focalPoint=args[3],circlePoint=args[4],focalRadius=args[5],circleRadius=args[6];(gradient=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"cx",circlePoint[0]),gradient.setAttributeNS(null,"cy",circlePoint[1]),gradient.setAttributeNS(null,"r",circleRadius),gradient.setAttributeNS(null,"fx",focalPoint[0]),gradient.setAttributeNS(null,"fy",focalPoint[1]),gradient.setAttributeNS(null,"fr",focalRadius);break;default:throw new Error("Unknown RadialAxial type: ".concat(args[1]))}var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=colorStops[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var colorStop=_step5.value,stop=this.svgFactory.createElement("svg:stop");stop.setAttributeNS(null,"offset",colorStop[0]),stop.setAttributeNS(null,"stop-color",colorStop[1]),gradient.appendChild(stop)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}return this.defs.appendChild(gradient),"url(#".concat(shadingId,")");case"Mesh":return(0,_util.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(args[0]))}}},{key:"setDash",value:function(dashArray,dashPhase){this.current.dashArray=dashArray,this.current.dashPhase=dashPhase}},{key:"constructPath",value:function(ops,args){var current=this.current,x=current.x,y=current.y,d=[],j=0,_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=ops[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0)switch(0|_step6.value){case _util.OPS.rectangle:x=args[j++],y=args[j++];var xw=x+args[j++],yh=y+args[j++];d.push("M",pf(x),pf(y),"L",pf(xw),pf(y),"L",pf(xw),pf(yh),"L",pf(x),pf(yh),"Z");break;case _util.OPS.moveTo:x=args[j++],y=args[j++],d.push("M",pf(x),pf(y));break;case _util.OPS.lineTo:x=args[j++],y=args[j++],d.push("L",pf(x),pf(y));break;case _util.OPS.curveTo:x=args[j+4],y=args[j+5],d.push("C",pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3]),pf(x),pf(y)),j+=6;break;case _util.OPS.curveTo2:y=args[j+3],d.push("C",pf(x=args[j+2]),pf(y),pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3])),j+=4;break;case _util.OPS.curveTo3:x=args[j+2],y=args[j+3],d.push("C",pf(args[j]),pf(args[j+1]),pf(x),pf(y),pf(x),pf(y)),j+=4;break;case _util.OPS.closePath:d.push("Z")}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}d=d.join(" "),current.path&&ops.length>0&&ops[0]!==_util.OPS.rectangle&&ops[0]!==_util.OPS.moveTo?d=current.path.getAttributeNS(null,"d")+d:(current.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(current.path)),current.path.setAttributeNS(null,"d",d),current.path.setAttributeNS(null,"fill","none"),current.element=current.path,current.setCurrentPoint(x,y)}},{key:"endPath",value:function(){var current=this.current;if(current.path=null,this.pendingClip)if(current.element){var clipId="clippath".concat(clipCount++),clipPath=this.svgFactory.createElement("svg:clipPath");clipPath.setAttributeNS(null,"id",clipId),clipPath.setAttributeNS(null,"transform",pm(this.transformMatrix));var clipElement=current.element.cloneNode(!0);clipElement.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,clipPath.appendChild(clipElement),this.defs.appendChild(clipPath),current.activeClipUrl&&(current.clipGroup=null,this.extraStack.forEach((function(prev){prev.clipGroup=null})),clipPath.setAttributeNS(null,"clip-path",current.activeClipUrl)),current.activeClipUrl="url(#".concat(clipId,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(type){this.pendingClip=type}},{key:"closePath",value:function(){var current=this.current;if(current.path){var d="".concat(current.path.getAttributeNS(null,"d"),"Z");current.path.setAttributeNS(null,"d",d)}}},{key:"setLeading",value:function(leading){this.current.leading=-leading}},{key:"setTextRise",value:function(textRise){this.current.textRise=textRise}},{key:"setTextRenderingMode",value:function(textRenderingMode){this.current.textRenderingMode=textRenderingMode}},{key:"setHScale",value:function(scale){this.current.textHScale=scale/100}},{key:"setRenderingIntent",value:function(intent){}},{key:"setFlatness",value:function(flatness){}},{key:"setGState",value:function(states){var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=states[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var _step7$value=_slicedToArray(_step7.value,2),key=_step7$value[0],value=_step7$value[1];switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value);break;case"CA":this.setStrokeAlpha(value);break;case"ca":this.setFillAlpha(value);break;default:(0,_util.warn)("Unimplemented graphic state operator ".concat(key))}}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{_iteratorNormalCompletion7||null==_iterator7.return||_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}},{key:"fill",value:function(){var current=this.current;current.element&&(current.element.setAttributeNS(null,"fill",current.fillColor),current.element.setAttributeNS(null,"fill-opacity",current.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var current=this.current;current.element&&(this._setStrokeAttributes(current.element),current.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(element){var lineWidthScale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,current=this.current,dashArray=current.dashArray;1!==lineWidthScale&&dashArray.length>0&&(dashArray=dashArray.map((function(value){return lineWidthScale*value}))),element.setAttributeNS(null,"stroke",current.strokeColor),element.setAttributeNS(null,"stroke-opacity",current.strokeAlpha),element.setAttributeNS(null,"stroke-miterlimit",pf(current.miterLimit)),element.setAttributeNS(null,"stroke-linecap",current.lineCap),element.setAttributeNS(null,"stroke-linejoin",current.lineJoin),element.setAttributeNS(null,"stroke-width",pf(lineWidthScale*current.lineWidth)+"px"),element.setAttributeNS(null,"stroke-dasharray",dashArray.map(pf).join(" ")),element.setAttributeNS(null,"stroke-dashoffset",pf(lineWidthScale*current.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width","1px"),rect.setAttributeNS(null,"height","1px"),rect.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(rect)}},{key:"paintJpegXObject",value:function(objId,w,h){var imgObj=this.objs.get(objId),imgEl=this.svgFactory.createElement("svg:image");imgEl.setAttributeNS(XLINK_NS,"xlink:href",imgObj.src),imgEl.setAttributeNS(null,"width",pf(w)),imgEl.setAttributeNS(null,"height",pf(h)),imgEl.setAttributeNS(null,"x","0"),imgEl.setAttributeNS(null,"y",pf(-h)),imgEl.setAttributeNS(null,"transform","scale(".concat(pf(1/w)," ").concat(pf(-1/h),")")),this._ensureTransformGroup().appendChild(imgEl)}},{key:"paintImageXObject",value:function(objId){var imgData=this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util.warn)("Dependent image with object ID ".concat(objId," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(imgData,mask){var width=imgData.width,height=imgData.height,imgSrc=convertImgDataToPng(imgData,this.forceDataSchema,!!mask),cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x","0"),cliprect.setAttributeNS(null,"y","0"),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero");var imgEl=this.svgFactory.createElement("svg:image");imgEl.setAttributeNS(XLINK_NS,"xlink:href",imgSrc),imgEl.setAttributeNS(null,"x","0"),imgEl.setAttributeNS(null,"y",pf(-height)),imgEl.setAttributeNS(null,"width",pf(width)+"px"),imgEl.setAttributeNS(null,"height",pf(height)+"px"),imgEl.setAttributeNS(null,"transform","scale(".concat(pf(1/width)," ").concat(pf(-1/height),")")),mask?mask.appendChild(imgEl):this._ensureTransformGroup().appendChild(imgEl)}},{key:"paintImageMaskXObject",value:function(imgData){var current=this.current,width=imgData.width,height=imgData.height,fillColor=current.fillColor;current.maskId="mask".concat(maskCount++);var mask=this.svgFactory.createElement("svg:mask");mask.setAttributeNS(null,"id",current.maskId);var rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width",pf(width)),rect.setAttributeNS(null,"height",pf(height)),rect.setAttributeNS(null,"fill",fillColor),rect.setAttributeNS(null,"mask","url(#".concat(current.maskId,")")),this.defs.appendChild(mask),this._ensureTransformGroup().appendChild(rect),this.paintInlineImageXObject(imgData,mask)}},{key:"paintFormXObjectBegin",value:function(matrix,bbox){if(Array.isArray(matrix)&&6===matrix.length&&this.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),bbox){var width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x",bbox[0]),cliprect.setAttributeNS(null,"y",bbox[1]),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(viewport){var svg=this.svgFactory.create(viewport.width,viewport.height),definitions=this.svgFactory.createElement("svg:defs");svg.appendChild(definitions),this.defs=definitions;var rootGroup=this.svgFactory.createElement("svg:g");return rootGroup.setAttributeNS(null,"transform",pm(viewport.transform)),svg.appendChild(rootGroup),this.svg=rootGroup,svg}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var clipGroup=this.svgFactory.createElement("svg:g");clipGroup.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(clipGroup),this.current.clipGroup=clipGroup}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pm(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),SVGGraphics}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNodeStream=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(198);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(subClass,superClass)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var fs=__webpack_require__(5),http=__webpack_require__(6),https=__webpack_require__(7),url=__webpack_require__("CxY0"),fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;exports.PDFNodeStream=function(){function PDFNodeStream(source){var sourceUrl,parsedUrl;_classCallCheck(this,PDFNodeStream),this.source=source,this.url="file:"===(parsedUrl=url.parse(sourceUrl=source.url)).protocol||parsedUrl.host?parsedUrl:/^[a-z]:[/\\]/i.test(sourceUrl)?url.parse("file:///".concat(sourceUrl)):(parsedUrl.host||(parsedUrl.protocol="file:"),parsedUrl),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFNodeStream,[{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}},{key:"getRangeReader",value:function(start,end){if(end<=this._progressiveDataLength)return null;var rangeReader=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,start,end):new PDFNodeStreamRangeReader(this,start,end);return this._rangeRequestReaders.push(rangeReader),rangeReader}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach((function(reader){reader.cancel(reason)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),PDFNodeStream}();var BaseFullReader=function(){function BaseFullReader(stream){_classCallCheck(this,BaseFullReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null;var source=stream.source;this._contentLength=source.length,this._loaded=0,this._filename=null,this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)(),this._headersCapability=(0,_util.createPromiseCapability)()}var _read;return _createClass(BaseFullReader,[{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark((function _callee(){var chunk,buffer;return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._readCapability.promise;case 2:if(!this._done){_context.next=4;break}return _context.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){_context.next=6;break}throw this._storedError;case 6:if(null!==(chunk=this._readableStream.read())){_context.next=10;break}return this._readCapability=(0,_util.createPromiseCapability)(),_context.abrupt("return",this.read());case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),buffer=new Uint8Array(chunk).buffer,_context.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context.stop()}}),_callee,this)}))),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(readableStream){var _this=this;this._readableStream=readableStream,readableStream.on("readable",(function(){_this._readCapability.resolve()})),readableStream.on("end",(function(){readableStream.destroy(),_this._done=!0,_this._readCapability.resolve()})),readableStream.on("error",(function(reason){_this._error(reason)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _util.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),BaseFullReader}(),BaseRangeReader=function(){function BaseRangeReader(stream){_classCallCheck(this,BaseRangeReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)(),this._isStreamingSupported=!stream.source.disableStream}var _read2;return _createClass(BaseRangeReader,[{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark((function _callee2(){var chunk,buffer;return _regenerator.default.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._readCapability.promise;case 2:if(!this._done){_context2.next=4;break}return _context2.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){_context2.next=6;break}throw this._storedError;case 6:if(null!==(chunk=this._readableStream.read())){_context2.next=10;break}return this._readCapability=(0,_util.createPromiseCapability)(),_context2.abrupt("return",this.read());case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded}),buffer=new Uint8Array(chunk).buffer,_context2.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context2.stop()}}),_callee2,this)}))),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(readableStream){var _this2=this;this._readableStream=readableStream,readableStream.on("readable",(function(){_this2._readCapability.resolve()})),readableStream.on("end",(function(){readableStream.destroy(),_this2._done=!0,_this2._readCapability.resolve()})),readableStream.on("error",(function(reason){_this2._error(reason)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),BaseRangeReader}();function createRequestOptions(url,headers){return{protocol:url.protocol,auth:url.auth,host:url.hostname,port:url.port,path:url.path,method:"GET",headers:headers}}var PDFNodeStreamFullReader=function(_BaseFullReader){function PDFNodeStreamFullReader(stream){var _this3;_classCallCheck(this,PDFNodeStreamFullReader);var handleResponse=function(response){if(404===response.statusCode){var error=new _util.MissingPDFException('Missing PDF "'.concat(_this3._url,'".'));return _this3._storedError=error,void _this3._headersCapability.reject(error)}_this3._headersCapability.resolve(),_this3._setReadableStream(response);var getResponseHeader=function(name){return _this3._readableStream.headers[name.toLowerCase()]},_validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:stream.isHttp,rangeChunkSize:_this3._rangeChunkSize,disableRange:_this3._disableRange}),suggestedLength=_validateRangeRequest.suggestedLength;_this3._isRangeSupported=_validateRangeRequest.allowRangeRequests,_this3._contentLength=suggestedLength||_this3._contentLength,_this3._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader)};return(_this3=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamFullReader).call(this,stream)))._request=null,_this3._request="http:"===_this3._url.protocol?http.request(createRequestOptions(_this3._url,stream.httpHeaders),handleResponse):https.request(createRequestOptions(_this3._url,stream.httpHeaders),handleResponse),_this3._request.on("error",(function(reason){_this3._storedError=reason,_this3._headersCapability.reject(reason)})),_this3._request.end(),_this3}return _inherits(PDFNodeStreamFullReader,_BaseFullReader),PDFNodeStreamFullReader}(BaseFullReader),PDFNodeStreamRangeReader=function(_BaseRangeReader){function PDFNodeStreamRangeReader(stream,start,end){var _this4;for(var property in _classCallCheck(this,PDFNodeStreamRangeReader),(_this4=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamRangeReader).call(this,stream)))._httpHeaders={},stream.httpHeaders){var value=stream.httpHeaders[property];void 0!==value&&(_this4._httpHeaders[property]=value)}_this4._httpHeaders.Range="bytes=".concat(start,"-").concat(end-1);var handleResponse=function(response){if(404!==response.statusCode)_this4._setReadableStream(response);else{var error=new _util.MissingPDFException('Missing PDF "'.concat(_this4._url,'".'));_this4._storedError=error}};return _this4._request=null,_this4._request="http:"===_this4._url.protocol?http.request(createRequestOptions(_this4._url,_this4._httpHeaders),handleResponse):https.request(createRequestOptions(_this4._url,_this4._httpHeaders),handleResponse),_this4._request.on("error",(function(reason){_this4._storedError=reason})),_this4._request.end(),_this4}return _inherits(PDFNodeStreamRangeReader,_BaseRangeReader),PDFNodeStreamRangeReader}(BaseRangeReader),PDFNodeStreamFsFullReader=function(_BaseFullReader2){function PDFNodeStreamFsFullReader(stream){var _this5;_classCallCheck(this,PDFNodeStreamFsFullReader),_this5=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamFsFullReader).call(this,stream));var path=decodeURIComponent(_this5._url.path);return fileUriRegex.test(_this5._url.href)&&(path=path.replace(/^\//,"")),fs.lstat(path,(function(error,stat){if(error)return"ENOENT"===error.code&&(error=new _util.MissingPDFException('Missing PDF "'.concat(path,'".'))),_this5._storedError=error,void _this5._headersCapability.reject(error);_this5._contentLength=stat.size,_this5._setReadableStream(fs.createReadStream(path)),_this5._headersCapability.resolve()})),_this5}return _inherits(PDFNodeStreamFsFullReader,_BaseFullReader2),PDFNodeStreamFsFullReader}(BaseFullReader),PDFNodeStreamFsRangeReader=function(_BaseRangeReader2){function PDFNodeStreamFsRangeReader(stream,start,end){var _this6;_classCallCheck(this,PDFNodeStreamFsRangeReader),_this6=_possibleConstructorReturn(this,_getPrototypeOf(PDFNodeStreamFsRangeReader).call(this,stream));var path=decodeURIComponent(_this6._url.path);return fileUriRegex.test(_this6._url.href)&&(path=path.replace(/^\//,"")),_this6._setReadableStream(fs.createReadStream(path,{start:start,end:end-1})),_this6}return _inherits(PDFNodeStreamFsRangeReader,_BaseRangeReader2),PDFNodeStreamFsRangeReader}(BaseRangeReader)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createResponseStatusError=function(status,url){return 404===status||0===status&&/^file:/.test(url)?new _util.MissingPDFException('Missing PDF "'+url+'".'):new _util.UnexpectedResponseException("Unexpected server response ("+status+') while retrieving PDF "'+url+'".',status)},exports.extractFilenameFromHeader=function(getResponseHeader){var contentDisposition=getResponseHeader("Content-Disposition");if(contentDisposition){var filename=(0,_content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);if(filename.includes("%"))try{filename=decodeURIComponent(filename)}catch(ex){}if(/\.pdf$/i.test(filename))return filename}return null},exports.validateRangeRequestCapabilities=function(_ref){var getResponseHeader=_ref.getResponseHeader,isHttp=_ref.isHttp,rangeChunkSize=_ref.rangeChunkSize,disableRange=_ref.disableRange;(0,_util.assert)(rangeChunkSize>0,"Range chunk size must be larger than zero");var returnValues={allowRangeRequests:!1,suggestedLength:void 0},length=parseInt(getResponseHeader("Content-Length"),10);return Number.isInteger(length)?(returnValues.suggestedLength=length,length<=2*rangeChunkSize?returnValues:disableRange||!isHttp?returnValues:"bytes"!==getResponseHeader("Accept-Ranges")?returnValues:"identity"!==(getResponseHeader("Content-Encoding")||"identity")?returnValues:(returnValues.allowRangeRequests=!0,returnValues)):returnValues},exports.validateResponseStatus=function(status){return 200===status||206===status};var _util=__w_pdfjs_require__(1),_content_disposition=__w_pdfjs_require__(199)},function(module,exports,__w_pdfjs_require__){"use strict";function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFilenameFromContentDispositionHeader=function(contentDisposition){var needsEncodingFixup=!0,tmp=toParamRegExp("filename\\*","i").exec(contentDisposition);if(tmp){var filename=rfc2616unquote(tmp=tmp[1]);return fixupEncoding(filename=rfc2047decode(filename=rfc5987decode(filename=unescape(filename))))}if(tmp=function(contentDisposition){for(var match,matches=[],iter=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(match=iter.exec(contentDisposition));){var _match2=_slicedToArray(match,4),n=_match2[1],quot=_match2[2],part=_match2[3];if((n=parseInt(n,10))in matches){if(0===n)break}else matches[n]=[quot,part]}var parts=[];for(n=0;n<matches.length&&n in matches;++n){var _matches$n=_slicedToArray(matches[n],2);quot=_matches$n[0],part=rfc2616unquote(part=_matches$n[1]),quot&&(part=unescape(part),0===n&&(part=rfc5987decode(part))),parts.push(part)}return parts.join("")}(contentDisposition))return fixupEncoding(rfc2047decode(tmp));if(tmp=toParamRegExp("filename","i").exec(contentDisposition)){var _filename2=rfc2616unquote(tmp=tmp[1]);return fixupEncoding(_filename2=rfc2047decode(_filename2))}function toParamRegExp(attributePattern,flags){return new RegExp("(?:^|;)\\s*"+attributePattern+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',flags)}function textdecode(encoding,value){if(encoding){if(!/^[\x00-\xFF]+$/.test(value))return value;try{var decoder=new TextDecoder(encoding,{fatal:!0}),bytes=Array.from(value,(function(ch){return 255&ch.charCodeAt(0)}));value=decoder.decode(new Uint8Array(bytes)),needsEncodingFixup=!1}catch(e){if(/^utf-?8$/i.test(encoding))try{value=decodeURIComponent(escape(value)),needsEncodingFixup=!1}catch(err){}}}return value}function fixupEncoding(value){return needsEncodingFixup&&/[\x80-\xff]/.test(value)&&(value=textdecode("utf-8",value),needsEncodingFixup&&(value=textdecode("iso-8859-1",value))),value}function rfc2616unquote(value){if(value.startsWith('"')){for(var parts=value.slice(1).split('\\"'),i=0;i<parts.length;++i){var quotindex=parts[i].indexOf('"');-1!==quotindex&&(parts[i]=parts[i].slice(0,quotindex),parts.length=i+1),parts[i]=parts[i].replace(/\\(.)/g,"$1")}value=parts.join('"')}return value}function rfc5987decode(extvalue){var encodingend=extvalue.indexOf("'");return-1===encodingend?extvalue:textdecode(extvalue.slice(0,encodingend),extvalue.slice(encodingend+1).replace(/^[^']*'/,""))}function rfc2047decode(value){return!value.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(value)?value:value.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(_,charset,encoding,text){if("q"===encoding||"Q"===encoding)return textdecode(charset,text=(text=text.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(_,hex){return String.fromCharCode(parseInt(hex,16))})));try{text=atob(text)}catch(e){}return textdecode(charset,text)}))}return""}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNetworkStream=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(198);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var NetworkManager=function(){function NetworkManager(url,args){_classCallCheck(this,NetworkManager),this.url=url,args=args||{},this.isHttp=/^https?:/i.test(url),this.httpHeaders=this.isHttp&&args.httpHeaders||{},this.withCredentials=args.withCredentials||!1,this.getXhr=args.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(NetworkManager,[{key:"requestRange",value:function(begin,end,listeners){var args={begin:begin,end:end};for(var prop in listeners)args[prop]=listeners[prop];return this.request(args)}},{key:"requestFull",value:function(listeners){return this.request(listeners)}},{key:"request",value:function(args){var xhr=this.getXhr(),xhrId=this.currXhrId++,pendingRequest=this.pendingRequests[xhrId]={xhr:xhr};for(var property in xhr.open("GET",this.url),xhr.withCredentials=this.withCredentials,this.httpHeaders){var value=this.httpHeaders[property];void 0!==value&&xhr.setRequestHeader(property,value)}return this.isHttp&&"begin"in args&&"end"in args?(xhr.setRequestHeader("Range","bytes=".concat(args.begin,"-").concat(args.end-1)),pendingRequest.expectedStatus=206):pendingRequest.expectedStatus=200,xhr.responseType="arraybuffer",args.onError&&(xhr.onerror=function(evt){args.onError(xhr.status)}),xhr.onreadystatechange=this.onStateChange.bind(this,xhrId),xhr.onprogress=this.onProgress.bind(this,xhrId),pendingRequest.onHeadersReceived=args.onHeadersReceived,pendingRequest.onDone=args.onDone,pendingRequest.onError=args.onError,pendingRequest.onProgress=args.onProgress,xhr.send(null),xhrId}},{key:"onProgress",value:function(xhrId,evt){var pendingRequest=this.pendingRequests[xhrId];pendingRequest&&pendingRequest.onProgress&&pendingRequest.onProgress(evt)}},{key:"onStateChange",value:function(xhrId,evt){var pendingRequest=this.pendingRequests[xhrId];if(pendingRequest){var xhr=pendingRequest.xhr;if(xhr.readyState>=2&&pendingRequest.onHeadersReceived&&(pendingRequest.onHeadersReceived(),delete pendingRequest.onHeadersReceived),4===xhr.readyState&&xhrId in this.pendingRequests)if(delete this.pendingRequests[xhrId],0===xhr.status&&this.isHttp)pendingRequest.onError&&pendingRequest.onError(xhr.status);else{var xhrStatus=xhr.status||200;if(200===xhrStatus&&206===pendingRequest.expectedStatus||xhrStatus===pendingRequest.expectedStatus){var chunk=function(xhr){var data=xhr.response;return"string"!=typeof data?data:(0,_util.stringToBytes)(data).buffer}(xhr);if(206===xhrStatus){var rangeHeader=xhr.getResponseHeader("Content-Range"),matches=/bytes (\d+)-(\d+)\/(\d+)/.exec(rangeHeader);pendingRequest.onDone({begin:parseInt(matches[1],10),chunk:chunk})}else chunk?pendingRequest.onDone({begin:0,chunk:chunk}):pendingRequest.onError&&pendingRequest.onError(xhr.status)}else pendingRequest.onError&&pendingRequest.onError(xhr.status)}}}},{key:"hasPendingRequests",value:function(){for(var xhrId in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(xhrId){return this.pendingRequests[xhrId].xhr}},{key:"isPendingRequest",value:function(xhrId){return xhrId in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var xhrId in this.pendingRequests)this.abortRequest(0|xhrId)}},{key:"abortRequest",value:function(xhrId){var xhr=this.pendingRequests[xhrId].xhr;delete this.pendingRequests[xhrId],xhr.abort()}}]),NetworkManager}();exports.PDFNetworkStream=function(){function PDFNetworkStream(source){_classCallCheck(this,PDFNetworkStream),this._source=source,this._manager=new NetworkManager(source.url,{httpHeaders:source.httpHeaders,withCredentials:source.withCredentials}),this._rangeChunkSize=source.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFNetworkStream,[{key:"_onRangeRequestReaderClosed",value:function(reader){var i=this._rangeRequestReaders.indexOf(reader);i>=0&&this._rangeRequestReaders.splice(i,1)}},{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(begin,end){var reader=new PDFNetworkStreamRangeRequestReader(this._manager,begin,end);return reader.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(reader),reader}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach((function(reader){reader.cancel(reason)}))}}]),PDFNetworkStream}();var PDFNetworkStreamFullRequestReader=function(){function PDFNetworkStreamFullRequestReader(manager,source){_classCallCheck(this,PDFNetworkStreamFullRequestReader),this._manager=manager;var args={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=source.url,this._fullRequestId=manager.requestFull(args),this._headersReceivedCapability=(0,_util.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._contentLength=source.length,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var _read;return _createClass(PDFNetworkStreamFullRequestReader,[{key:"_onHeadersReceived",value:function(){var fullRequestXhrId=this._fullRequestId,fullRequestXhr=this._manager.getRequestXhr(fullRequestXhrId),getResponseHeader=function(name){return fullRequestXhr.getResponseHeader(name)},_validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),suggestedLength=_validateRangeRequest.suggestedLength;_validateRangeRequest.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),this._isRangeSupported&&this._manager.abortRequest(fullRequestXhrId),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(args){args&&(this._requests.length>0?this._requests.shift().resolve({value:args.chunk,done:!1}):this._cachedChunks.push(args.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(requestCapability){requestCapability.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(status){var exception=(0,_network_utils.createResponseStatusError)(status,this._url);this._storedError=exception,this._headersReceivedCapability.reject(exception),this._requests.forEach((function(requestCapability){requestCapability.reject(exception)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(data){this.onProgress&&this.onProgress({loaded:data.loaded,total:data.lengthComputable?data.total:this._contentLength})}},{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark((function _callee(){var chunk,requestCapability;return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this._storedError){_context.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){_context.next=5;break}return chunk=this._cachedChunks.shift(),_context.abrupt("return",{value:chunk,done:!1});case 5:if(!this._done){_context.next=7;break}return _context.abrupt("return",{value:void 0,done:!0});case 7:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context.abrupt("return",requestCapability.promise);case 10:case"end":return _context.stop()}}),_callee,this)}))),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._headersReceivedCapability.reject(reason),this._requests.forEach((function(requestCapability){requestCapability.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),PDFNetworkStreamFullRequestReader}(),PDFNetworkStreamRangeRequestReader=function(){function PDFNetworkStreamRangeRequestReader(manager,begin,end){_classCallCheck(this,PDFNetworkStreamRangeRequestReader),this._manager=manager;var args={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=manager.requestRange(begin,end,args),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var _read2;return _createClass(PDFNetworkStreamRangeRequestReader,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(data){var chunk=data.chunk;this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunk=chunk,this._done=!0,this._requests.forEach((function(requestCapability){requestCapability.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(evt){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:evt.loaded})}},{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark((function _callee2(){var chunk,requestCapability;return _regenerator.default.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null===this._queuedChunk){_context2.next=4;break}return chunk=this._queuedChunk,this._queuedChunk=null,_context2.abrupt("return",{value:chunk,done:!1});case 4:if(!this._done){_context2.next=6;break}return _context2.abrupt("return",{value:void 0,done:!0});case 6:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context2.abrupt("return",requestCapability.promise);case 9:case"end":return _context2.stop()}}),_callee2,this)}))),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._done=!0,this._requests.forEach((function(requestCapability){requestCapability.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),PDFNetworkStreamRangeRequestReader}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFetchStream=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(180))&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(198);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function createFetchOptions(headers,withCredentials,abortController){return{method:"GET",headers:headers,signal:abortController&&abortController.signal,mode:"cors",credentials:withCredentials?"include":"same-origin",redirect:"follow"}}exports.PDFFetchStream=function(){function PDFFetchStream(source){_classCallCheck(this,PDFFetchStream),this.source=source,this.isHttp=/^https?:/i.test(source.url),this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFFetchStream,[{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}},{key:"getRangeReader",value:function(begin,end){if(end<=this._progressiveDataLength)return null;var reader=new PDFFetchStreamRangeReader(this,begin,end);return this._rangeRequestReaders.push(reader),reader}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach((function(reader){reader.cancel(reason)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),PDFFetchStream}();var PDFFetchStreamReader=function(){function PDFFetchStreamReader(stream){var _this=this;_classCallCheck(this,PDFFetchStreamReader),this._stream=stream,this._reader=null,this._loaded=0,this._filename=null;var source=stream.source;for(var property in this._withCredentials=source.withCredentials||!1,this._contentLength=source.length,this._headersCapability=(0,_util.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._headers=new Headers,this._stream.httpHeaders){var value=this._stream.httpHeaders[property];void 0!==value&&this._headers.append(property,value)}var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this._reader=response.body.getReader(),_this._headersCapability.resolve();var getResponseHeader=function(name){return response.headers.get(name)},_validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:_this._stream.isHttp,rangeChunkSize:_this._rangeChunkSize,disableRange:_this._disableRange}),suggestedLength=_validateRangeRequest.suggestedLength;_this._isRangeSupported=_validateRangeRequest.allowRangeRequests,_this._contentLength=suggestedLength||_this._contentLength,_this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),!_this._isStreamingSupported&&_this._isRangeSupported&&_this.cancel(new _util.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var _read;return _createClass(PDFFetchStreamReader,[{key:"read",value:(_read=_asyncToGenerator(_regenerator.default.mark((function _callee(){var _ref,value,done,buffer;return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._headersCapability.promise;case 2:return _context.next=4,this._reader.read();case 4:if(value=(_ref=_context.sent).value,!(done=_ref.done)){_context.next=9;break}return _context.abrupt("return",{value:value,done:done});case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),buffer=new Uint8Array(value).buffer,_context.abrupt("return",{value:buffer,done:!1});case 13:case"end":return _context.stop()}}),_callee,this)}))),function(){return _read.apply(this,arguments)})},{key:"cancel",value:function(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),PDFFetchStreamReader}(),PDFFetchStreamRangeReader=function(){function PDFFetchStreamRangeReader(stream,begin,end){var _this2=this;_classCallCheck(this,PDFFetchStreamRangeReader),this._stream=stream,this._reader=null,this._loaded=0;var source=stream.source;for(var property in this._withCredentials=source.withCredentials||!1,this._readCapability=(0,_util.createPromiseCapability)(),this._isStreamingSupported=!source.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=new Headers,this._stream.httpHeaders){var value=this._stream.httpHeaders[property];void 0!==value&&this._headers.append(property,value)}this._headers.append("Range","bytes=".concat(begin,"-").concat(end-1));var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this2._readCapability.resolve(),_this2._reader=response.body.getReader()})),this.onProgress=null}var _read2;return _createClass(PDFFetchStreamRangeReader,[{key:"read",value:(_read2=_asyncToGenerator(_regenerator.default.mark((function _callee2(){var _ref2,value,done,buffer;return _regenerator.default.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._readCapability.promise;case 2:return _context2.next=4,this._reader.read();case 4:if(value=(_ref2=_context2.sent).value,!(done=_ref2.done)){_context2.next=9;break}return _context2.abrupt("return",{value:value,done:done});case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),buffer=new Uint8Array(value).buffer,_context2.abrupt("return",{value:buffer,done:!1});case 13:case"end":return _context2.stop()}}),_callee2,this)}))),function(){return _read2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),PDFFetchStreamRangeReader}()}])},module.exports=factory()},louq:function(module,exports,__webpack_require__){var factory;factory=function(){return function(modules){var installedModules={};function __w_pdfjs_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__w_pdfjs_require__),module.l=!0,module.exports}return __w_pdfjs_require__.m=modules,__w_pdfjs_require__.c=installedModules,__w_pdfjs_require__.d=function(exports,name,getter){__w_pdfjs_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__w_pdfjs_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__w_pdfjs_require__.t=function(value,mode){if(1&mode&&(value=__w_pdfjs_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__w_pdfjs_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__w_pdfjs_require__.d(ns,key,(function(key){return value[key]}).bind(null,key));return ns},__w_pdfjs_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __w_pdfjs_require__.d(getter,"a",getter),getter},__w_pdfjs_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__w_pdfjs_require__.p="",__w_pdfjs_require__(__w_pdfjs_require__.s=0)}([function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return _annotation_layer_builder.AnnotationLayerBuilder}}),Object.defineProperty(exports,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return _annotation_layer_builder.DefaultAnnotationLayerFactory}}),Object.defineProperty(exports,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return _text_layer_builder.DefaultTextLayerFactory}}),Object.defineProperty(exports,"TextLayerBuilder",{enumerable:!0,get:function(){return _text_layer_builder.TextLayerBuilder}}),Object.defineProperty(exports,"EventBus",{enumerable:!0,get:function(){return _ui_utils.EventBus}}),Object.defineProperty(exports,"NullL10n",{enumerable:!0,get:function(){return _ui_utils.NullL10n}}),Object.defineProperty(exports,"ProgressBar",{enumerable:!0,get:function(){return _ui_utils.ProgressBar}}),Object.defineProperty(exports,"PDFLinkService",{enumerable:!0,get:function(){return _pdf_link_service.PDFLinkService}}),Object.defineProperty(exports,"SimpleLinkService",{enumerable:!0,get:function(){return _pdf_link_service.SimpleLinkService}}),Object.defineProperty(exports,"DownloadManager",{enumerable:!0,get:function(){return _download_manager.DownloadManager}}),Object.defineProperty(exports,"GenericL10n",{enumerable:!0,get:function(){return _genericl10n.GenericL10n}}),Object.defineProperty(exports,"PDFFindController",{enumerable:!0,get:function(){return _pdf_find_controller.PDFFindController}}),Object.defineProperty(exports,"PDFHistory",{enumerable:!0,get:function(){return _pdf_history.PDFHistory}}),Object.defineProperty(exports,"PDFPageView",{enumerable:!0,get:function(){return _pdf_page_view.PDFPageView}}),Object.defineProperty(exports,"PDFSinglePageViewer",{enumerable:!0,get:function(){return _pdf_single_page_viewer.PDFSinglePageViewer}}),Object.defineProperty(exports,"PDFViewer",{enumerable:!0,get:function(){return _pdf_viewer.PDFViewer}});var _annotation_layer_builder=__w_pdfjs_require__(1),_text_layer_builder=__w_pdfjs_require__(8),_ui_utils=__w_pdfjs_require__(3),_pdf_link_service=__w_pdfjs_require__(7),_download_manager=__w_pdfjs_require__(9),_genericl10n=__w_pdfjs_require__(10),_pdf_find_controller=__w_pdfjs_require__(12),_pdf_history=__w_pdfjs_require__(14),_pdf_page_view=__w_pdfjs_require__(15),_pdf_single_page_viewer=__w_pdfjs_require__(18),_pdf_viewer=__w_pdfjs_require__(20);(0,_ui_utils.getGlobalEventBus)(!0)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultAnnotationLayerFactory=exports.AnnotationLayerBuilder=void 0;var _pdfjsLib=__w_pdfjs_require__(2),_ui_utils=__w_pdfjs_require__(3),_pdf_link_service=__w_pdfjs_require__(7);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var AnnotationLayerBuilder=function(){function AnnotationLayerBuilder(_ref){var pageDiv=_ref.pageDiv,pdfPage=_ref.pdfPage,linkService=_ref.linkService,downloadManager=_ref.downloadManager,_ref$imageResourcesPa=_ref.imageResourcesPath,imageResourcesPath=void 0===_ref$imageResourcesPa?"":_ref$imageResourcesPa,_ref$renderInteractiv=_ref.renderInteractiveForms,renderInteractiveForms=void 0!==_ref$renderInteractiv&&_ref$renderInteractiv,_ref$l10n=_ref.l10n,l10n=void 0===_ref$l10n?_ui_utils.NullL10n:_ref$l10n;_classCallCheck(this,AnnotationLayerBuilder),this.pageDiv=pageDiv,this.pdfPage=pdfPage,this.linkService=linkService,this.downloadManager=downloadManager,this.imageResourcesPath=imageResourcesPath,this.renderInteractiveForms=renderInteractiveForms,this.l10n=l10n,this.div=null,this._cancelled=!1}return _createClass(AnnotationLayerBuilder,[{key:"render",value:function(viewport){var _this=this,intent=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";this.pdfPage.getAnnotations({intent:intent}).then((function(annotations){if(!_this._cancelled){var parameters={viewport:viewport.clone({dontFlip:!0}),div:_this.div,annotations:annotations,page:_this.pdfPage,imageResourcesPath:_this.imageResourcesPath,renderInteractiveForms:_this.renderInteractiveForms,linkService:_this.linkService,downloadManager:_this.downloadManager};if(_this.div)_pdfjsLib.AnnotationLayer.update(parameters);else{if(0===annotations.length)return;_this.div=document.createElement("div"),_this.div.className="annotationLayer",_this.pageDiv.appendChild(_this.div),parameters.div=_this.div,_pdfjsLib.AnnotationLayer.render(parameters),_this.l10n.translate(_this.div)}}}))}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),AnnotationLayerBuilder}();exports.AnnotationLayerBuilder=AnnotationLayerBuilder,exports.DefaultAnnotationLayerFactory=function(){function DefaultAnnotationLayerFactory(){_classCallCheck(this,DefaultAnnotationLayerFactory)}return _createClass(DefaultAnnotationLayerFactory,[{key:"createAnnotationLayerBuilder",value:function(pageDiv,pdfPage){var imageResourcesPath=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l10n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_ui_utils.NullL10n;return new AnnotationLayerBuilder({pageDiv:pageDiv,pdfPage:pdfPage,imageResourcesPath:imageResourcesPath,renderInteractiveForms:renderInteractiveForms,linkService:new _pdf_link_service.SimpleLinkService,l10n:l10n})}}]),DefaultAnnotationLayerFactory}()},function(module,exports,__w_pdfjs_require__){"use strict";var pdfjsLib;pdfjsLib="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:__webpack_require__("lRFz"),module.exports=pdfjsLib},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidRotation=function(angle){return Number.isInteger(angle)&&angle%90==0},exports.isValidScrollMode=function(mode){return Number.isInteger(mode)&&Object.values(ScrollMode).includes(mode)&&mode!==ScrollMode.UNKNOWN},exports.isValidSpreadMode=function(mode){return Number.isInteger(mode)&&Object.values(SpreadMode).includes(mode)&&mode!==SpreadMode.UNKNOWN},exports.isPortraitOrientation=function(size){return size.width<=size.height},exports.getGlobalEventBus=function(){var dispatchToDOM=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return globalEventBus||(globalEventBus=new EventBus({dispatchToDOM:dispatchToDOM})),globalEventBus},exports.getPDFFileNameFromURL=function(url){var defaultFilename=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof url)return defaultFilename;if(isDataSchema(url))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),defaultFilename;var reURI=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,reFilename=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,splitURI=reURI.exec(url),suggestedFilename=reFilename.exec(splitURI[1])||reFilename.exec(splitURI[2])||reFilename.exec(splitURI[3]);if(suggestedFilename&&(suggestedFilename=suggestedFilename[0]).includes("%"))try{suggestedFilename=reFilename.exec(decodeURIComponent(suggestedFilename))[0]}catch(ex){}return suggestedFilename||defaultFilename},exports.noContextMenuHandler=function(evt){evt.preventDefault()},exports.parseQueryString=function(query){for(var parts=query.split("&"),params=Object.create(null),i=0,ii=parts.length;i<ii;++i){var param=parts[i].split("="),key=param[0].toLowerCase(),value=param.length>1?param[1]:null;params[decodeURIComponent(key)]=decodeURIComponent(value)}return params},exports.backtrackBeforeAllVisibleElements=backtrackBeforeAllVisibleElements,exports.getVisibleElements=function(scrollEl,views){var sortByVisibility=arguments.length>2&&void 0!==arguments[2]&&arguments[2],horizontal=arguments.length>3&&void 0!==arguments[3]&&arguments[3],top=scrollEl.scrollTop,bottom=top+scrollEl.clientHeight,left=scrollEl.scrollLeft,right=left+scrollEl.clientWidth;function isElementBottomAfterViewTop(view){var element=view.div;return element.offsetTop+element.clientTop+element.clientHeight>top}function isElementRightAfterViewLeft(view){var element=view.div;return element.offsetLeft+element.clientLeft+element.clientWidth>left}var visible=[],numViews=views.length,firstVisibleElementInd=0===numViews?0:binarySearchFirstItem(views,horizontal?isElementRightAfterViewLeft:isElementBottomAfterViewTop);firstVisibleElementInd>0&&firstVisibleElementInd<numViews&&!horizontal&&(firstVisibleElementInd=backtrackBeforeAllVisibleElements(firstVisibleElementInd,views,top));for(var lastEdge=horizontal?right:-1,i=firstVisibleElementInd;i<numViews;i++){var view=views[i],element=view.div,currentWidth=element.offsetLeft+element.clientLeft,currentHeight=element.offsetTop+element.clientTop,viewWidth=element.clientWidth,viewHeight=element.clientHeight,viewRight=currentWidth+viewWidth,viewBottom=currentHeight+viewHeight;if(-1===lastEdge)viewBottom>=bottom&&(lastEdge=viewBottom);else if((horizontal?currentWidth:currentHeight)>lastEdge)break;if(!(viewBottom<=top||currentHeight>=bottom||viewRight<=left||currentWidth>=right)){var hiddenHeight=Math.max(0,top-currentHeight)+Math.max(0,viewBottom-bottom),hiddenWidth=Math.max(0,left-currentWidth)+Math.max(0,viewRight-right),percent=(viewHeight-hiddenHeight)*(viewWidth-hiddenWidth)*100/viewHeight/viewWidth|0;visible.push({id:view.id,x:currentWidth,y:currentHeight,view:view,percent:percent})}}var first=visible[0],last=visible[visible.length-1];return sortByVisibility&&visible.sort((function(a,b){var pc=a.percent-b.percent;return Math.abs(pc)>.001?-pc:a.id-b.id})),{first:first,last:last,views:visible}},exports.roundToDivide=function(x,div){var r=x%div;return 0===r?x:Math.round(x-r+div)},exports.getPageSizeInches=function(_ref){var arr,userUnit=_ref.userUnit,rotate=_ref.rotate,_view=function(arr){if(Array.isArray(arr))return arr}(arr=_ref.view)||function(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),4!==_arr.length);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),changeOrientation=rotate%180!=0,width=(_view[2]-_view[0])/72*userUnit,height=(_view[3]-_view[1])/72*userUnit;return{width:changeOrientation?height:width,height:changeOrientation?width:height}},exports.approximateFraction=function(x){if(Math.floor(x)===x)return[x,1];var xinv=1/x;if(xinv>8)return[1,8];if(Math.floor(xinv)===xinv)return[1,xinv];for(var x_=x>1?xinv:x,a=0,b=1,c=1,d=1;;){var p=a+c,q=b+d;if(q>8)break;x_<=p/q?(c=p,d=q):(a=p,b=q)}return x_-a/b<c/d-x_?x_===x?[a,b]:[b,a]:x_===x?[c,d]:[d,c]},exports.getOutputScale=function(ctx){var pixelRatio=(window.devicePixelRatio||1)/(ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1);return{sx:pixelRatio,sy:pixelRatio,scaled:1!==pixelRatio}},exports.scrollIntoView=function(element,spot){var skipOverflowHiddenElements=arguments.length>2&&void 0!==arguments[2]&&arguments[2],parent=element.offsetParent;if(parent){for(var offsetY=element.offsetTop+element.clientTop,offsetX=element.offsetLeft+element.clientLeft;parent.clientHeight===parent.scrollHeight&&parent.clientWidth===parent.scrollWidth||skipOverflowHiddenElements&&"hidden"===getComputedStyle(parent).overflow;)if(parent.dataset._scaleY&&(offsetY/=parent.dataset._scaleY,offsetX/=parent.dataset._scaleX),offsetY+=parent.offsetTop,offsetX+=parent.offsetLeft,!(parent=parent.offsetParent))return;spot&&(void 0!==spot.top&&(offsetY+=spot.top),void 0!==spot.left&&(parent.scrollLeft=offsetX+=spot.left)),parent.scrollTop=offsetY}else console.error("offsetParent is not set -- cannot scroll")},exports.watchScroll=function(viewAreaElement,callback){var debounceScroll=function(evt){rAF||(rAF=window.requestAnimationFrame((function(){rAF=null;var currentX=viewAreaElement.scrollLeft,lastX=state.lastX;currentX!==lastX&&(state.right=currentX>lastX),state.lastX=currentX;var currentY=viewAreaElement.scrollTop,lastY=state.lastY;currentY!==lastY&&(state.down=currentY>lastY),state.lastY=currentY,callback(state)})))},state={right:!0,down:!0,lastX:viewAreaElement.scrollLeft,lastY:viewAreaElement.scrollTop,_eventHandler:debounceScroll},rAF=null;return viewAreaElement.addEventListener("scroll",debounceScroll,!0),state},exports.binarySearchFirstItem=binarySearchFirstItem,exports.normalizeWheelEventDelta=function(evt){var delta=Math.sqrt(evt.deltaX*evt.deltaX+evt.deltaY*evt.deltaY),angle=Math.atan2(evt.deltaY,evt.deltaX);return-.25*Math.PI<angle&&angle<.75*Math.PI&&(delta=-delta),0===evt.deltaMode?delta/=900:1===evt.deltaMode&&(delta/=30),delta},exports.waitOnEventOrTimeout=function(_ref2){var target=_ref2.target,name=_ref2.name,_ref2$delay=_ref2.delay,delay=void 0===_ref2$delay?0:_ref2$delay;return new Promise((function(resolve,reject){if("object"!==function(obj){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}(target)||!name||"string"!=typeof name||!(Number.isInteger(delay)&&delay>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function handler(type){target instanceof EventBus?target.off(name,eventHandler):target.removeEventListener(name,eventHandler),timeout&&clearTimeout(timeout),resolve(type)}var eventHandler=handler.bind(null,WaitOnType.EVENT);target instanceof EventBus?target.on(name,eventHandler):target.addEventListener(name,eventHandler);var timeoutHandler=handler.bind(null,WaitOnType.TIMEOUT),timeout=setTimeout(timeoutHandler,delay)}))},exports.moveToEndOfArray=function(arr,condition){for(var moved=[],len=arr.length,write=0,read=0;read<len;++read)condition(arr[read])?moved.push(arr[read]):(arr[write]=arr[read],++write);for(var _read=0;write<len;++_read,++write)arr[write]=moved[_read]},exports.WaitOnType=exports.animationStarted=exports.ProgressBar=exports.EventBus=exports.NullL10n=exports.SpreadMode=exports.ScrollMode=exports.TextLayerMode=exports.RendererType=exports.PresentationModeState=exports.VERTICAL_PADDING=exports.SCROLLBAR_PADDING=exports.MAX_AUTO_SCALE=exports.UNKNOWN_SCALE=exports.MAX_SCALE=exports.MIN_SCALE=exports.DEFAULT_SCALE=exports.DEFAULT_SCALE_VALUE=exports.CSS_UNITS=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(4))&&obj.__esModule?obj:{default:obj};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}exports.CSS_UNITS=96/72,exports.DEFAULT_SCALE_VALUE="auto",exports.DEFAULT_SCALE=1,exports.MIN_SCALE=.1,exports.MAX_SCALE=10,exports.UNKNOWN_SCALE=0,exports.MAX_AUTO_SCALE=1.25,exports.SCROLLBAR_PADDING=40,exports.VERTICAL_PADDING=5,exports.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},exports.RendererType={CANVAS:"canvas",SVG:"svg"},exports.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var ScrollMode={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};exports.ScrollMode=ScrollMode;var SpreadMode={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function formatL10nValue(text,args){return args?text.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(all,name){return name in args?args[name]:"{{"+name+"}}"})):text}exports.SpreadMode=SpreadMode;var _translate,_get,_getDirection,_getLanguage,NullL10n={getLanguage:(_getLanguage=_asyncToGenerator(_regenerator.default.mark((function _callee(){return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return","en-us");case 1:case"end":return _context.stop()}}),_callee)}))),function(){return _getLanguage.apply(this,arguments)}),getDirection:(_getDirection=_asyncToGenerator(_regenerator.default.mark((function _callee2(){return _regenerator.default.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return","ltr");case 1:case"end":return _context2.stop()}}),_callee2)}))),function(){return _getDirection.apply(this,arguments)}),get:(_get=_asyncToGenerator(_regenerator.default.mark((function _callee3(property,args,fallback){return _regenerator.default.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",formatL10nValue(fallback,args));case 1:case"end":return _context3.stop()}}),_callee3)}))),function(_x,_x2,_x3){return _get.apply(this,arguments)}),translate:(_translate=_asyncToGenerator(_regenerator.default.mark((function _callee4(element){return _regenerator.default.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:case"end":return _context4.stop()}}),_callee4)}))),function(_x4){return _translate.apply(this,arguments)})};function binarySearchFirstItem(items,condition){var minIndex=0,maxIndex=items.length-1;if(0===items.length||!condition(items[maxIndex]))return items.length;if(condition(items[minIndex]))return minIndex;for(;minIndex<maxIndex;){var currentIndex=minIndex+maxIndex>>1;condition(items[currentIndex])?maxIndex=currentIndex:minIndex=currentIndex+1}return minIndex}function backtrackBeforeAllVisibleElements(index,views,top){if(index<2)return index;var elt=views[index].div,pageTop=elt.offsetTop+elt.clientTop;pageTop>=top&&(pageTop=(elt=views[index-1].div).offsetTop+elt.clientTop);for(var i=index-2;i>=0&&!((elt=views[i].div).offsetTop+elt.clientTop+elt.clientHeight<=pageTop);--i)index=i;return index}function isDataSchema(url){for(var i=0,ii=url.length;i<ii&&""===url[i].trim();)i++;return"data:"===url.substring(i,i+5).toLowerCase()}exports.NullL10n=NullL10n;var WaitOnType={EVENT:"event",TIMEOUT:"timeout"};exports.WaitOnType=WaitOnType;var animationStarted=new Promise((function(resolve){window.requestAnimationFrame(resolve)}));exports.animationStarted=animationStarted;var EventBus=function(){function EventBus(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref3$dispatchToDOM=_ref3.dispatchToDOM,dispatchToDOM=void 0!==_ref3$dispatchToDOM&&_ref3$dispatchToDOM;_classCallCheck(this,EventBus),this._listeners=Object.create(null),this._dispatchToDOM=!0===dispatchToDOM}return _createClass(EventBus,[{key:"on",value:function(eventName,listener){var eventListeners=this._listeners[eventName];eventListeners||(this._listeners[eventName]=eventListeners=[]),eventListeners.push(listener)}},{key:"off",value:function(eventName,listener){var i,eventListeners=this._listeners[eventName];!eventListeners||(i=eventListeners.indexOf(listener))<0||eventListeners.splice(i,1)}},{key:"dispatch",value:function(eventName){var eventListeners=this._listeners[eventName];if(eventListeners&&0!==eventListeners.length){var args=Array.prototype.slice.call(arguments,1);eventListeners.slice(0).forEach((function(listener){listener.apply(null,args)})),this._dispatchToDOM&&this._dispatchDOMEvent(eventName,args)}else if(this._dispatchToDOM){var _args5=Array.prototype.slice.call(arguments,1);this._dispatchDOMEvent(eventName,_args5)}}},{key:"_dispatchDOMEvent",value:function(eventName){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,details=Object.create(null);if(args&&args.length>0){var obj=args[0];for(var key in obj){var value=obj[key];if("source"!==key)details[key]=value;else if(value===window||value===document)return}}var event=document.createEvent("CustomEvent");event.initCustomEvent(eventName,!0,!0,details),document.dispatchEvent(event)}}]),EventBus}();exports.EventBus=EventBus;var globalEventBus=null;exports.ProgressBar=function(){function ProgressBar(id){var _ref4=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},height=_ref4.height,width=_ref4.width,units=_ref4.units;_classCallCheck(this,ProgressBar),this.visible=!0,this.div=document.querySelector(id+" .progress"),this.bar=this.div.parentNode,this.height=height||100,this.width=width||100,this.units=units||"%",this.div.style.height=this.height+this.units,this.percent=0}return _createClass(ProgressBar,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"setWidth",value:function(viewer){if(viewer){var scrollbarWidth=viewer.parentNode.offsetWidth-viewer.offsetWidth;scrollbarWidth>0&&this.bar.setAttribute("style","width: calc(100% - "+scrollbarWidth+"px);")}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(val){this._indeterminate=isNaN(val),this._percent=Math.min(Math.max(val,0),100),this._updateBar()}}]),ProgressBar}()},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=__w_pdfjs_require__(5)},function(module,exports,__w_pdfjs_require__){"use strict";(function(module){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var runtime=function(exports){var Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(innerFn,outerFn,self,tryLocsList){var generator=Object.create((outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator).prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return{value:void 0,done:!0}}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){prototype[method]=function(arg){return this._invoke(method,arg)}}))}function AsyncIterator(generator){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise((function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"===_typeof(value)&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):Promise.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}("object"===_typeof(module)?module.exports:{});try{regeneratorRuntime=runtime}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(runtime)}}).call(this,__w_pdfjs_require__(6)(module))},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleLinkService=exports.PDFLinkService=void 0;var _ui_utils=__w_pdfjs_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}exports.PDFLinkService=function(){function PDFLinkService(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},eventBus=_ref.eventBus,_ref$externalLinkTarg=_ref.externalLinkTarget,externalLinkTarget=void 0===_ref$externalLinkTarg?null:_ref$externalLinkTarg,_ref$externalLinkRel=_ref.externalLinkRel,externalLinkRel=void 0===_ref$externalLinkRel?null:_ref$externalLinkRel,_ref$externalLinkEnab=_ref.externalLinkEnabled,externalLinkEnabled=void 0===_ref$externalLinkEnab||_ref$externalLinkEnab;_classCallCheck(this,PDFLinkService),this.eventBus=eventBus||(0,_ui_utils.getGlobalEventBus)(),this.externalLinkTarget=externalLinkTarget,this.externalLinkRel=externalLinkRel,this.externalLinkEnabled=externalLinkEnabled,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return _createClass(PDFLinkService,[{key:"setDocument",value:function(pdfDocument){var baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=baseUrl,this.pdfDocument=pdfDocument,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(pdfViewer){this.pdfViewer=pdfViewer}},{key:"setHistory",value:function(pdfHistory){this.pdfHistory=pdfHistory}},{key:"navigateTo",value:function(dest){var _this=this;new Promise((function(resolve,reject){"string"!=typeof dest?resolve({namedDest:"",explicitDest:dest}):_this.pdfDocument.getDestination(dest).then((function(destArray){resolve({namedDest:dest,explicitDest:destArray})}))})).then((function(data){Array.isArray(data.explicitDest)?function goToDestination(_ref2){var pageNumber,namedDest=_ref2.namedDest,explicitDest=_ref2.explicitDest,destRef=explicitDest[0];if(destRef instanceof Object){if(null===(pageNumber=_this._cachedPageNumber(destRef)))return void _this.pdfDocument.getPageIndex(destRef).then((function(pageIndex){_this.cachePageRef(pageIndex+1,destRef),goToDestination({namedDest:namedDest,explicitDest:explicitDest})})).catch((function(){console.error('PDFLinkService.navigateTo: "'.concat(destRef,'" is not ')+'a valid page reference, for dest="'.concat(dest,'".'))}))}else{if(!Number.isInteger(destRef))return void console.error('PDFLinkService.navigateTo: "'.concat(destRef,'" is not ')+'a valid destination reference, for dest="'.concat(dest,'".'));pageNumber=destRef+1}!pageNumber||pageNumber<1||pageNumber>_this.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(pageNumber,'" is not ')+'a valid page number, for dest="'.concat(dest,'".')):(_this.pdfHistory&&(_this.pdfHistory.pushCurrentPosition(),_this.pdfHistory.push({namedDest:namedDest,explicitDest:explicitDest,pageNumber:pageNumber})),_this.pdfViewer.scrollPageIntoView({pageNumber:pageNumber,destArray:explicitDest}))}(data):console.error('PDFLinkService.navigateTo: "'.concat(data.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(dest,'".'))}))}},{key:"getDestinationHash",value:function(dest){if("string"==typeof dest)return this.getAnchorUrl("#"+escape(dest));if(Array.isArray(dest)){var str=JSON.stringify(dest);return this.getAnchorUrl("#"+escape(str))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(anchor){return(this.baseUrl||"")+anchor}},{key:"setHash",value:function(hash){var pageNumber,dest;if(hash.includes("=")){var params=(0,_ui_utils.parseQueryString)(hash);if("search"in params&&this.eventBus.dispatch("findfromurlhash",{source:this,query:params.search.replace(/"/g,""),phraseSearch:"true"===params.phrase}),"nameddest"in params)return void this.navigateTo(params.nameddest);if("page"in params&&(pageNumber=0|params.page||1),"zoom"in params){var zoomArgs=params.zoom.split(","),zoomArg=zoomArgs[0],zoomArgNumber=parseFloat(zoomArg);zoomArg.includes("Fit")?"Fit"===zoomArg||"FitB"===zoomArg?dest=[null,{name:zoomArg}]:"FitH"===zoomArg||"FitBH"===zoomArg||"FitV"===zoomArg||"FitBV"===zoomArg?dest=[null,{name:zoomArg},zoomArgs.length>1?0|zoomArgs[1]:null]:"FitR"===zoomArg?5!==zoomArgs.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):dest=[null,{name:zoomArg},0|zoomArgs[1],0|zoomArgs[2],0|zoomArgs[3],0|zoomArgs[4]]:console.error('PDFLinkService.setHash: "'.concat(zoomArg,'" is not ')+"a valid zoom value."):dest=[null,{name:"XYZ"},zoomArgs.length>1?0|zoomArgs[1]:null,zoomArgs.length>2?0|zoomArgs[2]:null,zoomArgNumber?zoomArgNumber/100:zoomArg]}dest?this.pdfViewer.scrollPageIntoView({pageNumber:pageNumber||this.page,destArray:dest,allowNegativeOffset:!0}):pageNumber&&(this.page=pageNumber),"pagemode"in params&&this.eventBus.dispatch("pagemode",{source:this,mode:params.pagemode})}else{dest=unescape(hash);try{dest=JSON.parse(dest),Array.isArray(dest)||(dest=dest.toString())}catch(ex){}if("string"==typeof dest||function(dest){if(!Array.isArray(dest))return!1;var destLength=dest.length,allowNull=!0;if(destLength<2)return!1;var page=dest[0];if(!("object"===_typeof(page)&&Number.isInteger(page.num)&&Number.isInteger(page.gen)||Number.isInteger(page)&&page>=0))return!1;var zoom=dest[1];if("object"!==_typeof(zoom)||"string"!=typeof zoom.name)return!1;switch(zoom.name){case"XYZ":if(5!==destLength)return!1;break;case"Fit":case"FitB":return 2===destLength;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==destLength)return!1;break;case"FitR":if(6!==destLength)return!1;allowNull=!1;break;default:return!1}for(var i=2;i<destLength;i++){var param=dest[i];if(!("number"==typeof param||allowNull&&null===param))return!1}return!0}(dest))return void this.navigateTo(dest);console.error('PDFLinkService.setHash: "'.concat(unescape(hash),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(action){switch(action){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:action})}},{key:"cachePageRef",value:function(pageNum,pageRef){if(pageRef){var refStr=0===pageRef.gen?"".concat(pageRef.num,"R"):"".concat(pageRef.num,"R").concat(pageRef.gen);this._pagesRefCache[refStr]=pageNum}}},{key:"_cachedPageNumber",value:function(pageRef){var refStr=0===pageRef.gen?"".concat(pageRef.num,"R"):"".concat(pageRef.num,"R").concat(pageRef.gen);return this._pagesRefCache&&this._pagesRefCache[refStr]||null}},{key:"isPageVisible",value:function(pageNumber){return this.pdfViewer.isPageVisible(pageNumber)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(value){this.pdfViewer.currentPageNumber=value}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(value){this.pdfViewer.pagesRotation=value}}]),PDFLinkService}(),exports.SimpleLinkService=function(){function SimpleLinkService(){_classCallCheck(this,SimpleLinkService),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0}return _createClass(SimpleLinkService,[{key:"navigateTo",value:function(dest){}},{key:"getDestinationHash",value:function(dest){return"#"}},{key:"getAnchorUrl",value:function(hash){return"#"}},{key:"setHash",value:function(hash){}},{key:"executeNamedAction",value:function(action){}},{key:"cachePageRef",value:function(pageNum,pageRef){}},{key:"isPageVisible",value:function(pageNumber){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(value){}},{key:"rotation",get:function(){return 0},set:function(value){}}]),SimpleLinkService}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultTextLayerFactory=exports.TextLayerBuilder=void 0;var _ui_utils=__w_pdfjs_require__(3),_pdfjsLib=__w_pdfjs_require__(2);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var TextLayerBuilder=function(){function TextLayerBuilder(_ref){var textLayerDiv=_ref.textLayerDiv,eventBus=_ref.eventBus,pageIndex=_ref.pageIndex,viewport=_ref.viewport,_ref$findController=_ref.findController,findController=void 0===_ref$findController?null:_ref$findController,_ref$enhanceTextSelec=_ref.enhanceTextSelection,enhanceTextSelection=void 0!==_ref$enhanceTextSelec&&_ref$enhanceTextSelec;_classCallCheck(this,TextLayerBuilder),this.textLayerDiv=textLayerDiv,this.eventBus=eventBus||(0,_ui_utils.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=pageIndex,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=viewport,this.textDivs=[],this.findController=findController,this.textLayerRenderTask=null,this.enhanceTextSelection=enhanceTextSelection,this._onUpdateTextLayerMatches=null,this._bindMouse()}return _createClass(TextLayerBuilder,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var endOfContent=document.createElement("div");endOfContent.className="endOfContent",this.textLayerDiv.appendChild(endOfContent)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var _this=this,timeout=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var textLayerFrag=document.createDocumentFragment();this.textLayerRenderTask=(0,_pdfjsLib.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:textLayerFrag,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:timeout,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((function(){_this.textLayerDiv.appendChild(textLayerFrag),_this._finishRendering(),_this._updateMatches()}),(function(reason){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(evt){evt.pageIndex!==_this.pageIdx&&-1!==evt.pageIndex||_this._updateMatches()},this.eventBus.on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus.off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(readableStream){this.cancel(),this.textContentStream=readableStream}},{key:"setTextContent",value:function(textContent){this.cancel(),this.textContent=textContent}},{key:"_convertMatches",value:function(matches,matchesLength){if(!matches)return[];for(var textContentItemsStr=this.textContentItemsStr,i=0,iIndex=0,end=textContentItemsStr.length-1,queryLen=this.findController.state.query.length,result=[],m=0,mm=matches.length;m<mm;m++){for(var matchIdx=matches[m];i!==end&&matchIdx>=iIndex+textContentItemsStr[i].length;)iIndex+=textContentItemsStr[i].length,i++;i===textContentItemsStr.length&&console.error("Could not find a matching mapping");var match={begin:{divIdx:i,offset:matchIdx-iIndex}};for(matchIdx+=matchesLength?matchesLength[m]:queryLen;i!==end&&matchIdx>iIndex+textContentItemsStr[i].length;)iIndex+=textContentItemsStr[i].length,i++;match.end={divIdx:i,offset:matchIdx-iIndex},result.push(match)}return result}},{key:"_renderMatches",value:function(matches){if(0!==matches.length){var findController=this.findController,pageIdx=this.pageIdx,textContentItemsStr=this.textContentItemsStr,textDivs=this.textDivs,isSelectedPage=pageIdx===findController.selected.pageIdx,selectedMatchIdx=findController.selected.matchIdx,prevEnd=null,infinity={divIdx:-1,offset:void 0},i0=selectedMatchIdx,i1=i0+1;if(findController.state.highlightAll)i0=0,i1=matches.length;else if(!isSelectedPage)return;for(var i=i0;i<i1;i++){var match=matches[i],begin=match.begin,end=match.end,isSelected=isSelectedPage&&i===selectedMatchIdx,highlightSuffix=isSelected?" selected":"";if(isSelected&&findController.scrollMatchIntoView({element:textDivs[begin.divIdx],pageIndex:pageIdx,matchIndex:selectedMatchIdx}),prevEnd&&begin.divIdx===prevEnd.divIdx?appendTextToDiv(prevEnd.divIdx,prevEnd.offset,begin.offset):(null!==prevEnd&&appendTextToDiv(prevEnd.divIdx,prevEnd.offset,infinity.offset),beginText(begin)),begin.divIdx===end.divIdx)appendTextToDiv(begin.divIdx,begin.offset,end.offset,"highlight"+highlightSuffix);else{appendTextToDiv(begin.divIdx,begin.offset,infinity.offset,"highlight begin"+highlightSuffix);for(var n0=begin.divIdx+1,n1=end.divIdx;n0<n1;n0++)textDivs[n0].className="highlight middle"+highlightSuffix;beginText(end,"highlight end"+highlightSuffix)}prevEnd=end}prevEnd&&appendTextToDiv(prevEnd.divIdx,prevEnd.offset,infinity.offset)}function beginText(begin,className){var divIdx=begin.divIdx;textDivs[divIdx].textContent="",appendTextToDiv(divIdx,0,begin.offset,className)}function appendTextToDiv(divIdx,fromOffset,toOffset,className){var div=textDivs[divIdx],content=textContentItemsStr[divIdx].substring(fromOffset,toOffset),node=document.createTextNode(content);if(className){var span=document.createElement("span");return span.className=className,span.appendChild(node),void div.appendChild(span)}div.appendChild(node)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var findController=this.findController,matches=this.matches,pageIdx=this.pageIdx,textContentItemsStr=this.textContentItemsStr,textDivs=this.textDivs,clearedUntilDivIdx=-1,i=0,ii=matches.length;i<ii;i++){for(var match=matches[i],n=Math.max(clearedUntilDivIdx,match.begin.divIdx),end=match.end.divIdx;n<=end;n++){var div=textDivs[n];div.textContent=textContentItemsStr[n],div.className=""}clearedUntilDivIdx=match.end.divIdx+1}findController&&findController.highlightMatches&&(this.matches=this._convertMatches(findController.pageMatches[pageIdx]||null,findController.pageMatchesLength[pageIdx]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var _this2=this,div=this.textLayerDiv,expandDivsTimer=null;div.addEventListener("mousedown",(function(evt){if(_this2.enhanceTextSelection&&_this2.textLayerRenderTask)return _this2.textLayerRenderTask.expandTextDivs(!0),void(expandDivsTimer&&(clearTimeout(expandDivsTimer),expandDivsTimer=null));var end=div.querySelector(".endOfContent");if(end){var adjustTop=evt.target!==div;if(adjustTop=adjustTop&&"none"!==window.getComputedStyle(end).getPropertyValue("-moz-user-select")){var divBounds=div.getBoundingClientRect(),r=Math.max(0,(evt.pageY-divBounds.top)/divBounds.height);end.style.top=(100*r).toFixed(2)+"%"}end.classList.add("active")}})),div.addEventListener("mouseup",(function(){if(_this2.enhanceTextSelection&&_this2.textLayerRenderTask)expandDivsTimer=setTimeout((function(){_this2.textLayerRenderTask&&_this2.textLayerRenderTask.expandTextDivs(!1),expandDivsTimer=null}),300);else{var end=div.querySelector(".endOfContent");end&&(end.style.top="",end.classList.remove("active"))}}))}}]),TextLayerBuilder}();exports.TextLayerBuilder=TextLayerBuilder,exports.DefaultTextLayerFactory=function(){function DefaultTextLayerFactory(){_classCallCheck(this,DefaultTextLayerFactory)}return _createClass(DefaultTextLayerFactory,[{key:"createTextLayerBuilder",value:function(textLayerDiv,pageIndex,viewport){var enhanceTextSelection=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new TextLayerBuilder({textLayerDiv:textLayerDiv,pageIndex:pageIndex,viewport:viewport,enhanceTextSelection:enhanceTextSelection})}}]),DefaultTextLayerFactory}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DownloadManager=void 0;var _pdfjsLib=__w_pdfjs_require__(2);var DISABLE_CREATE_OBJECT_URL=_pdfjsLib.apiCompatibilityParams.disableCreateObjectURL||!1;function _download(blobUrl,filename){var a=document.createElement("a");if(!a.click)throw new Error('DownloadManager: "a.click()" is not supported.');a.href=blobUrl,a.target="_parent","download"in a&&(a.download=filename),(document.body||document.documentElement).appendChild(a),a.click(),a.remove()}exports.DownloadManager=function(){function DownloadManager(_ref){var _ref$disableCreateObj=_ref.disableCreateObjectURL,disableCreateObjectURL=void 0===_ref$disableCreateObj?DISABLE_CREATE_OBJECT_URL:_ref$disableCreateObj;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DownloadManager),this.disableCreateObjectURL=disableCreateObjectURL}var protoProps;return(protoProps=[{key:"downloadUrl",value:function(url,filename){(0,_pdfjsLib.createValidAbsoluteUrl)(url,"http://example.com")&&_download(url+"#pdfjs.action=download",filename)}},{key:"downloadData",value:function(data,filename,contentType){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([data],{type:contentType}),filename):_download((0,_pdfjsLib.createObjectURL)(data,contentType,this.disableCreateObjectURL),filename)}},{key:"download",value:function(blob,url,filename){navigator.msSaveBlob?navigator.msSaveBlob(blob,filename)||this.downloadUrl(url,filename):this.disableCreateObjectURL?this.downloadUrl(url,filename):_download(URL.createObjectURL(blob),filename)}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(DownloadManager.prototype,protoProps),DownloadManager}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenericL10n=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(4))&&obj.__esModule?obj:{default:obj};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__w_pdfjs_require__(11);var webL10n=document.webL10n;exports.GenericL10n=function(){function GenericL10n(lang){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GenericL10n),this._lang=lang,this._ready=new Promise((function(resolve,reject){webL10n.setLanguage(lang,(function(){resolve(webL10n)}))}))}var Constructor,protoProps,_translate,_get,_getDirection,_getLanguage;return Constructor=GenericL10n,(protoProps=[{key:"getLanguage",value:(_getLanguage=_asyncToGenerator(_regenerator.default.mark((function _callee(){return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._ready;case 2:return _context.abrupt("return",_context.sent.getLanguage());case 4:case"end":return _context.stop()}}),_callee,this)}))),function(){return _getLanguage.apply(this,arguments)})},{key:"getDirection",value:(_getDirection=_asyncToGenerator(_regenerator.default.mark((function _callee2(){return _regenerator.default.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._ready;case 2:return _context2.abrupt("return",_context2.sent.getDirection());case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function(){return _getDirection.apply(this,arguments)})},{key:"get",value:(_get=_asyncToGenerator(_regenerator.default.mark((function _callee3(property,args,fallback){return _regenerator.default.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._ready;case 2:return _context3.abrupt("return",_context3.sent.get(property,args,fallback));case 4:case"end":return _context3.stop()}}),_callee3,this)}))),function(_x,_x2,_x3){return _get.apply(this,arguments)})},{key:"translate",value:(_translate=_asyncToGenerator(_regenerator.default.mark((function _callee4(element){return _regenerator.default.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this._ready;case 2:return _context4.abrupt("return",_context4.sent.translate(element));case 4:case"end":return _context4.stop()}}),_callee4,this)}))),function(_x4){return _translate.apply(this,arguments)})}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(Constructor.prototype,protoProps),GenericL10n}()},function(module,exports,__w_pdfjs_require__){"use strict";document.webL10n=function(window,document,undefined){var gL10nData={},gTextData="",gTextProp="textContent",gLanguage="",gMacros={},gReadyState="loading";function xhrLoadText(url,onSuccess,onFailure){onSuccess=onSuccess||function(data){},onFailure=onFailure||function(){};var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.overrideMimeType&&xhr.overrideMimeType("text/plain; charset=utf-8"),xhr.onreadystatechange=function(){4==xhr.readyState&&(200==xhr.status||0===xhr.status?onSuccess(xhr.responseText):onFailure())},xhr.onerror=onFailure,xhr.ontimeout=onFailure;try{xhr.send(null)}catch(e){onFailure()}}function getL10nData(key,args,fallback){var data=gL10nData[key];if(!data){if(console.warn("#"+key+" is undefined."),!fallback)return null;data=fallback}var rv={};for(var prop in data){var str=data[prop];str=substArguments(str=substIndexes(str,args,key,prop),args,key),rv[prop]=str}return rv}function substIndexes(str,args,key,prop){var reMatch=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(str);if(!reMatch||!reMatch.length)return str;var param,macroName=reMatch[1],paramName=reMatch[2];return args&&paramName in args?param=args[paramName]:paramName in gL10nData&&(param=gL10nData[paramName]),macroName in gMacros&&(str=(0,gMacros[macroName])(str,param,key,prop)),str}function substArguments(str,args,key){return str.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(matched_text,arg){return args&&arg in args?args[arg]:arg in gL10nData?gL10nData[arg]:(console.log("argument {{"+arg+"}} for #"+key+" is undefined."),matched_text)}))}function translateElement(element){var l10n=function(element){if(!element)return{};var l10nId=element.getAttribute("data-l10n-id"),l10nArgs=element.getAttribute("data-l10n-args"),args={};if(l10nArgs)try{args=JSON.parse(l10nArgs)}catch(e){console.warn("could not parse arguments for #"+l10nId)}return{id:l10nId,args:args}}(element);if(l10n.id){var data=getL10nData(l10n.id,l10n.args);if(data){if(data[gTextProp]){if(0===function(element){if(element.children)return element.children.length;if(void 0!==element.childElementCount)return element.childElementCount;for(var count=0,i=0;i<element.childNodes.length;i++)count+=1===element.nodeType?1:0;return count}(element))element[gTextProp]=data[gTextProp];else{for(var children=element.childNodes,found=!1,i=0,l=children.length;i<l;i++)3===children[i].nodeType&&/\S/.test(children[i].nodeValue)&&(found?children[i].nodeValue="":(children[i].nodeValue=data[gTextProp],found=!0));if(!found){var textNode=document.createTextNode(data[gTextProp]);element.insertBefore(textNode,element.firstChild)}}delete data[gTextProp]}for(var k in data)element[k]=data[k]}else console.warn("#"+l10n.id+" is undefined.")}}return gMacros.plural=function(str,param,key,prop){var n=parseFloat(param);if(isNaN(n))return str;if(prop!=gTextProp)return str;gMacros._pluralRules||(gMacros._pluralRules=function(lang){function isIn(n,list){return-1!==list.indexOf(n)}function isBetween(n,start,end){return start<=n&&n<=end}var pluralRules={0:function(n){return"other"},1:function(n){return isBetween(n%100,3,10)?"few":0===n?"zero":isBetween(n%100,11,99)?"many":2==n?"two":1==n?"one":"other"},2:function(n){return 0!==n&&n%10==0?"many":2==n?"two":1==n?"one":"other"},3:function(n){return 1==n?"one":"other"},4:function(n){return isBetween(n,0,1)?"one":"other"},5:function(n){return isBetween(n,0,2)&&2!=n?"one":"other"},6:function(n){return 0===n?"zero":n%10==1&&n%100!=11?"one":"other"},7:function(n){return 2==n?"two":1==n?"one":"other"},8:function(n){return isBetween(n,3,6)?"few":isBetween(n,7,10)?"many":2==n?"two":1==n?"one":"other"},9:function(n){return 0===n||1!=n&&isBetween(n%100,1,19)?"few":1==n?"one":"other"},10:function(n){return isBetween(n%10,2,9)&&!isBetween(n%100,11,19)?"few":n%10!=1||isBetween(n%100,11,19)?"other":"one"},11:function(n){return isBetween(n%10,2,4)&&!isBetween(n%100,12,14)?"few":n%10==0||isBetween(n%10,5,9)||isBetween(n%100,11,14)?"many":n%10==1&&n%100!=11?"one":"other"},12:function(n){return isBetween(n,2,4)?"few":1==n?"one":"other"},13:function(n){return isBetween(n%10,2,4)&&!isBetween(n%100,12,14)?"few":1!=n&&isBetween(n%10,0,1)||isBetween(n%10,5,9)||isBetween(n%100,12,14)?"many":1==n?"one":"other"},14:function(n){return isBetween(n%100,3,4)?"few":n%100==2?"two":n%100==1?"one":"other"},15:function(n){return 0===n||isBetween(n%100,2,10)?"few":isBetween(n%100,11,19)?"many":1==n?"one":"other"},16:function(n){return n%10==1&&11!=n?"one":"other"},17:function(n){return 3==n?"few":0===n?"zero":6==n?"many":2==n?"two":1==n?"one":"other"},18:function(n){return 0===n?"zero":isBetween(n,0,2)&&0!==n&&2!=n?"one":"other"},19:function(n){return isBetween(n,2,10)?"few":isBetween(n,0,1)?"one":"other"},20:function(n){return!isBetween(n%10,3,4)&&n%10!=9||isBetween(n%100,10,19)||isBetween(n%100,70,79)||isBetween(n%100,90,99)?n%1e6==0&&0!==n?"many":n%10!=2||isIn(n%100,[12,72,92])?n%10!=1||isIn(n%100,[11,71,91])?"other":"one":"two":"few"},21:function(n){return 0===n?"zero":1==n?"one":"other"},22:function(n){return isBetween(n,0,1)||isBetween(n,11,99)?"one":"other"},23:function(n){return isBetween(n%10,1,2)||n%20==0?"one":"other"},24:function(n){return isBetween(n,3,10)||isBetween(n,13,19)?"few":isIn(n,[2,12])?"two":isIn(n,[1,11])?"one":"other"}},index={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[lang.replace(/-.*$/,"")];return index in pluralRules?pluralRules[index]:(console.warn("plural form unknown for ["+lang+"]"),function(){return"other"})}(gLanguage));var index="["+gMacros._pluralRules(n)+"]";return 0===n&&key+"[zero]"in gL10nData?str=gL10nData[key+"[zero]"][prop]:1==n&&key+"[one]"in gL10nData?str=gL10nData[key+"[one]"][prop]:2==n&&key+"[two]"in gL10nData?str=gL10nData[key+"[two]"][prop]:key+index in gL10nData?str=gL10nData[key+index][prop]:key+"[other]"in gL10nData&&(str=gL10nData[key+"[other]"][prop]),str},{get:function(key,args,fallbackString){var fallback,index=key.lastIndexOf("."),prop=gTextProp;index>0&&(prop=key.substring(index+1),key=key.substring(0,index)),fallbackString&&((fallback={})[prop]=fallbackString);var data=getL10nData(key,args,fallback);return data&&prop in data?data[prop]:"{{"+key+"}}"},getData:function(){return gL10nData},getText:function(){return gTextData},getLanguage:function(){return gLanguage},setLanguage:function(lang,callback){!function(lang,callback){lang&&(lang=lang.toLowerCase()),callback=callback||function(){},gL10nData={},gTextData="",gLanguage="",gLanguage=lang;var langLinks=document.querySelectorAll('link[type="application/l10n"]'),langCount=langLinks.length;if(0!==langCount){var script,onResourceLoaded,gResourceCount=0;onResourceLoaded=function(){++gResourceCount>=langCount&&(callback(),gReadyState="complete")};for(var i=0;i<langCount;i++)new L10nResourceLink(langLinks[i]).load(lang,onResourceLoaded)}else{var dict=(script=document.querySelector('script[type="application/l10n"]'))?JSON.parse(script.innerHTML):null;if(dict&&dict.locales&&dict.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(gL10nData=dict.locales[lang])){var defaultLocale=dict.default_locale.toLowerCase();for(var anyCaseLang in dict.locales){if((anyCaseLang=anyCaseLang.toLowerCase())===lang){gL10nData=dict.locales[lang];break}anyCaseLang===defaultLocale&&(gL10nData=dict.locales[defaultLocale])}}callback()}else console.log("no resource to load, early way out");gReadyState="complete"}function L10nResourceLink(link){var href=link.href;this.load=function(lang,callback){!function(href,lang,successCallback,failureCallback){var baseURL=href.replace(/[^\/]*$/,"")||"./";function evalString(text){return text.lastIndexOf("\\")<0?text:text.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}xhrLoadText(href,(function(response){gTextData+=response,function(text,parsedPropertiesCallback){var dictionary={},reBlank=/^\s*|\s*$/,reComment=/^\s*#|^\s*$/,reSection=/^\s*\[(.*)\]\s*$/,reImport=/^\s*@import\s+url\((.*)\)\s*$/i,reSplit=/^([^=\s]*)\s*=\s*(.+)$/;function parseRawLines(rawText,extendedSyntax,parsedRawLinesCallback){var entries=rawText.replace(reBlank,"").split(/[\r\n]+/),currentLang="*",genericLang=lang.split("-",1)[0],skipLang=!1,match="";!function nextEntry(){for(;;){if(!entries.length)return void parsedRawLinesCallback();var line=entries.shift();if(!reComment.test(line)){if(extendedSyntax){if(match=reSection.exec(line)){currentLang=match[1].toLowerCase(),skipLang="*"!==currentLang&&currentLang!==lang&&currentLang!==genericLang;continue}if(skipLang)continue;if(match=reImport.exec(line))return void loadImport(baseURL+match[1],nextEntry)}var tmp=line.match(reSplit);tmp&&3==tmp.length&&(dictionary[tmp[1]]=evalString(tmp[2]))}}}()}function loadImport(url,callback){xhrLoadText(url,(function(content){parseRawLines(content,!1,callback)}),(function(){console.warn(url+" not found."),callback()}))}parseRawLines(text,!0,(function(){!function(data){for(var key in data){var id,prop,index=key.lastIndexOf(".");index>0?(id=key.substring(0,index),prop=key.substring(index+1)):(id=key,prop=gTextProp),gL10nData[id]||(gL10nData[id]={}),gL10nData[id][prop]=data[key]}successCallback&&successCallback()}(dictionary)}))}(response)}),failureCallback)}(href,lang,callback,(function(){console.warn(href+" not found."),console.warn('"'+lang+'" resource not found'),gLanguage="",callback()}))}}}(lang,(function(){callback&&callback()}))},getDirection:function(){var shortCode=gLanguage.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(shortCode)>=0?"rtl":"ltr"},translate:function(element){for(var children=function(element){return element?element.querySelectorAll("*[data-l10n-id]"):[]}(element=element||document.documentElement),elementCount=children.length,i=0;i<elementCount;i++)translateElement(children[i]);translateElement(element)},getReadyState:function(){return gReadyState},ready:function(callback){callback&&("complete"==gReadyState||"interactive"==gReadyState?window.setTimeout((function(){callback()})):document.addEventListener&&document.addEventListener("localized",(function once(){document.removeEventListener("localized",once),callback()})))}}}(window,document)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFindController=exports.FindState=void 0;var _ui_utils=__w_pdfjs_require__(3),_pdfjsLib=__w_pdfjs_require__(2),_pdf_find_utils=__w_pdfjs_require__(13);var FindState={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};exports.FindState=FindState;var CHARACTERS_TO_NORMALIZE={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},normalizationRegex=null;function normalize(text){if(!normalizationRegex){var replace=Object.keys(CHARACTERS_TO_NORMALIZE).join("");normalizationRegex=new RegExp("[".concat(replace,"]"),"g")}return text.replace(normalizationRegex,(function(ch){return CHARACTERS_TO_NORMALIZE[ch]}))}exports.PDFFindController=function(){function PDFFindController(_ref){var linkService=_ref.linkService,_ref$eventBus=_ref.eventBus,eventBus=void 0===_ref$eventBus?(0,_ui_utils.getGlobalEventBus)():_ref$eventBus;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PDFFindController),this._linkService=linkService,this._eventBus=eventBus,this._reset(),eventBus.on("findbarclose",this._onFindBarClose.bind(this))}var protoProps;return(protoProps=[{key:"setDocument",value:function(pdfDocument){this._pdfDocument&&this._reset(),pdfDocument&&(this._pdfDocument=pdfDocument,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(cmd,state){var _this=this;if(state){var pdfDocument=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(cmd,state))&&(this._dirtyMatch=!0),this._state=state,"findhighlightallchange"!==cmd&&this._updateUIState(FindState.PENDING),this._firstPageCapability.promise.then((function(){if(_this._pdfDocument&&(!pdfDocument||_this._pdfDocument===pdfDocument)){_this._extractText();var findbarClosed=!_this._highlightMatches,pendingTimeout=!!_this._findTimeout;_this._findTimeout&&(clearTimeout(_this._findTimeout),_this._findTimeout=null),"find"===cmd?_this._findTimeout=setTimeout((function(){_this._nextMatch(),_this._findTimeout=null}),250):_this._dirtyMatch?_this._nextMatch():"findagain"===cmd?(_this._nextMatch(),findbarClosed&&_this._state.highlightAll&&_this._updateAllPages()):"findhighlightallchange"===cmd?(pendingTimeout?_this._nextMatch():_this._highlightMatches=!0,_this._updateAllPages()):_this._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function(_ref2){var _ref2$element=_ref2.element,element=void 0===_ref2$element?null:_ref2$element,_ref2$pageIndex=_ref2.pageIndex,pageIndex=void 0===_ref2$pageIndex?-1:_ref2$pageIndex,_ref2$matchIndex=_ref2.matchIndex,matchIndex=void 0===_ref2$matchIndex?-1:_ref2$matchIndex;this._scrollMatches&&element&&-1!==matchIndex&&matchIndex===this._selected.matchIdx&&-1!==pageIndex&&pageIndex===this._selected.pageIdx&&(this._scrollMatches=!1,(0,_ui_utils.scrollIntoView)(element,{top:-50,left:-400},!0))}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,_pdfjsLib.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(cmd,state){if(state.query!==this._state.query)return!0;switch(cmd){case"findagain":var pageNumber=this._selected.pageIdx+1,linkService=this._linkService;return pageNumber>=1&&pageNumber<=linkService.pagesCount&&pageNumber!==linkService.page&&!linkService.isPageVisible(pageNumber);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(matchesWithLength,matches,matchesLength){function isSubTerm(matchesWithLength,currentIndex){var currentElem=matchesWithLength[currentIndex];if(currentIndex<matchesWithLength.length-1&&currentElem.match===matchesWithLength[currentIndex+1].match)return currentElem.skipped=!0,!0;for(var i=currentIndex-1;i>=0;i--){var prevElem=matchesWithLength[i];if(!prevElem.skipped){if(prevElem.match+prevElem.matchLength<currentElem.match)break;if(prevElem.match+prevElem.matchLength>=currentElem.match+currentElem.matchLength)return currentElem.skipped=!0,!0}}return!1}matchesWithLength.sort((function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match}));for(var i=0,len=matchesWithLength.length;i<len;i++)isSubTerm(matchesWithLength,i)||(matches.push(matchesWithLength[i].match),matchesLength.push(matchesWithLength[i].matchLength))}},{key:"_isEntireWord",value:function(content,startIdx,length){if(startIdx>0){var first=content.charCodeAt(startIdx),limit=content.charCodeAt(startIdx-1);if((0,_pdf_find_utils.getCharacterType)(first)===(0,_pdf_find_utils.getCharacterType)(limit))return!1}var endIdx=startIdx+length-1;if(endIdx<content.length-1){var last=content.charCodeAt(endIdx),_limit=content.charCodeAt(endIdx+1);if((0,_pdf_find_utils.getCharacterType)(last)===(0,_pdf_find_utils.getCharacterType)(_limit))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(query,pageIndex,pageContent,entireWord){for(var matches=[],queryLen=query.length,matchIdx=-queryLen;-1!==(matchIdx=pageContent.indexOf(query,matchIdx+queryLen));)entireWord&&!this._isEntireWord(pageContent,matchIdx,queryLen)||matches.push(matchIdx);this._pageMatches[pageIndex]=matches}},{key:"_calculateWordMatch",value:function(query,pageIndex,pageContent,entireWord){for(var matchesWithLength=[],queryArray=query.match(/\S+/g),i=0,len=queryArray.length;i<len;i++)for(var subquery=queryArray[i],subqueryLen=subquery.length,matchIdx=-subqueryLen;-1!==(matchIdx=pageContent.indexOf(subquery,matchIdx+subqueryLen));)entireWord&&!this._isEntireWord(pageContent,matchIdx,subqueryLen)||matchesWithLength.push({match:matchIdx,matchLength:subqueryLen,skipped:!1});this._pageMatchesLength[pageIndex]=[],this._pageMatches[pageIndex]=[],this._prepareMatches(matchesWithLength,this._pageMatches[pageIndex],this._pageMatchesLength[pageIndex])}},{key:"_calculateMatch",value:function(pageIndex){var pageContent=this._pageContents[pageIndex],query=this._query,_this$_state=this._state,entireWord=_this$_state.entireWord,phraseSearch=_this$_state.phraseSearch;if(0!==query.length){_this$_state.caseSensitive||(pageContent=pageContent.toLowerCase(),query=query.toLowerCase()),phraseSearch?this._calculatePhraseMatch(query,pageIndex,pageContent,entireWord):this._calculateWordMatch(query,pageIndex,pageContent,entireWord),this._state.highlightAll&&this._updatePage(pageIndex),this._resumePageIdx===pageIndex&&(this._resumePageIdx=null,this._nextPageMatch());var pageMatchesCount=this._pageMatches[pageIndex].length;pageMatchesCount>0&&(this._matchesCountTotal+=pageMatchesCount,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var _this2=this;if(!(this._extractTextPromises.length>0))for(var promise=Promise.resolve(),_loop=function(i,ii){var extractTextCapability=(0,_pdfjsLib.createPromiseCapability)();_this2._extractTextPromises[i]=extractTextCapability.promise,promise=promise.then((function(){return _this2._pdfDocument.getPage(i+1).then((function(pdfPage){return pdfPage.getTextContent({normalizeWhitespace:!0})})).then((function(textContent){for(var textItems=textContent.items,strBuf=[],j=0,jj=textItems.length;j<jj;j++)strBuf.push(textItems[j].str);_this2._pageContents[i]=normalize(strBuf.join("")),extractTextCapability.resolve(i)}),(function(reason){console.error("Unable to get text content for page ".concat(i+1),reason),_this2._pageContents[i]="",extractTextCapability.resolve(i)}))}))},i=0,ii=this._linkService.pagesCount;i<ii;i++)_loop(i)}},{key:"_updatePage",value:function(index){this._scrollMatches&&this._selected.pageIdx===index&&(this._linkService.page=index+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:index})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var _this3=this,previous=this._state.findPrevious,currentPageIndex=this._linkService.page-1,numPages=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=currentPageIndex,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<numPages;i++)!0!==this._pendingFindMatches[i]&&(this._pendingFindMatches[i]=!0,this._extractTextPromises[i].then((function(pageIdx){delete _this3._pendingFindMatches[pageIdx],_this3._calculateMatch(pageIdx)})))}if(""!==this._query){if(!this._resumePageIdx){var offset=this._offset;if(this._pagesToSearch=numPages,null!==offset.matchIdx){if(!previous&&offset.matchIdx+1<this._pageMatches[offset.pageIdx].length||previous&&offset.matchIdx>0)return offset.matchIdx=previous?offset.matchIdx-1:offset.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(previous)}this._nextPageMatch()}}else this._updateUIState(FindState.FOUND)}},{key:"_matchesReady",value:function(matches){var offset=this._offset,numMatches=matches.length,previous=this._state.findPrevious;return numMatches?(offset.matchIdx=previous?numMatches-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(previous),!!(offset.wrapped&&(offset.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var matches=null;do{var pageIdx=this._offset.pageIdx;if(!(matches=this._pageMatches[pageIdx])){this._resumePageIdx=pageIdx;break}}while(!this._matchesReady(matches))}},{key:"_advanceOffsetPage",value:function(previous){var offset=this._offset,numPages=this._linkService.pagesCount;offset.pageIdx=previous?offset.pageIdx-1:offset.pageIdx+1,offset.matchIdx=null,this._pagesToSearch--,(offset.pageIdx>=numPages||offset.pageIdx<0)&&(offset.pageIdx=previous?numPages-1:0,offset.wrapped=!0)}},{key:"_updateMatch",value:function(){var found=arguments.length>0&&void 0!==arguments[0]&&arguments[0],state=FindState.NOT_FOUND,wrapped=this._offset.wrapped;if(this._offset.wrapped=!1,found){var previousPage=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,state=wrapped?FindState.WRAPPED:FindState.FOUND,-1!==previousPage&&previousPage!==this._selected.pageIdx&&this._updatePage(previousPage)}this._updateUIState(state,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(evt){var _this4=this,pdfDocument=this._pdfDocument;this._firstPageCapability.promise.then((function(){!_this4._pdfDocument||pdfDocument&&_this4._pdfDocument!==pdfDocument||(_this4._findTimeout&&(clearTimeout(_this4._findTimeout),_this4._findTimeout=null),_this4._resumePageIdx&&(_this4._resumePageIdx=null,_this4._dirtyMatch=!0),_this4._updateUIState(FindState.FOUND),_this4._highlightMatches=!1,_this4._updateAllPages())}))}},{key:"_requestMatchesCount",value:function(){var _this$_selected=this._selected,pageIdx=_this$_selected.pageIdx,matchIdx=_this$_selected.matchIdx,current=0,total=this._matchesCountTotal;if(-1!==matchIdx){for(var i=0;i<pageIdx;i++)current+=this._pageMatches[i]&&this._pageMatches[i].length||0;current+=matchIdx+1}return(current<1||current>total)&&(current=total=0),{current:current,total:total}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(state,previous){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:state,previous:previous,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=normalize(this._state.query)),this._normalizedQuery}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(PDFFindController.prototype,protoProps),PDFFindController}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCharacterType=function(charCode){return function(charCode){return charCode<11904}(charCode)?function(charCode){return 0==(65408&charCode)}(charCode)?function(charCode){return 32===charCode||9===charCode||13===charCode||10===charCode}(charCode)?CharacterType.SPACE:function(charCode){return charCode>=97&&charCode<=122||charCode>=65&&charCode<=90}(charCode)||function(charCode){return charCode>=48&&charCode<=57}(charCode)||95===charCode?CharacterType.ALPHA_LETTER:CharacterType.PUNCT:function(charCode){return 3584==(65408&charCode)}(charCode)?CharacterType.THAI_LETTER:160===charCode?CharacterType.SPACE:CharacterType.ALPHA_LETTER:function(charCode){return charCode>=13312&&charCode<=40959||charCode>=63744&&charCode<=64255}(charCode)?CharacterType.HAN_LETTER:function(charCode){return charCode>=12448&&charCode<=12543}(charCode)?CharacterType.KATAKANA_LETTER:function(charCode){return charCode>=12352&&charCode<=12447}(charCode)?CharacterType.HIRAGANA_LETTER:function(charCode){return charCode>=65376&&charCode<=65439}(charCode)?CharacterType.HALFWIDTH_KATAKANA_LETTER:CharacterType.ALPHA_LETTER},exports.CharacterType=void 0;var CharacterType={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};exports.CharacterType=CharacterType},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDestHashesEqual=isDestHashesEqual,exports.isDestArraysEqual=isDestArraysEqual,exports.PDFHistory=void 0;var _ui_utils=__w_pdfjs_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function getCurrentHash(){return document.location.hash}function parseCurrentHash(linkService){var hash=unescape(getCurrentHash()).substring(1),page=0|(0,_ui_utils.parseQueryString)(hash).page;return Number.isInteger(page)&&page>0&&page<=linkService.pagesCount||(page=null),{hash:hash,page:page,rotation:linkService.rotation}}function isDestHashesEqual(destHash,pushHash){return"string"==typeof destHash&&"string"==typeof pushHash&&(destHash===pushHash||(0,_ui_utils.parseQueryString)(destHash).nameddest===pushHash)}function isDestArraysEqual(firstDest,secondDest){function isEntryEqual(first,second){if(_typeof(first)!==_typeof(second))return!1;if(Array.isArray(first)||Array.isArray(second))return!1;if(null!==first&&"object"===_typeof(first)&&null!==second){if(Object.keys(first).length!==Object.keys(second).length)return!1;for(var key in first)if(!isEntryEqual(first[key],second[key]))return!1;return!0}return first===second||Number.isNaN(first)&&Number.isNaN(second)}if(!Array.isArray(firstDest)||!Array.isArray(secondDest))return!1;if(firstDest.length!==secondDest.length)return!1;for(var i=0,ii=firstDest.length;i<ii;i++)if(!isEntryEqual(firstDest[i],secondDest[i]))return!1;return!0}exports.PDFHistory=function(){function PDFHistory(_ref){var _this=this,linkService=_ref.linkService,eventBus=_ref.eventBus;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PDFHistory),this.linkService=linkService,this.eventBus=eventBus||(0,_ui_utils.getGlobalEventBus)(),this.initialized=!1,this.initialBookmark=null,this.initialRotation=null,this._boundEvents=Object.create(null),this._isViewerInPresentationMode=!1,this._isPagesLoaded=!1,this.eventBus.on("presentationmodechanged",(function(evt){_this._isViewerInPresentationMode=evt.active||evt.switchInProgress})),this.eventBus.on("pagesloaded",(function(evt){_this._isPagesLoaded=!!evt.pagesCount}))}var protoProps;return(protoProps=[{key:"initialize",value:function(_ref2){var fingerprint=_ref2.fingerprint,_ref2$resetHistory=_ref2.resetHistory,resetHistory=void 0!==_ref2$resetHistory&&_ref2$resetHistory,_ref2$updateUrl=_ref2.updateUrl,updateUrl=void 0!==_ref2$updateUrl&&_ref2$updateUrl;if(fingerprint&&"string"==typeof fingerprint){var reInitialized=this.initialized&&this.fingerprint!==fingerprint;this.fingerprint=fingerprint,this._updateUrl=!0===updateUrl,this.initialized||this._bindEvents();var state=window.history.state;if(this.initialized=!0,this.initialBookmark=null,this.initialRotation=null,this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=getCurrentHash(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(state,!0)||resetHistory){var _parseCurrentHash=parseCurrentHash(this.linkService),hash=_parseCurrentHash.hash,page=_parseCurrentHash.page,rotation=_parseCurrentHash.rotation;return!hash||reInitialized||resetHistory?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:hash,page:page,rotation:rotation},!0)}var destination=state.destination;this._updateInternalState(destination,state.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==destination.rotation&&(this.initialRotation=destination.rotation),destination.dest?(this.initialBookmark=JSON.stringify(destination.dest),this._destination.page=null):destination.hash?this.initialBookmark=destination.hash:destination.page&&(this.initialBookmark="page=".concat(destination.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"push",value:function(_ref3){var _this2=this,_ref3$namedDest=_ref3.namedDest,namedDest=void 0===_ref3$namedDest?null:_ref3$namedDest,explicitDest=_ref3.explicitDest,pageNumber=_ref3.pageNumber;if(this.initialized)if(namedDest&&"string"!=typeof namedDest)console.error("PDFHistory.push: "+'"'.concat(namedDest,'" is not a valid namedDest parameter.'));else if(Array.isArray(explicitDest))if(Number.isInteger(pageNumber)&&pageNumber>0&&pageNumber<=this.linkService.pagesCount||null===pageNumber&&!this._destination){var hash=namedDest||JSON.stringify(explicitDest);if(hash){var forceReplace=!1;if(this._destination&&(isDestHashesEqual(this._destination.hash,hash)||isDestArraysEqual(this._destination.dest,explicitDest))){if(this._destination.page)return;forceReplace=!0}this._popStateInProgress&&!forceReplace||(this._pushOrReplaceState({dest:explicitDest,hash:hash,page:pageNumber,rotation:this.linkService.rotation},forceReplace),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){_this2._popStateInProgress=!1}))))}}else console.error("PDFHistory.push: "+'"'.concat(pageNumber,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(explicitDest,'" is not a valid explicitDest parameter.'))}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var state=window.history.state;this._isValidState(state)&&state.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var state=window.history.state;this._isValidState(state)&&state.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(destination){var newUrl,forceReplace=arguments.length>1&&void 0!==arguments[1]&&arguments[1],shouldReplace=forceReplace||!this._destination,newState={fingerprint:this.fingerprint,uid:shouldReplace?this._uid:this._uid+1,destination:destination};if(this._updateInternalState(destination,newState.uid),this._updateUrl&&destination&&destination.hash){var baseUrl=document.location.href.split("#")[0];baseUrl.startsWith("file://")||(newUrl="".concat(baseUrl,"#").concat(destination.hash))}shouldReplace?newUrl?window.history.replaceState(newState,"",newUrl):window.history.replaceState(newState,""):(this._maxUid=this._uid,newUrl?window.history.pushState(newState,"",newUrl):window.history.pushState(newState,""))}},{key:"_tryPushCurrentPosition",value:function(){var temporary=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var position=this._position;if(temporary&&((position=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(position,!0);else if(this._destination.hash!==position.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var forceReplace=!1;if(this._destination.page>=position.first&&this._destination.page<=position.page){if(this._destination.dest||!this._destination.first)return;forceReplace=!0}this._pushOrReplaceState(position,forceReplace)}}else this._pushOrReplaceState(position)}}},{key:"_isValidState",value:function(state){var checkReload=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!state)return!1;if(state.fingerprint!==this.fingerprint){if(!checkReload)return!1;if("string"!=typeof state.fingerprint||state.fingerprint.length!==this.fingerprint.length)return!1;var _performance$getEntri=performance.getEntriesByType("navigation"),_performance$getEntri2=_slicedToArray(_performance$getEntri,1),perfEntry=_performance$getEntri2[0];if(!perfEntry||"reload"!==perfEntry.type)return!1}return!(!Number.isInteger(state.uid)||state.uid<0)&&null!==state.destination&&"object"===_typeof(state.destination)}},{key:"_updateInternalState",value:function(destination,uid){var removeTemporary=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),removeTemporary&&destination&&destination.temporary&&delete destination.temporary,this._destination=destination,this._uid=uid,this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(_ref4){var _this3=this,location=_ref4.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(location.pageNumber):location.pdfOpenParams.substring(1),page:this.linkService.page,first:location.pageNumber,rotation:location.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout((function(){_this3._popStateInProgress||_this3._tryPushCurrentPosition(!0),_this3._updateViewareaTimeout=null}),1e3))}},{key:"_popState",value:function(_ref5){var _this4=this,state=_ref5.state,newHash=getCurrentHash(),hashChanged=this._currentHash!==newHash;if(this._currentHash=newHash,state){if(this._isValidState(state)){this._popStateInProgress=!0,hashChanged&&(this._blockHashChange++,(0,_ui_utils.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((function(){_this4._blockHashChange--})));var destination=state.destination;this._updateInternalState(destination,state.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,_ui_utils.isValidRotation)(destination.rotation)&&(this.linkService.rotation=destination.rotation),destination.dest?this.linkService.navigateTo(destination.dest):destination.hash?this.linkService.setHash(destination.hash):destination.page&&(this.linkService.page=destination.page),Promise.resolve().then((function(){_this4._popStateInProgress=!1}))}}else{this._uid++;var _parseCurrentHash2=parseCurrentHash(this.linkService);this._pushOrReplaceState({hash:_parseCurrentHash2.hash,page:_parseCurrentHash2.page,rotation:_parseCurrentHash2.rotation},!0)}}},{key:"_bindEvents",value:function(){var _this5=this,_boundEvents=this._boundEvents,eventBus=this.eventBus;_boundEvents.updateViewarea=this._updateViewarea.bind(this),_boundEvents.popState=this._popState.bind(this),_boundEvents.pageHide=function(evt){_this5._destination&&!_this5._destination.temporary||_this5._tryPushCurrentPosition()},eventBus.on("updateviewarea",_boundEvents.updateViewarea),window.addEventListener("popstate",_boundEvents.popState),window.addEventListener("pagehide",_boundEvents.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||this._blockHashChange>0)}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(PDFHistory.prototype,protoProps),PDFHistory}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFPageView=void 0;var obj,_regenerator=(obj=__w_pdfjs_require__(4))&&obj.__esModule?obj:{default:obj},_ui_utils=__w_pdfjs_require__(3),_pdfjsLib=__w_pdfjs_require__(2),_pdf_rendering_queue=__w_pdfjs_require__(16);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var MAX_CANVAS_PIXELS=__w_pdfjs_require__(17).viewerCompatibilityParams.maxCanvasPixels||16777216;exports.PDFPageView=function(){function PDFPageView(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PDFPageView);var container=options.container,defaultViewport=options.defaultViewport;this.id=options.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=options.scale||_ui_utils.DEFAULT_SCALE,this.viewport=defaultViewport,this.pdfPageRotate=defaultViewport.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(options.textLayerMode)?options.textLayerMode:_ui_utils.TextLayerMode.ENABLE,this.imageResourcesPath=options.imageResourcesPath||"",this.renderInteractiveForms=options.renderInteractiveForms||!1,this.useOnlyCssZoom=options.useOnlyCssZoom||!1,this.maxCanvasPixels=options.maxCanvasPixels||MAX_CANVAS_PIXELS,this.eventBus=options.eventBus||(0,_ui_utils.getGlobalEventBus)(),this.renderingQueue=options.renderingQueue,this.textLayerFactory=options.textLayerFactory,this.annotationLayerFactory=options.annotationLayerFactory,this.renderer=options.renderer||_ui_utils.RendererType.CANVAS,this.enableWebGL=options.enableWebGL||!1,this.l10n=options.l10n||_ui_utils.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=_pdf_rendering_queue.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var div=document.createElement("div");div.className="page",div.style.width=Math.floor(this.viewport.width)+"px",div.style.height=Math.floor(this.viewport.height)+"px",div.setAttribute("data-page-number",this.id),this.div=div,container.appendChild(div)}var protoProps;return(protoProps=[{key:"setPdfPage",value:function(pdfPage){this.pdfPage=pdfPage,this.pdfPageRotate=pdfPage.rotate,this.viewport=pdfPage.getViewport({scale:this.scale*_ui_utils.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=pdfPage.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var removeFromDOM=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var zoomLayerCanvas=this.zoomLayer.firstChild;this.paintedViewportMap.delete(zoomLayerCanvas),zoomLayerCanvas.width=0,zoomLayerCanvas.height=0,removeFromDOM&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var keepZoomLayer=arguments.length>0&&void 0!==arguments[0]&&arguments[0],keepAnnotations=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(keepAnnotations),this.renderingState=_pdf_rendering_queue.RenderingStates.INITIAL;var div=this.div;div.style.width=Math.floor(this.viewport.width)+"px",div.style.height=Math.floor(this.viewport.height)+"px";for(var childNodes=div.childNodes,currentZoomLayerNode=keepZoomLayer&&this.zoomLayer||null,currentAnnotationNode=keepAnnotations&&this.annotationLayer&&this.annotationLayer.div||null,i=childNodes.length-1;i>=0;i--){var node=childNodes[i];currentZoomLayerNode!==node&&currentAnnotationNode!==node&&div.removeChild(node)}div.removeAttribute("data-loaded"),currentAnnotationNode?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),currentZoomLayerNode||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",div.appendChild(this.loadingIconDiv)}},{key:"update",value:function(scale,rotation){if(this.scale=scale||this.scale,void 0!==rotation&&(this.rotation=rotation),this.viewport=this.viewport.clone({scale:this.scale*_ui_utils.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var isScalingRestricted=!1;if(this.canvas&&this.maxCanvasPixels>0){var outputScale=this.outputScale;(Math.floor(this.viewport.width)*outputScale.sx|0)*(Math.floor(this.viewport.height)*outputScale.sy|0)>this.maxCanvasPixels&&(isScalingRestricted=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&isScalingRestricted)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var keepAnnotations=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!keepAnnotations&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(target){var redrawAnnotations=arguments.length>1&&void 0!==arguments[1]&&arguments[1],width=this.viewport.width,height=this.viewport.height,div=this.div;target.style.width=target.parentNode.style.width=div.style.width=Math.floor(width)+"px",target.style.height=target.parentNode.style.height=div.style.height=Math.floor(height)+"px";var relativeRotation=this.viewport.rotation-this.paintedViewportMap.get(target).rotation,absRotation=Math.abs(relativeRotation),scaleX=1,scaleY=1;90!==absRotation&&270!==absRotation||(scaleX=height/width,scaleY=width/height);var cssTransform="rotate("+relativeRotation+"deg) scale("+scaleX+","+scaleY+")";if(target.style.transform=cssTransform,this.textLayer){var textLayerViewport=this.textLayer.viewport,textRelativeRotation=this.viewport.rotation-textLayerViewport.rotation,textAbsRotation=Math.abs(textRelativeRotation),scale=width/textLayerViewport.width;90!==textAbsRotation&&270!==textAbsRotation||(scale=width/textLayerViewport.height);var transX,transY,textLayerDiv=this.textLayer.textLayerDiv;switch(textAbsRotation){case 0:transX=transY=0;break;case 90:transX=0,transY="-"+textLayerDiv.style.height;break;case 180:transX="-"+textLayerDiv.style.width,transY="-"+textLayerDiv.style.height;break;case 270:transX="-"+textLayerDiv.style.width,transY=0;break;default:console.error("Bad rotation value.")}textLayerDiv.style.transform="rotate("+textAbsRotation+"deg) scale("+scale+", "+scale+") translate("+transX+", "+transY+")",textLayerDiv.style.transformOrigin="0% 0%"}redrawAnnotations&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(x,y){return this.viewport.convertToPdfPoint(x,y)}},{key:"draw",value:function(){var _this=this;if(this.renderingState!==_pdf_rendering_queue.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset()),!this.pdfPage)return this.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED,Promise.reject(new Error("Page is not loaded"));this.renderingState=_pdf_rendering_queue.RenderingStates.RUNNING;var pdfPage=this.pdfPage,div=this.div,canvasWrapper=document.createElement("div");canvasWrapper.style.width=div.style.width,canvasWrapper.style.height=div.style.height,canvasWrapper.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?div.insertBefore(canvasWrapper,this.annotationLayer.div):div.appendChild(canvasWrapper);var textLayer=null;if(this.textLayerMode!==_ui_utils.TextLayerMode.DISABLE&&this.textLayerFactory){var textLayerDiv=document.createElement("div");textLayerDiv.className="textLayer",textLayerDiv.style.width=canvasWrapper.style.width,textLayerDiv.style.height=canvasWrapper.style.height,this.annotationLayer&&this.annotationLayer.div?div.insertBefore(textLayerDiv,this.annotationLayer.div):div.appendChild(textLayerDiv),textLayer=this.textLayerFactory.createTextLayerBuilder(textLayerDiv,this.id-1,this.viewport,this.textLayerMode===_ui_utils.TextLayerMode.ENABLE_ENHANCE)}this.textLayer=textLayer;var renderContinueCallback=null;this.renderingQueue&&(renderContinueCallback=function(cont){if(!_this.renderingQueue.isHighestPriority(_this))return _this.renderingState=_pdf_rendering_queue.RenderingStates.PAUSED,void(_this.resume=function(){_this.renderingState=_pdf_rendering_queue.RenderingStates.RUNNING,cont()});cont()});var finishPaintTask=function(){var fn,_ref=(fn=_regenerator.default.mark((function _callee(error){return _regenerator.default.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(paintTask===_this.paintTask&&(_this.paintTask=null),!(error instanceof _pdfjsLib.RenderingCancelledException)){_context.next=4;break}return _this.error=null,_context.abrupt("return");case 4:if(_this.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED,_this.loadingIconDiv&&(div.removeChild(_this.loadingIconDiv),delete _this.loadingIconDiv),_this._resetZoomLayer(!0),_this.error=error,_this.stats=pdfPage.stats,_this.eventBus.dispatch("pagerendered",{source:_this,pageNumber:_this.id,cssTransform:!1,timestamp:performance.now()}),!error){_context.next=12;break}throw error;case 12:case"end":return _context.stop()}}),_callee)})),function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))});return function(_x){return _ref.apply(this,arguments)}}(),paintTask=this.renderer===_ui_utils.RendererType.SVG?this.paintOnSvg(canvasWrapper):this.paintOnCanvas(canvasWrapper);paintTask.onRenderContinue=renderContinueCallback,this.paintTask=paintTask;var resultPromise=paintTask.promise.then((function(){return finishPaintTask(null).then((function(){if(textLayer){var readableStream=pdfPage.streamTextContent({normalizeWhitespace:!0});textLayer.setTextContentStream(readableStream),textLayer.render()}}))}),(function(reason){return finishPaintTask(reason)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(div,pdfPage,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),div.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),resultPromise}},{key:"paintOnCanvas",value:function(canvasWrapper){var renderCapability=(0,_pdfjsLib.createPromiseCapability)(),result={promise:renderCapability.promise,onRenderContinue:function(cont){cont()},cancel:function(){renderTask.cancel()}},viewport=this.viewport,canvas=document.createElement("canvas");canvas.id=this.renderingId,canvas.setAttribute("hidden","hidden");var isCanvasHidden=!0,showCanvas=function(){isCanvasHidden&&(canvas.removeAttribute("hidden"),isCanvasHidden=!1)};canvasWrapper.appendChild(canvas),this.canvas=canvas,canvas.mozOpaque=!0;var ctx=canvas.getContext("2d",{alpha:!1}),outputScale=(0,_ui_utils.getOutputScale)(ctx);if(this.outputScale=outputScale,this.useOnlyCssZoom){var actualSizeViewport=viewport.clone({scale:_ui_utils.CSS_UNITS});outputScale.sx*=actualSizeViewport.width/viewport.width,outputScale.sy*=actualSizeViewport.height/viewport.height,outputScale.scaled=!0}if(this.maxCanvasPixels>0){var maxScale=Math.sqrt(this.maxCanvasPixels/(viewport.width*viewport.height));outputScale.sx>maxScale||outputScale.sy>maxScale?(outputScale.sx=maxScale,outputScale.sy=maxScale,outputScale.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var sfx=(0,_ui_utils.approximateFraction)(outputScale.sx),sfy=(0,_ui_utils.approximateFraction)(outputScale.sy);canvas.width=(0,_ui_utils.roundToDivide)(viewport.width*outputScale.sx,sfx[0]),canvas.height=(0,_ui_utils.roundToDivide)(viewport.height*outputScale.sy,sfy[0]),canvas.style.width=(0,_ui_utils.roundToDivide)(viewport.width,sfx[1])+"px",canvas.style.height=(0,_ui_utils.roundToDivide)(viewport.height,sfy[1])+"px",this.paintedViewportMap.set(canvas,viewport);var renderTask=this.pdfPage.render({canvasContext:ctx,transform:outputScale.scaled?[outputScale.sx,0,0,outputScale.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return renderTask.onContinue=function(cont){showCanvas(),result.onRenderContinue?result.onRenderContinue(cont):cont()},renderTask.promise.then((function(){showCanvas(),renderCapability.resolve(void 0)}),(function(error){showCanvas(),renderCapability.reject(error)})),result}},{key:"paintOnSvg",value:function(wrapper){var _this2=this,cancelled=!1,ensureNotCancelled=function(){if(cancelled)throw new _pdfjsLib.RenderingCancelledException("Rendering cancelled, page "+_this2.id,"svg")},pdfPage=this.pdfPage,actualSizeViewport=this.viewport.clone({scale:_ui_utils.CSS_UNITS});return{promise:pdfPage.getOperatorList().then((function(opList){return ensureNotCancelled(),new _pdfjsLib.SVGGraphics(pdfPage.commonObjs,pdfPage.objs).getSVG(opList,actualSizeViewport).then((function(svg){ensureNotCancelled(),_this2.svg=svg,_this2.paintedViewportMap.set(svg,actualSizeViewport),svg.style.width=wrapper.style.width,svg.style.height=wrapper.style.height,_this2.renderingState=_pdf_rendering_queue.RenderingStates.FINISHED,wrapper.appendChild(svg)}))})),onRenderContinue:function(cont){cont()},cancel:function(){cancelled=!0}}}},{key:"setPageLabel",value:function(label){this.pageLabel="string"==typeof label?label:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(PDFPageView.prototype,protoProps),PDFPageView}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFRenderingQueue=exports.RenderingStates=void 0;var RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};exports.RenderingStates=RenderingStates,exports.PDFRenderingQueue=function(){function PDFRenderingQueue(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PDFRenderingQueue),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var protoProps;return(protoProps=[{key:"setViewer",value:function(pdfViewer){this.pdfViewer=pdfViewer}},{key:"setThumbnailViewer",value:function(pdfThumbnailViewer){this.pdfThumbnailViewer=pdfThumbnailViewer}},{key:"isHighestPriority",value:function(view){return this.highestPriorityPage===view.renderingId}},{key:"renderHighestPriority",value:function(currentlyVisiblePages){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(currentlyVisiblePages)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(visible,views,scrolledDown){var visibleViews=visible.views,numVisible=visibleViews.length;if(0===numVisible)return null;for(var i=0;i<numVisible;++i){var view=visibleViews[i].view;if(!this.isViewFinished(view))return view}if(scrolledDown){var nextPageIndex=visible.last.id;if(views[nextPageIndex]&&!this.isViewFinished(views[nextPageIndex]))return views[nextPageIndex]}else{var previousPageIndex=visible.first.id-2;if(views[previousPageIndex]&&!this.isViewFinished(views[previousPageIndex]))return views[previousPageIndex]}return null}},{key:"isViewFinished",value:function(view){return view.renderingState===RenderingStates.FINISHED}},{key:"renderView",value:function(view){var _this=this;switch(view.renderingState){case RenderingStates.FINISHED:return!1;case RenderingStates.PAUSED:this.highestPriorityPage=view.renderingId,view.resume();break;case RenderingStates.RUNNING:this.highestPriorityPage=view.renderingId;break;case RenderingStates.INITIAL:this.highestPriorityPage=view.renderingId,view.draw().finally((function(){_this.renderHighestPriority()}))}return!0}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(PDFRenderingQueue.prototype,protoProps),PDFRenderingQueue}()},function(module,exports,__w_pdfjs_require__){"use strict";var compatibilityParams=Object.create(null),userAgent="undefined"!=typeof navigator&&navigator.userAgent||"",isAndroid=/Android/.test(userAgent);(/\b(iPad|iPhone|iPod)(?=;)/.test(userAgent)||isAndroid)&&(compatibilityParams.maxCanvasPixels=5242880),exports.viewerCompatibilityParams=Object.freeze(compatibilityParams)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFSinglePageViewer=void 0;var _base_viewer=__w_pdfjs_require__(19),_pdfjsLib=__w_pdfjs_require__(2);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}exports.PDFSinglePageViewer=function(_BaseViewer){function PDFSinglePageViewer(options){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PDFSinglePageViewer),(_this=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(PDFSinglePageViewer).call(this,options))).eventBus.on("pagesinit",(function(evt){_this._ensurePageViewVisible()})),_this}var protoProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PDFSinglePageViewer,_BaseViewer),(protoProps=[{key:"_resetView",value:function(){_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var pageView=this._pages[this._currentPageNumber-1],previousPageView=this._pages[this._previousPageNumber-1],viewerNodes=this.viewer.childNodes;switch(viewerNodes.length){case 0:this.viewer.appendChild(pageView.div);break;case 1:if(viewerNodes[0]!==previousPageView.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(pageView===previousPageView)break;this._shadowViewer.appendChild(previousPageView.div),this.viewer.appendChild(pageView.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(_ref){var _this2=this,pageDiv=_ref.pageDiv,_ref$pageSpot=_ref.pageSpot,pageSpot=void 0===_ref$pageSpot?null:_ref$pageSpot,_ref$pageNumber=_ref.pageNumber,pageNumber=void 0===_ref$pageNumber?null:_ref$pageNumber;pageNumber&&this._setCurrentPageNumber(pageNumber);var scrolledDown=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:pageDiv,pageSpot:pageSpot,pageNumber:pageNumber}),this._updateScrollDown=function(){_this2.scroll.down=scrolledDown,_this2._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(visiblePages){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_setDocumentViewerElement",get:function(){return(0,_pdfjsLib.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,_pdfjsLib.shadow)(this,"_isScrollModeHorizontal",!1)}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(PDFSinglePageViewer.prototype,protoProps),PDFSinglePageViewer}(_base_viewer.BaseViewer)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseViewer=void 0;var _ui_utils=__w_pdfjs_require__(3),_pdf_rendering_queue=__w_pdfjs_require__(16),_annotation_layer_builder=__w_pdfjs_require__(1),_pdfjsLib=__w_pdfjs_require__(2),_pdf_page_view=__w_pdfjs_require__(15),_pdf_link_service=__w_pdfjs_require__(7),_text_layer_builder=__w_pdfjs_require__(8);function PDFPageViewBuffer(size){var data=[];this.push=function(view){var i=data.indexOf(view);i>=0&&data.splice(i,1),data.push(view),data.length>size&&data.shift().destroy()},this.resize=function(newSize,pagesToKeep){if(size=newSize,pagesToKeep){for(var pageIdsToKeep=new Set,i=0,iMax=pagesToKeep.length;i<iMax;++i)pageIdsToKeep.add(pagesToKeep[i].id);(0,_ui_utils.moveToEndOfArray)(data,(function(page){return pageIdsToKeep.has(page.id)}))}for(;data.length>size;)data.shift().destroy()}}function isSameScale(oldScale,newScale){return newScale===oldScale||Math.abs(newScale-oldScale)<1e-15}exports.BaseViewer=function(){function BaseViewer(options){var _this=this;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseViewer),this.constructor===BaseViewer)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=options.container,this.viewer=options.viewer||options.container.firstElementChild,this.eventBus=options.eventBus||(0,_ui_utils.getGlobalEventBus)(),this.linkService=options.linkService||new _pdf_link_service.SimpleLinkService,this.downloadManager=options.downloadManager||null,this.findController=options.findController||null,this.removePageBorders=options.removePageBorders||!1,this.textLayerMode=Number.isInteger(options.textLayerMode)?options.textLayerMode:_ui_utils.TextLayerMode.ENABLE,this.imageResourcesPath=options.imageResourcesPath||"",this.renderInteractiveForms=options.renderInteractiveForms||!1,this.enablePrintAutoRotate=options.enablePrintAutoRotate||!1,this.renderer=options.renderer||_ui_utils.RendererType.CANVAS,this.enableWebGL=options.enableWebGL||!1,this.useOnlyCssZoom=options.useOnlyCssZoom||!1,this.maxCanvasPixels=options.maxCanvasPixels,this.l10n=options.l10n||_ui_utils.NullL10n,this.defaultRenderingQueue=!options.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new _pdf_rendering_queue.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=options.renderingQueue,this.scroll=(0,_ui_utils.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=_ui_utils.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then((function(){_this.eventBus.dispatch("baseviewerinit",{source:_this})}))}var protoProps;return(protoProps=[{key:"getPageView",value:function(index){return this._pages[index]}},{key:"_setCurrentPageNumber",value:function(val){var resetCurrentPageView=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===val?(resetCurrentPageView&&this._resetCurrentPageView(),!0):0<val&&val<=this.pagesCount&&(this._currentPageNumber=val,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:val,pageLabel:this._pageLabels&&this._pageLabels[val-1]}),resetCurrentPageView&&this._resetCurrentPageView(),!0)}},{key:"setDocument",value:function(pdfDocument){var _this2=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=pdfDocument,pdfDocument){var pagesCount=pdfDocument.numPages,pagesCapability=(0,_pdfjsLib.createPromiseCapability)();this.pagesPromise=pagesCapability.promise,pagesCapability.promise.then((function(){_this2._pageViewsReady=!0,_this2.eventBus.dispatch("pagesloaded",{source:_this2,pagesCount:pagesCount})}));var onePageRenderedCapability=(0,_pdfjsLib.createPromiseCapability)();this.onePageRendered=onePageRenderedCapability.promise;var firstPagePromise=pdfDocument.getPage(1);this.firstPagePromise=firstPagePromise,this._onBeforeDraw=function(evt){var pageView=_this2._pages[evt.pageNumber-1];pageView&&_this2._buffer.push(pageView)},this.eventBus.on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(evt){evt.cssTransform||onePageRenderedCapability.settled||(onePageRenderedCapability.resolve(),_this2.eventBus.off("pagerendered",_this2._onAfterDraw),_this2._onAfterDraw=null)},this.eventBus.on("pagerendered",this._onAfterDraw),firstPagePromise.then((function(pdfPage){for(var scale=_this2.currentScale,viewport=pdfPage.getViewport({scale:scale*_ui_utils.CSS_UNITS}),pageNum=1;pageNum<=pagesCount;++pageNum){var textLayerFactory=null;_this2.textLayerMode!==_ui_utils.TextLayerMode.DISABLE&&(textLayerFactory=_this2);var pageView=new _pdf_page_view.PDFPageView({container:_this2._setDocumentViewerElement,eventBus:_this2.eventBus,id:pageNum,scale:scale,defaultViewport:viewport.clone(),renderingQueue:_this2.renderingQueue,textLayerFactory:textLayerFactory,textLayerMode:_this2.textLayerMode,annotationLayerFactory:_this2,imageResourcesPath:_this2.imageResourcesPath,renderInteractiveForms:_this2.renderInteractiveForms,renderer:_this2.renderer,enableWebGL:_this2.enableWebGL,useOnlyCssZoom:_this2.useOnlyCssZoom,maxCanvasPixels:_this2.maxCanvasPixels,l10n:_this2.l10n});_this2._pages.push(pageView)}_this2._spreadMode!==_ui_utils.SpreadMode.NONE&&_this2._updateSpreadMode(),onePageRenderedCapability.promise.then((function(){if(_this2.findController&&_this2.findController.setDocument(pdfDocument),pdfDocument.loadingParams.disableAutoFetch)pagesCapability.resolve();else for(var getPagesLeft=pagesCount,_loop=function(_pageNum){pdfDocument.getPage(_pageNum).then((function(pdfPage){var pageView=_this2._pages[_pageNum-1];pageView.pdfPage||pageView.setPdfPage(pdfPage),_this2.linkService.cachePageRef(_pageNum,pdfPage.ref),0==--getPagesLeft&&pagesCapability.resolve()}),(function(reason){console.error("Unable to get page ".concat(_pageNum," to initialize viewer"),reason),0==--getPagesLeft&&pagesCapability.resolve()}))},_pageNum=1;_pageNum<=pagesCount;++_pageNum)_loop(_pageNum)})),_this2.eventBus.dispatch("pagesinit",{source:_this2}),_this2.defaultRenderingQueue&&_this2.update()})).catch((function(reason){console.error("Unable to initialize viewer",reason)}))}}},{key:"setPageLabels",value:function(labels){if(this.pdfDocument){labels?Array.isArray(labels)&&this.pdfDocument.numPages===labels.length?this._pageLabels=labels:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var i=0,ii=this._pages.length;i<ii;i++)this._pages[i].setPageLabel(this._pageLabels&&this._pageLabels[i])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=_ui_utils.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new PDFPageViewBuffer(10),this._location=null,this._pagesRotation=0,this._pagesRequests=[],this._pageViewsReady=!1,this._scrollMode=_ui_utils.ScrollMode.VERTICAL,this._spreadMode=_ui_utils.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus.off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus.off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(_ref){var _ref$pageSpot=_ref.pageSpot;(0,_ui_utils.scrollIntoView)(_ref.pageDiv,void 0===_ref$pageSpot?null:_ref$pageSpot)}},{key:"_setScaleUpdatePages",value:function(newScale,newValue){var noScroll=arguments.length>2&&void 0!==arguments[2]&&arguments[2],preset=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=newValue.toString(),isSameScale(this._currentScale,newScale))preset&&this.eventBus.dispatch("scalechanging",{source:this,scale:newScale,presetValue:newValue});else{for(var i=0,ii=this._pages.length;i<ii;i++)this._pages[i].update(newScale);if(this._currentScale=newScale,!noScroll){var dest,page=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(page=this._location.pageNumber,dest=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:page,destArray:dest,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:newScale,presetValue:preset?newValue:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(value){var noScroll=arguments.length>1&&void 0!==arguments[1]&&arguments[1],scale=parseFloat(value);if(scale>0)this._setScaleUpdatePages(scale,value,noScroll,!1);else{var currentPage=this._pages[this._currentPageNumber-1];if(!currentPage)return;var noPadding=this.isInPresentationMode||this.removePageBorders,hPadding=noPadding?0:_ui_utils.SCROLLBAR_PADDING,vPadding=noPadding?0:_ui_utils.VERTICAL_PADDING;if(!noPadding&&this._isScrollModeHorizontal){var _ref2=[vPadding,hPadding];hPadding=_ref2[0],vPadding=_ref2[1]}var pageWidthScale=(this.container.clientWidth-hPadding)/currentPage.width*currentPage.scale,pageHeightScale=(this.container.clientHeight-vPadding)/currentPage.height*currentPage.scale;switch(value){case"page-actual":scale=1;break;case"page-width":scale=pageWidthScale;break;case"page-height":scale=pageHeightScale;break;case"page-fit":scale=Math.min(pageWidthScale,pageHeightScale);break;case"auto":var horizontalScale=(0,_ui_utils.isPortraitOrientation)(currentPage)?pageWidthScale:Math.min(pageHeightScale,pageWidthScale);scale=Math.min(_ui_utils.MAX_AUTO_SCALE,horizontalScale);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(value,'" is an unknown zoom value.'))}this._setScaleUpdatePages(scale,value,noScroll,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(_ref3){var pageNumber=_ref3.pageNumber,_ref3$destArray=_ref3.destArray,destArray=void 0===_ref3$destArray?null:_ref3$destArray,_ref3$allowNegativeOf=_ref3.allowNegativeOffset,allowNegativeOffset=void 0!==_ref3$allowNegativeOf&&_ref3$allowNegativeOf;if(this.pdfDocument){var pageView=Number.isInteger(pageNumber)&&this._pages[pageNumber-1];if(pageView)if(!this.isInPresentationMode&&destArray){var heightScale,x=0,y=0,width=0,height=0,changeOrientation=pageView.rotation%180!=0,pageWidth=(changeOrientation?pageView.height:pageView.width)/pageView.scale/_ui_utils.CSS_UNITS,pageHeight=(changeOrientation?pageView.width:pageView.height)/pageView.scale/_ui_utils.CSS_UNITS,scale=0;switch(destArray[1].name){case"XYZ":scale=destArray[4],x=null!==(x=destArray[2])?x:0,y=null!==(y=destArray[3])?y:pageHeight;break;case"Fit":case"FitB":scale="page-fit";break;case"FitH":case"FitBH":scale="page-width",null===(y=destArray[2])&&this._location&&(x=this._location.left,y=this._location.top);break;case"FitV":case"FitBV":x=destArray[2],width=pageWidth,height=pageHeight,scale="page-height";break;case"FitR":width=destArray[4]-(x=destArray[2]),heightScale=(this.container.clientHeight-(this.removePageBorders?0:_ui_utils.VERTICAL_PADDING))/(height=destArray[5]-(y=destArray[3]))/_ui_utils.CSS_UNITS,scale=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:_ui_utils.SCROLLBAR_PADDING))/width/_ui_utils.CSS_UNITS),Math.abs(heightScale));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(destArray[1].name,'" is not a valid destination type.'))}if(scale&&scale!==this._currentScale?this.currentScaleValue=scale:this._currentScale===_ui_utils.UNKNOWN_SCALE&&(this.currentScaleValue=_ui_utils.DEFAULT_SCALE_VALUE),"page-fit"!==scale||destArray[4]){var boundingRect=[pageView.viewport.convertToViewportPoint(x,y),pageView.viewport.convertToViewportPoint(x+width,y+height)],left=Math.min(boundingRect[0][0],boundingRect[1][0]),top=Math.min(boundingRect[0][1],boundingRect[1][1]);allowNegativeOffset||(left=Math.max(left,0),top=Math.max(top,0)),this._scrollIntoView({pageDiv:pageView.div,pageSpot:{left:left,top:top},pageNumber:pageNumber})}else this._scrollIntoView({pageDiv:pageView.div,pageNumber:pageNumber})}else this._setCurrentPageNumber(pageNumber,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(pageNumber,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(firstPage){var currentScale=this._currentScale,currentScaleValue=this._currentScaleValue,normalizedScaleValue=parseFloat(currentScaleValue)===currentScale?Math.round(1e4*currentScale)/100:currentScaleValue,pageNumber=firstPage.id,pdfOpenParams="#page="+pageNumber;pdfOpenParams+="&zoom="+normalizedScaleValue;var container=this.container,topLeft=this._pages[pageNumber-1].getPagePoint(container.scrollLeft-firstPage.x,container.scrollTop-firstPage.y),intLeft=Math.round(topLeft[0]),intTop=Math.round(topLeft[1]);this._location={pageNumber:pageNumber,scale:normalizedScaleValue,top:intTop,left:intLeft,rotation:this._pagesRotation,pdfOpenParams:pdfOpenParams+=","+intLeft+","+intTop}}},{key:"_updateHelper",value:function(visiblePages){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var visible=this._getVisiblePages(),visiblePages=visible.views,numVisiblePages=visiblePages.length;if(0!==numVisiblePages){var newCacheSize=Math.max(10,2*numVisiblePages+1);this._buffer.resize(newCacheSize,visiblePages),this.renderingQueue.renderHighestPriority(visible),this._updateHelper(visiblePages),this._updateLocation(visible.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(element){return this.container.contains(element)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var pageView=this._pages[this._currentPageNumber-1],element=pageView.div,view={id:pageView.id,x:element.offsetLeft+element.clientLeft,y:element.offsetTop+element.clientTop,view:pageView};return{first:view,last:view,views:[view]}}},{key:"_getVisiblePages",value:function(){return(0,_ui_utils.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(pageNumber){return!!this.pdfDocument&&(this.pageNumber<1||pageNumber>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(pageNumber,'" is out of bounds.')),!1):this._getVisiblePages().views.some((function(view){return view.id===pageNumber})))}},{key:"cleanup",value:function(){for(var i=0,ii=this._pages.length;i<ii;i++)this._pages[i]&&this._pages[i].renderingState!==_pdf_rendering_queue.RenderingStates.FINISHED&&this._pages[i].reset()}},{key:"_cancelRendering",value:function(){for(var i=0,ii=this._pages.length;i<ii;i++)this._pages[i]&&this._pages[i].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(pageView){var _this3=this;if(pageView.pdfPage)return Promise.resolve(pageView.pdfPage);var pageNumber=pageView.id;if(this._pagesRequests[pageNumber])return this._pagesRequests[pageNumber];var promise=this.pdfDocument.getPage(pageNumber).then((function(pdfPage){return pageView.pdfPage||pageView.setPdfPage(pdfPage),_this3._pagesRequests[pageNumber]=null,pdfPage})).catch((function(reason){console.error("Unable to get page for page view",reason),_this3._pagesRequests[pageNumber]=null}));return this._pagesRequests[pageNumber]=promise,promise}},{key:"forceRendering",value:function(currentlyVisiblePages){var _this4=this,visiblePages=currentlyVisiblePages||this._getVisiblePages(),pageView=this.renderingQueue.getHighestPriority(visiblePages,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!pageView&&(this._ensurePdfPageLoaded(pageView).then((function(){_this4.renderingQueue.renderView(pageView)})),!0)}},{key:"createTextLayerBuilder",value:function(textLayerDiv,pageIndex,viewport){var enhanceTextSelection=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _text_layer_builder.TextLayerBuilder({textLayerDiv:textLayerDiv,eventBus:this.eventBus,pageIndex:pageIndex,viewport:viewport,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&enhanceTextSelection})}},{key:"createAnnotationLayerBuilder",value:function(pageDiv,pdfPage){var imageResourcesPath=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l10n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_ui_utils.NullL10n;return new _annotation_layer_builder.AnnotationLayerBuilder({pageDiv:pageDiv,pdfPage:pdfPage,imageResourcesPath:imageResourcesPath,renderInteractiveForms:renderInteractiveForms,linkService:this.linkService,downloadManager:this.downloadManager,l10n:l10n})}},{key:"getPagesOverview",value:function(){var pagesOverview=this._pages.map((function(pageView){var viewport=pageView.pdfPage.getViewport({scale:1});return{width:viewport.width,height:viewport.height,rotation:viewport.rotation}}));if(!this.enablePrintAutoRotate)return pagesOverview;var isFirstPagePortrait=(0,_ui_utils.isPortraitOrientation)(pagesOverview[0]);return pagesOverview.map((function(size){return isFirstPagePortrait===(0,_ui_utils.isPortraitOrientation)(size)?size:{width:size.height,height:size.width,rotation:(size.rotation+90)%360}}))}},{key:"_updateScrollMode",value:function(){var pageNumber=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,scrollMode=this._scrollMode,viewer=this.viewer;viewer.classList.toggle("scrollHorizontal",scrollMode===_ui_utils.ScrollMode.HORIZONTAL),viewer.classList.toggle("scrollWrapped",scrollMode===_ui_utils.ScrollMode.WRAPPED),this.pdfDocument&&pageNumber&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(pageNumber,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var pageNumber=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var viewer=this.viewer,pages=this._pages;if(viewer.textContent="",this._spreadMode===_ui_utils.SpreadMode.NONE)for(var i=0,iMax=pages.length;i<iMax;++i)viewer.appendChild(pages[i].div);else for(var parity=this._spreadMode-1,spread=null,_i=0,_iMax=pages.length;_i<_iMax;++_i)null===spread?((spread=document.createElement("div")).className="spread",viewer.appendChild(spread)):_i%2===parity&&(spread=spread.cloneNode(!1),viewer.appendChild(spread)),spread.appendChild(pages[_i].div);pageNumber&&(this._setCurrentPageNumber(pageNumber,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(val){if(!Number.isInteger(val))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(val,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(val,'" is not a valid page.')))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(val){if(this.pdfDocument){var page=0|val;if(this._pageLabels){var i=this._pageLabels.indexOf(val);i>=0&&(page=i+1)}this._setCurrentPageNumber(page,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(val,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==_ui_utils.UNKNOWN_SCALE?this._currentScale:_ui_utils.DEFAULT_SCALE},set:function(val){if(isNaN(val))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(val,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(val){this.pdfDocument&&this._setScale(val,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(rotation){if(!(0,_ui_utils.isValidRotation)(rotation))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==rotation){this._pagesRotation=rotation;for(var pageNumber=this._currentPageNumber,i=0,ii=this._pages.length;i<ii;i++){var pageView=this._pages[i];pageView.update(pageView.scale,rotation)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:rotation,pageNumber:pageNumber}),this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw new Error("Not implemented: _setDocumentViewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===_ui_utils.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===_ui_utils.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===_ui_utils.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var firstPageView=this._pages[0],i=1,ii=this._pages.length;i<ii;++i){var pageView=this._pages[i];if(pageView.width!==firstPageView.width||pageView.height!==firstPageView.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(mode){if(this._scrollMode!==mode){if(!(0,_ui_utils.isValidScrollMode)(mode))throw new Error("Invalid scroll mode: ".concat(mode));this._scrollMode=mode,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:mode}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(mode){if(this._spreadMode!==mode){if(!(0,_ui_utils.isValidSpreadMode)(mode))throw new Error("Invalid spread mode: ".concat(mode));this._spreadMode=mode,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:mode}),this._updateSpreadMode(this._currentPageNumber)}}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(BaseViewer.prototype,protoProps),BaseViewer}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFViewer=void 0;var _base_viewer=__w_pdfjs_require__(19),_pdfjsLib=__w_pdfjs_require__(2);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}exports.PDFViewer=function(_BaseViewer){function PDFViewer(){return _classCallCheck(this,PDFViewer),_possibleConstructorReturn(this,_getPrototypeOf(PDFViewer).apply(this,arguments))}var protoProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PDFViewer,_BaseViewer),(protoProps=[{key:"_scrollIntoView",value:function(_ref){var pageDiv=_ref.pageDiv,_ref$pageSpot=_ref.pageSpot,pageSpot=void 0===_ref$pageSpot?null:_ref$pageSpot,_ref$pageNumber=_ref.pageNumber,pageNumber=void 0===_ref$pageNumber?null:_ref$pageNumber;if(!pageSpot&&!this.isInPresentationMode){var left=pageDiv.offsetLeft+pageDiv.clientLeft,_this$container=this.container,scrollLeft=_this$container.scrollLeft;(this._isScrollModeHorizontal||left<scrollLeft||left+pageDiv.clientWidth>scrollLeft+_this$container.clientWidth)&&(pageSpot={left:0,top:0})}_get(_getPrototypeOf(PDFViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:pageDiv,pageSpot:pageSpot,pageNumber:pageNumber})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():_get(_getPrototypeOf(PDFViewer.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(visiblePages){if(!this.isInPresentationMode){var currentId=this._currentPageNumber,stillFullyVisible=!1,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=visiblePages[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var page=_step.value;if(page.percent<100)break;if(page.id===currentId){stillFullyVisible=!0;break}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}stillFullyVisible||(currentId=visiblePages[0].id),this._setCurrentPageNumber(currentId)}}},{key:"_setDocumentViewerElement",get:function(){return(0,_pdfjsLib.shadow)(this,"_setDocumentViewerElement",this.viewer)}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(PDFViewer.prototype,protoProps),PDFViewer}(_base_viewer.BaseViewer)}])},module.exports=factory()},r8II:function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__("YcCt"),exports.encode=exports.stringify=__webpack_require__("6MUB")},rWzI:function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__;!function(root){"object"==typeof global&&global;var punycode,maxInt=2147483647,regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,(function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+stringFromCharCode(value)})).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,codePoint,output=[],inputLength=input.length,i=0,n=128,bias=72;for((basic=input.lastIndexOf("-"))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=36;index>=inputLength&&error("invalid-input"),((digit=(codePoint=input.charCodeAt(index++))-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:36)>=36||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?1:k>=bias+26?26:k-bias));k+=36)w>floor(maxInt/(baseMinusT=36-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=128,delta=0,bias=72,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push("-");handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=36;!(q<(t=k<=bias?1:k>=bias+26?26:k-bias));k+=36)output.push(stringFromCharCode(digitToBasic(t+(qMinusT=q-t)%(baseMinusT=36-t),0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}punycode={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))},toUnicode:function(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return punycode}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}).call(this,__webpack_require__("YuTi")(module))}}]);